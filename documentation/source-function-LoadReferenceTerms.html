<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.7.0" />
	<meta name="robots" content="noindex" />

	<title>File DefaultTerms.php | MyWrapper Reference Documentation</title>

	<script type="text/javascript" src="resources/combined.js?496895167"></script>
	<script type="text/javascript" src="elementlist.js?8330787"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?1567499433" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li class="active main"><a href="package-MyWrapper.html">MyWrapper<span></span></a>
						<ul>
				<li class="active main"><a href="package-MyWrapper.Data.html">Data</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Entities.html">Entities</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Framework.html">Framework</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Ontology.html">Ontology</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Persistence.html">Persistence</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Session.html">Session</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Traits.html">Traits</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Wrappers.html">Wrappers</a>
						</li>
							</ul></li>
				<li><a href="package-None.html">None</a>
						</li>
				<li><a href="package-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr />


		<div id="elements">





			<h3>Functions</h3>
			<ul>
				<li><a href="function-Index.html">Index</a></li>
				<li><a href="function-LoadAttributeTerms.html">LoadAttributeTerms</a></li>
				<li><a href="function-LoadCardinalityTypes.html">LoadCardinalityTypes</a></li>
				<li><a href="function-LoadCompositeTypes.html">LoadCompositeTypes</a></li>
				<li><a href="function-LoadCropGroupDescriptors.html">LoadCropGroupDescriptors</a></li>
				<li><a href="function-LoadCustomTypes.html">LoadCustomTypes</a></li>
				<li><a href="function-LoadDatadictStructs.html">LoadDatadictStructs</a></li>
				<li><a href="function-LoadDatasetDatadict.html">LoadDatasetDatadict</a></li>
				<li><a href="function-LoadDefaultCategories.html">LoadDefaultCategories</a></li>
				<li><a href="function-LoadDefaultDomains.html">LoadDefaultDomains</a></li>
				<li><a href="function-LoadEncodedTypes.html">LoadEncodedTypes</a></li>
				<li><a href="function-LoadEntityDatadict.html">LoadEntityDatadict</a></li>
				<li><a href="function-LoadEntityTypes.html">LoadEntityTypes</a></li>
				<li><a href="function-LoadFAOInstituteDDict.html">LoadFAOInstituteDDict</a></li>
				<li><a href="function-LoadFAOInstitutes.html">LoadFAOInstitutes</a></li>
				<li><a href="function-LoadIdentifierTerms.html">LoadIdentifierTerms</a></li>
				<li><a href="function-LoadISO.html">LoadISO</a></li>
				<li><a href="function-LoadMailProperties.html">LoadMailProperties</a></li>
				<li><a href="function-LoadMCPD.html">LoadMCPD</a></li>
				<li><a href="function-LoadNamespaces.html">LoadNamespaces</a></li>
				<li><a href="function-LoadOperatorTypes.html">LoadOperatorTypes</a></li>
				<li><a href="function-LoadPredicates.html">LoadPredicates</a></li>
				<li><a href="function-LoadPrimitiveTypes.html">LoadPrimitiveTypes</a></li>
				<li><a href="function-LoadPropertyTerms.html">LoadPropertyTerms</a></li>
				<li class="active"><a href="function-LoadReferenceTerms.html">LoadReferenceTerms</a></li>
				<li><a href="function-LoadReferenceTypes.html">LoadReferenceTypes</a></li>
				<li><a href="function-LoadStructuredTypes.html">LoadStructuredTypes</a></li>
				<li><a href="function-LoadTerms.html">LoadTerms</a></li>
				<li><a href="function-LoadTermTypes.html">LoadTermTypes</a></li>
				<li><a href="function-LoadUnStatsRegions.html">LoadUnStatsRegions</a></li>
			</ul>
		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-MyWrapper.Data.html" title="Summary of MyWrapper\Data"><span>Package</span></a>
			</li>
			<li>
				<a href="function-LoadReferenceTerms.html" title="Summary of LoadReferenceTerms"><span>Function</span></a>
			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<pre><code><a href="#1" id="1" class="l">    1: </a><span class="xlang">&lt;?php</span>
<a href="#2" id="2" class="l">    2: </a>
<a href="#3" id="3" class="l">    3: </a><span class="php-comment">/**
</span><a href="#4" id="4" class="l">    4: </a><span class="php-comment"> * &lt;i&gt;Attributes&lt;/i&gt; data definitions.
</span><a href="#5" id="5" class="l">    5: </a><span class="php-comment"> *
</span><a href="#6" id="6" class="l">    6: </a><span class="php-comment"> * This file contains the default attribute definitions.
</span><a href="#7" id="7" class="l">    7: </a><span class="php-comment"> *
</span><a href="#8" id="8" class="l">    8: </a><span class="php-comment"> *  @package    MyWrapper
</span><a href="#9" id="9" class="l">    9: </a><span class="php-comment"> *  @subpackage Data
</span><a href="#10" id="10" class="l">   10: </a><span class="php-comment"> *
</span><a href="#11" id="11" class="l">   11: </a><span class="php-comment"> *  @author     Milko A. Škofič &lt;m.skofic@cgiar.org&gt;
</span><a href="#12" id="12" class="l">   12: </a><span class="php-comment"> *  @version    1.00 16/04/2012
</span><a href="#13" id="13" class="l">   13: </a><span class="php-comment"> */</span>
<a href="#14" id="14" class="l">   14: </a>
<a href="#15" id="15" class="l">   15: </a><span class="php-comment">/*=======================================================================================
</span><a href="#16" id="16" class="l">   16: </a><span class="php-comment"> *                                                                                      *
</span><a href="#17" id="17" class="l">   17: </a><span class="php-comment"> *                                  DefaultTerms.php                                    *
</span><a href="#18" id="18" class="l">   18: </a><span class="php-comment"> *                                                                                      *
</span><a href="#19" id="19" class="l">   19: </a><span class="php-comment"> *======================================================================================*/</span>
<a href="#20" id="20" class="l">   20: </a>
<a href="#21" id="21" class="l">   21: </a><span class="php-comment">/**
</span><a href="#22" id="22" class="l">   22: </a><span class="php-comment"> * Includes.
</span><a href="#23" id="23" class="l">   23: </a><span class="php-comment"> *
</span><a href="#24" id="24" class="l">   24: </a><span class="php-comment"> * This include file contains the default definitions and symbols.
</span><a href="#25" id="25" class="l">   25: </a><span class="php-comment"> */</span>
<a href="#26" id="26" class="l">   26: </a><span class="php-keyword1">require_once</span>( <span class="php-quote">&quot;/Library/WebServer/Library/wrapper/includes.inc.php&quot;</span> );
<a href="#27" id="27" class="l">   27: </a>
<a href="#28" id="28" class="l">   28: </a><span class="php-comment">/**
</span><a href="#29" id="29" class="l">   29: </a><span class="php-comment"> * Categories environment.
</span><a href="#30" id="30" class="l">   30: </a><span class="php-comment"> *
</span><a href="#31" id="31" class="l">   31: </a><span class="php-comment"> * This include file contains the default domain and category definitions.
</span><a href="#32" id="32" class="l">   32: </a><span class="php-comment"> */</span>
<a href="#33" id="33" class="l">   33: </a><span class="php-keyword1">require_once</span>( <span class="php-quote">&quot;/Library/WebServer/Library/wrapper/local/categories.inc.php&quot;</span> );
<a href="#34" id="34" class="l">   34: </a>
<a href="#35" id="35" class="l">   35: </a><span class="php-comment">/**
</span><a href="#36" id="36" class="l">   36: </a><span class="php-comment"> * Server environment.
</span><a href="#37" id="37" class="l">   37: </a><span class="php-comment"> *
</span><a href="#38" id="38" class="l">   38: </a><span class="php-comment"> * This include file contains the server run-time definitions.
</span><a href="#39" id="39" class="l">   39: </a><span class="php-comment"> */</span>
<a href="#40" id="40" class="l">   40: </a><span class="php-keyword1">require_once</span>( <span class="php-quote">&quot;/Library/WebServer/Library/wrapper/local/server.inc.php&quot;</span> );
<a href="#41" id="41" class="l">   41: </a>
<a href="#42" id="42" class="l">   42: </a><span class="php-comment">/**
</span><a href="#43" id="43" class="l">   43: </a><span class="php-comment"> * Site environment.
</span><a href="#44" id="44" class="l">   44: </a><span class="php-comment"> *
</span><a href="#45" id="45" class="l">   45: </a><span class="php-comment"> * This include file contains the site run-time definitions.
</span><a href="#46" id="46" class="l">   46: </a><span class="php-comment"> */</span>
<a href="#47" id="47" class="l">   47: </a><span class="php-keyword1">require_once</span>( <span class="php-quote">&quot;site.inc.php&quot;</span> );
<a href="#48" id="48" class="l">   48: </a>
<a href="#49" id="49" class="l">   49: </a><span class="php-comment">/**
</span><a href="#50" id="50" class="l">   50: </a><span class="php-comment"> * ADODB library.
</span><a href="#51" id="51" class="l">   51: </a><span class="php-comment"> */</span>
<a href="#52" id="52" class="l">   52: </a><span class="php-keyword1">require_once</span>( kPATH_LIB_ADODB.<span class="php-quote">&quot;adodb.inc.php&quot;</span> );
<a href="#53" id="53" class="l">   53: </a>
<a href="#54" id="54" class="l">   54: </a><span class="php-comment">/**
</span><a href="#55" id="55" class="l">   55: </a><span class="php-comment"> * ADODB iterators.
</span><a href="#56" id="56" class="l">   56: </a><span class="php-comment"> */</span>
<a href="#57" id="57" class="l">   57: </a><span class="php-keyword1">require_once</span>( kPATH_LIB_ADODB.<span class="php-quote">&quot;adodb-iterator.inc.php&quot;</span> );
<a href="#58" id="58" class="l">   58: </a>
<a href="#59" id="59" class="l">   59: </a><span class="php-comment">/**
</span><a href="#60" id="60" class="l">   60: </a><span class="php-comment"> * ADODB exceptions.
</span><a href="#61" id="61" class="l">   61: </a><span class="php-comment"> */</span>
<a href="#62" id="62" class="l">   62: </a><span class="php-keyword1">require_once</span>( kPATH_LIB_ADODB.<span class="php-quote">&quot;adodb-exceptions.inc.php&quot;</span> );
<a href="#63" id="63" class="l">   63: </a>
<a href="#64" id="64" class="l">   64: </a><span class="php-comment">/**
</span><a href="#65" id="65" class="l">   65: </a><span class="php-comment"> * Operators.
</span><a href="#66" id="66" class="l">   66: </a><span class="php-comment"> *
</span><a href="#67" id="67" class="l">   67: </a><span class="php-comment"> * This include file contains all operator definitions.
</span><a href="#68" id="68" class="l">   68: </a><span class="php-comment"> */</span>
<a href="#69" id="69" class="l">   69: </a><span class="php-keyword1">require_once</span>( kPATH_LIBRARY_DEFINES.<span class="php-quote">&quot;Operators.inc.php&quot;</span> );
<a href="#70" id="70" class="l">   70: </a>
<a href="#71" id="71" class="l">   71: </a><span class="php-comment">/**
</span><a href="#72" id="72" class="l">   72: </a><span class="php-comment"> * Session.
</span><a href="#73" id="73" class="l">   73: </a><span class="php-comment"> *
</span><a href="#74" id="74" class="l">   74: </a><span class="php-comment"> * This include file contains the session tag definitions.
</span><a href="#75" id="75" class="l">   75: </a><span class="php-comment"> */</span>
<a href="#76" id="76" class="l">   76: </a><span class="php-keyword1">require_once</span>( kPATH_LIBRARY_DEFINES.<span class="php-quote">&quot;Session.inc.php&quot;</span> );
<a href="#77" id="77" class="l">   77: </a>
<a href="#78" id="78" class="l">   78: </a><span class="php-comment">/**
</span><a href="#79" id="79" class="l">   79: </a><span class="php-comment"> * Terms.
</span><a href="#80" id="80" class="l">   80: </a><span class="php-comment"> *
</span><a href="#81" id="81" class="l">   81: </a><span class="php-comment"> * This include file contains the ontology terms class definitions.
</span><a href="#82" id="82" class="l">   82: </a><span class="php-comment"> */</span>
<a href="#83" id="83" class="l">   83: </a><span class="php-keyword1">require_once</span>( kPATH_LIBRARY_SOURCE.<span class="php-quote">&quot;COntologyTerm.php&quot;</span> );
<a href="#84" id="84" class="l">   84: </a>
<a href="#85" id="85" class="l">   85: </a><span class="php-comment">/**
</span><a href="#86" id="86" class="l">   86: </a><span class="php-comment"> * FAO Institutes.
</span><a href="#87" id="87" class="l">   87: </a><span class="php-comment"> *
</span><a href="#88" id="88" class="l">   88: </a><span class="php-comment"> * This include file contains the ontology terms class definitions.
</span><a href="#89" id="89" class="l">   89: </a><span class="php-comment"> */</span>
<a href="#90" id="90" class="l">   90: </a><span class="php-keyword1">require_once</span>( kPATH_LIBRARY_SOURCE.<span class="php-quote">&quot;CFAOInstitute.php&quot;</span> );
<a href="#91" id="91" class="l">   91: </a>
<a href="#92" id="92" class="l">   92: </a><span class="php-comment">/**
</span><a href="#93" id="93" class="l">   93: </a><span class="php-comment"> * Users.
</span><a href="#94" id="94" class="l">   94: </a><span class="php-comment"> *
</span><a href="#95" id="95" class="l">   95: </a><span class="php-comment"> * This include file contains the user terms class definitions.
</span><a href="#96" id="96" class="l">   96: </a><span class="php-comment"> */</span>
<a href="#97" id="97" class="l">   97: </a><span class="php-keyword1">require_once</span>( kPATH_LIBRARY_SOURCE.<span class="php-quote">&quot;CUser.inc.php&quot;</span> );
<a href="#98" id="98" class="l">   98: </a>
<a href="#99" id="99" class="l">   99: </a><span class="php-comment">//</span>
<a href="#100" id="100" class="l">  100: </a><span class="php-comment">// Class includes.</span>
<a href="#101" id="101" class="l">  101: </a><span class="php-comment">//</span>
<a href="#102" id="102" class="l">  102: </a><span class="php-keyword1">require_once</span>( kPATH_LIBRARY_SOURCE.<span class="php-quote">&quot;COntologyEdge.php&quot;</span> );
<a href="#103" id="103" class="l">  103: </a>
<a href="#104" id="104" class="l">  104: </a><span class="php-keyword1">use</span> Everyman\Neo4j\Transport,
<a href="#105" id="105" class="l">  105: </a>    Everyman\Neo4j\Client,
<a href="#106" id="106" class="l">  106: </a>    Everyman\Neo4j\Index\NodeIndex,
<a href="#107" id="107" class="l">  107: </a>    Everyman\Neo4j\Index\RelationshipIndex,
<a href="#108" id="108" class="l">  108: </a>    Everyman\Neo4j\Index\NodeFulltextIndex,
<a href="#109" id="109" class="l">  109: </a>    Everyman\Neo4j\Node,
<a href="#110" id="110" class="l">  110: </a>    Everyman\Neo4j\Batch;
<a href="#111" id="111" class="l">  111: </a>
<a href="#112" id="112" class="l">  112: </a>        
<a href="#113" id="113" class="l">  113: </a>
<a href="#114" id="114" class="l">  114: </a><span class="php-comment">/*=======================================================================================
</span><a href="#115" id="115" class="l">  115: </a><span class="php-comment"> *                                                                                      *
</span><a href="#116" id="116" class="l">  116: </a><span class="php-comment"> *                                          MAIN                                        *
</span><a href="#117" id="117" class="l">  117: </a><span class="php-comment"> *                                                                                      *
</span><a href="#118" id="118" class="l">  118: </a><span class="php-comment"> *======================================================================================*/</span>
<a href="#119" id="119" class="l">  119: </a>
<a href="#120" id="120" class="l">  120: </a>
<a href="#121" id="121" class="l">  121: </a>
<a href="#122" id="122" class="l">  122: </a><span class="php-comment">/**
</span><a href="#123" id="123" class="l">  123: </a><span class="php-comment"> * Open session.
</span><a href="#124" id="124" class="l">  124: </a><span class="php-comment"> */</span>
<a href="#125" id="125" class="l">  125: </a><span class="php-keyword2">session_start</span>();
<a href="#126" id="126" class="l">  126: </a>
<a href="#127" id="127" class="l">  127: </a><span class="php-comment">/**
</span><a href="#128" id="128" class="l">  128: </a><span class="php-comment"> * Init session variables.
</span><a href="#129" id="129" class="l">  129: </a><span class="php-comment"> */</span>
<a href="#130" id="130" class="l">  130: </a><span class="php-var">$_SESSION</span>[ <span class="php-quote">'TERMS'</span> ] = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ] = <span class="php-keyword1">Array</span>();
<a href="#131" id="131" class="l">  131: </a>     
<a href="#132" id="132" class="l">  132: </a><span class="php-comment">/**
</span><a href="#133" id="133" class="l">  133: </a><span class="php-comment"> * Create default attributes ontology.
</span><a href="#134" id="134" class="l">  134: </a><span class="php-comment"> *
</span><a href="#135" id="135" class="l">  135: </a><span class="php-comment"> *  @package    MyWrapper
</span><a href="#136" id="136" class="l">  136: </a><span class="php-comment"> *  @subpackage Data
</span><a href="#137" id="137" class="l">  137: </a><span class="php-comment"> */</span>
<a href="#138" id="138" class="l">  138: </a><span class="php-keyword1">try</span>
<a href="#139" id="139" class="l">  139: </a>{
<a href="#140" id="140" class="l">  140: </a>    <span class="php-comment">//</span>
<a href="#141" id="141" class="l">  141: </a>    <span class="php-comment">// Connect.</span>
<a href="#142" id="142" class="l">  142: </a>    <span class="php-comment">//</span>
<a href="#143" id="143" class="l">  143: </a>    Connect( kDEFAULT_DATABASE, kDEFAULT_CNT_TERMS, <span class="php-keyword1">FALSE</span> );
<a href="#144" id="144" class="l">  144: </a>    Index();
<a href="#145" id="145" class="l">  145: </a>    
<a href="#146" id="146" class="l">  146: </a>    <span class="php-comment">//</span>
<a href="#147" id="147" class="l">  147: </a>    <span class="php-comment">// Load types.</span>
<a href="#148" id="148" class="l">  148: </a>    <span class="php-comment">//</span>
<a href="#149" id="149" class="l">  149: </a>    LoadNamespaces( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#150" id="150" class="l">  150: </a>    LoadPredicates( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#151" id="151" class="l">  151: </a>    LoadPrimitiveTypes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#152" id="152" class="l">  152: </a>    LoadCompositeTypes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#153" id="153" class="l">  153: </a>    LoadStructuredTypes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#154" id="154" class="l">  154: </a>    LoadEncodedTypes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#155" id="155" class="l">  155: </a>    LoadReferenceTypes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#156" id="156" class="l">  156: </a>    LoadTermTypes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#157" id="157" class="l">  157: </a>    LoadCardinalityTypes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#158" id="158" class="l">  158: </a>    LoadOperatorTypes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#159" id="159" class="l">  159: </a>    LoadEntityTypes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#160" id="160" class="l">  160: </a>    LoadCustomTypes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#161" id="161" class="l">  161: </a>    
<a href="#162" id="162" class="l">  162: </a>    <span class="php-comment">//</span>
<a href="#163" id="163" class="l">  163: </a>    <span class="php-comment">// Load terms.</span>
<a href="#164" id="164" class="l">  164: </a>    <span class="php-comment">//</span>
<a href="#165" id="165" class="l">  165: </a>    LoadIdentifierTerms( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#166" id="166" class="l">  166: </a>    LoadReferenceTerms( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#167" id="167" class="l">  167: </a>    LoadAttributeTerms( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#168" id="168" class="l">  168: </a>    LoadPropertyTerms( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#169" id="169" class="l">  169: </a>    
<a href="#170" id="170" class="l">  170: </a>    <span class="php-comment">//</span>
<a href="#171" id="171" class="l">  171: </a>    <span class="php-comment">// Load properties.</span>
<a href="#172" id="172" class="l">  172: </a>    <span class="php-comment">//</span>
<a href="#173" id="173" class="l">  173: </a>    LoadMailProperties( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#174" id="174" class="l">  174: </a>    
<a href="#175" id="175" class="l">  175: </a>    <span class="php-comment">//</span>
<a href="#176" id="176" class="l">  176: </a>    <span class="php-comment">// Load Standards.</span>
<a href="#177" id="177" class="l">  177: </a>    <span class="php-comment">//</span>
<a href="#178" id="178" class="l">  178: </a>    LoadDefaultDomains( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#179" id="179" class="l">  179: </a>    LoadDefaultCategories( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#180" id="180" class="l">  180: </a>    LoadCropGroupDescriptors( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#181" id="181" class="l">  181: </a>    LoadUnStatsRegions( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#182" id="182" class="l">  182: </a>    LoadISO( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#183" id="183" class="l">  183: </a>    LoadMCPD( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#184" id="184" class="l">  184: </a>    
<a href="#185" id="185" class="l">  185: </a>    <span class="php-comment">//</span>
<a href="#186" id="186" class="l">  186: </a>    <span class="php-comment">// Load data dictionaries.</span>
<a href="#187" id="187" class="l">  187: </a>    <span class="php-comment">//</span>
<a href="#188" id="188" class="l">  188: </a>    LoadDatadictStructs( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#189" id="189" class="l">  189: </a>    LoadEntityDatadict( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#190" id="190" class="l">  190: </a>    LoadDatasetDatadict( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#191" id="191" class="l">  191: </a>    LoadFAOInstituteDDict( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#192" id="192" class="l">  192: </a>
<a href="#193" id="193" class="l">  193: </a>    <span class="php-comment">//</span>
<a href="#194" id="194" class="l">  194: </a>    <span class="php-comment">// Connect.</span>
<a href="#195" id="195" class="l">  195: </a>    <span class="php-comment">//</span>
<a href="#196" id="196" class="l">  196: </a>    Connect( kDEFAULT_DATABASE, kENTITY_CONTAINER, <span class="php-keyword1">FALSE</span> );
<a href="#197" id="197" class="l">  197: </a>    
<a href="#198" id="198" class="l">  198: </a>    <span class="php-comment">//</span>
<a href="#199" id="199" class="l">  199: </a>    <span class="php-comment">// Load FAO institutes.</span>
<a href="#200" id="200" class="l">  200: </a>    <span class="php-comment">//</span>
<a href="#201" id="201" class="l">  201: </a>    LoadFAOInstitutes( <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ], <span class="php-keyword1">TRUE</span> );
<a href="#202" id="202" class="l">  202: </a>
<a href="#203" id="203" class="l">  203: </a>} <span class="php-comment">// TRY BLOCK.</span>
<a href="#204" id="204" class="l">  204: </a>
<a href="#205" id="205" class="l">  205: </a><span class="php-comment">//</span>
<a href="#206" id="206" class="l">  206: </a><span class="php-comment">// CATCH BLOCK.</span>
<a href="#207" id="207" class="l">  207: </a><span class="php-comment">//</span>
<a href="#208" id="208" class="l">  208: </a><span class="php-keyword1">catch</span>( Exception <span class="php-var">$error</span> )
<a href="#209" id="209" class="l">  209: </a>{
<a href="#210" id="210" class="l">  210: </a><span class="php-comment">//  echo( CException::AsHTML( $error ) );</span>
<a href="#211" id="211" class="l">  211: </a>    <span class="php-keyword1">echo</span>( (string) <span class="php-var">$error</span> );
<a href="#212" id="212" class="l">  212: </a><span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span> );
<a href="#213" id="213" class="l">  213: </a><span class="php-keyword2">print_r</span>( <span class="php-var">$error</span>-&gt;Reference( <span class="php-quote">'Object'</span> ) );
<a href="#214" id="214" class="l">  214: </a><span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span> );
<a href="#215" id="215" class="l">  215: </a>}
<a href="#216" id="216" class="l">  216: </a>
<a href="#217" id="217" class="l">  217: </a><span class="php-comment">//</span>
<a href="#218" id="218" class="l">  218: </a><span class="php-comment">// Cleanup session.</span>
<a href="#219" id="219" class="l">  219: </a><span class="php-comment">// There may be closures in the session: these cannot be serialised.</span>
<a href="#220" id="220" class="l">  220: </a><span class="php-comment">//</span>
<a href="#221" id="221" class="l">  221: </a><span class="php-var">$_SESSION</span> = <span class="php-keyword1">Array</span>();
<a href="#222" id="222" class="l">  222: </a>
<a href="#223" id="223" class="l">  223: </a><span class="php-keyword1">exit</span>( <span class="php-quote">&quot;Done!\n&quot;</span> );
<a href="#224" id="224" class="l">  224: </a>
<a href="#225" id="225" class="l">  225: </a>        
<a href="#226" id="226" class="l">  226: </a>
<a href="#227" id="227" class="l">  227: </a><span class="php-comment">/*=======================================================================================
</span><a href="#228" id="228" class="l">  228: </a><span class="php-comment"> *                                                                                      *
</span><a href="#229" id="229" class="l">  229: </a><span class="php-comment"> *                                      FUNCTIONS                                       *
</span><a href="#230" id="230" class="l">  230: </a><span class="php-comment"> *                                                                                      *
</span><a href="#231" id="231" class="l">  231: </a><span class="php-comment"> *======================================================================================*/</span>
<a href="#232" id="232" class="l">  232: </a>
<a href="#233" id="233" class="l">  233: </a>
<a href="#234" id="234" class="l">  234: </a>     
<a href="#235" id="235" class="l">  235: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#236" id="236" class="l">  236: </a><span class="php-comment">     *  Connect                                                                         *
</span><a href="#237" id="237" class="l">  237: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#238" id="238" class="l">  238: </a>
<a href="#239" id="239" class="l">  239: </a>    <span class="php-comment">/**
</span><a href="#240" id="240" class="l">  240: </a><span class="php-comment">     * Connect.
</span><a href="#241" id="241" class="l">  241: </a><span class="php-comment">     *
</span><a href="#242" id="242" class="l">  242: </a><span class="php-comment">     * This function will connect to the database, if you provide &lt;i&gt;TRUE&lt;/i&gt; to the last
</span><a href="#243" id="243" class="l">  243: </a><span class="php-comment">     * parameter, the function will first erase the database.
</span><a href="#244" id="244" class="l">  244: </a><span class="php-comment">     *
</span><a href="#245" id="245" class="l">  245: </a><span class="php-comment">     * @param string                $theDatabase        Database name.
</span><a href="#246" id="246" class="l">  246: </a><span class="php-comment">     * @param string                $theContainer       Container name.
</span><a href="#247" id="247" class="l">  247: </a><span class="php-comment">     * @param boolean               $doErase            Erase database flag.
</span><a href="#248" id="248" class="l">  248: </a><span class="php-comment">     *
</span><a href="#249" id="249" class="l">  249: </a><span class="php-comment">     * @access protected
</span><a href="#250" id="250" class="l">  250: </a><span class="php-comment">     */</span>
<a href="#251" id="251" class="l">  251: </a>    <span class="php-keyword1">function</span> Connect( <span class="php-var">$theDatabase</span> = kDEFAULT_DATABASE,
<a href="#252" id="252" class="l">  252: </a>                      <span class="php-var">$theContainer</span> = kDEFAULT_CNT_TERMS,
<a href="#253" id="253" class="l">  253: </a>                      <span class="php-var">$doErase</span> = <span class="php-keyword1">FALSE</span> )
<a href="#254" id="254" class="l">  254: </a>    {
<a href="#255" id="255" class="l">  255: </a>        <span class="php-comment">//</span>
<a href="#256" id="256" class="l">  256: </a>        <span class="php-comment">// Instantiate Mongo database.</span>
<a href="#257" id="257" class="l">  257: </a>        <span class="php-comment">//</span>
<a href="#258" id="258" class="l">  258: </a>        <span class="php-var">$_SESSION</span>[ kSESSION_MONGO ] = <span class="php-keyword1">New</span> Mongo();
<a href="#259" id="259" class="l">  259: </a>        
<a href="#260" id="260" class="l">  260: </a>        <span class="php-comment">//</span>
<a href="#261" id="261" class="l">  261: </a>        <span class="php-comment">// Select database.</span>
<a href="#262" id="262" class="l">  262: </a>        <span class="php-comment">//</span>
<a href="#263" id="263" class="l">  263: </a>        <span class="php-var">$_SESSION</span>[ kSESSION_DATABASE ]
<a href="#264" id="264" class="l">  264: </a>            = <span class="php-var">$_SESSION</span>[ kSESSION_MONGO ]-&gt;selectDB( <span class="php-var">$theDatabase</span> );
<a href="#265" id="265" class="l">  265: </a>        
<a href="#266" id="266" class="l">  266: </a>        <span class="php-comment">//</span>
<a href="#267" id="267" class="l">  267: </a>        <span class="php-comment">// Erase database.</span>
<a href="#268" id="268" class="l">  268: </a>        <span class="php-comment">//</span>
<a href="#269" id="269" class="l">  269: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doErase</span> )
<a href="#270" id="270" class="l">  270: </a>        {
<a href="#271" id="271" class="l">  271: </a>            <span class="php-comment">//</span>
<a href="#272" id="272" class="l">  272: </a>            <span class="php-comment">// Erase.</span>
<a href="#273" id="273" class="l">  273: </a>            <span class="php-comment">//</span>
<a href="#274" id="274" class="l">  274: </a>            <span class="php-var">$_SESSION</span>[ kSESSION_DATABASE ]-&gt;drop();
<a href="#275" id="275" class="l">  275: </a>            
<a href="#276" id="276" class="l">  276: </a>            <span class="php-comment">//</span>
<a href="#277" id="277" class="l">  277: </a>            <span class="php-comment">// Connect.</span>
<a href="#278" id="278" class="l">  278: </a>            <span class="php-comment">//</span>
<a href="#279" id="279" class="l">  279: </a>            <span class="php-var">$_SESSION</span>[ kSESSION_DATABASE ]
<a href="#280" id="280" class="l">  280: </a>                = <span class="php-var">$_SESSION</span>[ kSESSION_MONGO ]-&gt;selectDB( <span class="php-var">$theDatabase</span> );
<a href="#281" id="281" class="l">  281: </a>        
<a href="#282" id="282" class="l">  282: </a>        } <span class="php-comment">// Erase database.</span>
<a href="#283" id="283" class="l">  283: </a>        
<a href="#284" id="284" class="l">  284: </a>        <span class="php-comment">//</span>
<a href="#285" id="285" class="l">  285: </a>        <span class="php-comment">// Select terms collection.</span>
<a href="#286" id="286" class="l">  286: </a>        <span class="php-comment">//</span>
<a href="#287" id="287" class="l">  287: </a>        <span class="php-var">$collection</span> = <span class="php-var">$_SESSION</span>[ kSESSION_DATABASE ]-&gt;selectCollection( <span class="php-var">$theContainer</span> );
<a href="#288" id="288" class="l">  288: </a>        
<a href="#289" id="289" class="l">  289: </a>        <span class="php-comment">//</span>
<a href="#290" id="290" class="l">  290: </a>        <span class="php-comment">// Select container.</span>
<a href="#291" id="291" class="l">  291: </a>        <span class="php-comment">//</span>
<a href="#292" id="292" class="l">  292: </a>        <span class="php-var">$_SESSION</span>[ kSESSION_CONTAINER ] = <span class="php-keyword1">new</span> CMongoContainer( <span class="php-var">$collection</span> );
<a href="#293" id="293" class="l">  293: </a>        
<a href="#294" id="294" class="l">  294: </a>        <span class="php-comment">//</span>
<a href="#295" id="295" class="l">  295: </a>        <span class="php-comment">// Select Neo4j.</span>
<a href="#296" id="296" class="l">  296: </a>        <span class="php-comment">//</span>
<a href="#297" id="297" class="l">  297: </a>        <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] = <span class="php-keyword1">new</span> Everyman\Neo4j\Client( <span class="php-quote">'localhost'</span>, <span class="php-num">7474</span> );
<a href="#298" id="298" class="l">  298: </a>    
<a href="#299" id="299" class="l">  299: </a>    } <span class="php-comment">// Connect.</span>
<a href="#300" id="300" class="l">  300: </a>
<a href="#301" id="301" class="l">  301: </a>     
<a href="#302" id="302" class="l">  302: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#303" id="303" class="l">  303: </a><span class="php-comment">     *  Index                                                                           *
</span><a href="#304" id="304" class="l">  304: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#305" id="305" class="l">  305: </a>
<a href="#306" id="306" class="l">  306: </a>    <span class="php-comment">/**
</span><a href="#307" id="307" class="l">  307: </a><span class="php-comment">     * Index.
</span><a href="#308" id="308" class="l">  308: </a><span class="php-comment">     *
</span><a href="#309" id="309" class="l">  309: </a><span class="php-comment">     * This function will index the default collections.
</span><a href="#310" id="310" class="l">  310: </a><span class="php-comment">     *
</span><a href="#311" id="311" class="l">  311: </a><span class="php-comment">     * @access protected
</span><a href="#312" id="312" class="l">  312: </a><span class="php-comment">     */</span>
<a href="#313" id="313" class="l">  313: </a>    <span class="php-keyword1">function</span> Index()
<a href="#314" id="314" class="l">  314: </a>    {
<a href="#315" id="315" class="l">  315: </a>        <span class="php-comment">//</span>
<a href="#316" id="316" class="l">  316: </a>        <span class="php-comment">// Index terms collection.</span>
<a href="#317" id="317" class="l">  317: </a>        <span class="php-comment">//</span>
<a href="#318" id="318" class="l">  318: </a>        <span class="php-var">$collection</span>
<a href="#319" id="319" class="l">  319: </a>            = <span class="php-var">$_SESSION</span>[ kSESSION_DATABASE ]
<a href="#320" id="320" class="l">  320: </a>                -&gt;selectCollection( kDEFAULT_CNT_TERMS );
<a href="#321" id="321" class="l">  321: </a>        <span class="php-var">$collection</span>-&gt;ensureIndex( <span class="php-keyword1">array</span>( kTAG_GID =&gt; <span class="php-num">1</span> ), <span class="php-keyword1">array</span>( <span class="php-quote">'unique'</span> =&gt; <span class="php-keyword1">TRUE</span> ) );
<a href="#322" id="322" class="l">  322: </a>        <span class="php-var">$collection</span>-&gt;ensureIndex( kTAG_CODE );
<a href="#323" id="323" class="l">  323: </a>        <span class="php-var">$collection</span>-&gt;ensureIndex( kTAG_NAME );
<a href="#324" id="324" class="l">  324: </a>        <span class="php-var">$collection</span>-&gt;ensureIndex( kTAG_KIND );
<a href="#325" id="325" class="l">  325: </a>        <span class="php-var">$collection</span>-&gt;ensureIndex( kTAG_NODE );
<a href="#326" id="326" class="l">  326: </a>    
<a href="#327" id="327" class="l">  327: </a>        <span class="php-comment">//</span>
<a href="#328" id="328" class="l">  328: </a>        <span class="php-comment">// Index nodes collection.</span>
<a href="#329" id="329" class="l">  329: </a>        <span class="php-comment">//</span>
<a href="#330" id="330" class="l">  330: </a>        <span class="php-var">$collection</span>
<a href="#331" id="331" class="l">  331: </a>            = <span class="php-var">$_SESSION</span>[ kSESSION_DATABASE ]
<a href="#332" id="332" class="l">  332: </a>                -&gt;selectCollection( kDEFAULT_CNT_NODES );
<a href="#333" id="333" class="l">  333: </a>        <span class="php-var">$collection</span>-&gt;ensureIndex( kTAG_DATA );
<a href="#334" id="334" class="l">  334: </a>    
<a href="#335" id="335" class="l">  335: </a>        <span class="php-comment">//</span>
<a href="#336" id="336" class="l">  336: </a>        <span class="php-comment">// Index edges collection.</span>
<a href="#337" id="337" class="l">  337: </a>        <span class="php-comment">//</span>
<a href="#338" id="338" class="l">  338: </a>        <span class="php-var">$collection</span>
<a href="#339" id="339" class="l">  339: </a>            = <span class="php-var">$_SESSION</span>[ kSESSION_DATABASE ]
<a href="#340" id="340" class="l">  340: </a>                -&gt;selectCollection( kDEFAULT_CNT_EDGES );
<a href="#341" id="341" class="l">  341: </a>        <span class="php-var">$collection</span>-&gt;ensureIndex( kTAG_SUBJECT );
<a href="#342" id="342" class="l">  342: </a>        <span class="php-var">$collection</span>-&gt;ensureIndex( kTAG_PREDICATE );
<a href="#343" id="343" class="l">  343: </a>        <span class="php-var">$collection</span>-&gt;ensureIndex( kTAG_OBJECT );
<a href="#344" id="344" class="l">  344: </a>    
<a href="#345" id="345" class="l">  345: </a>    } <span class="php-comment">// Index.</span>
<a href="#346" id="346" class="l">  346: </a>
<a href="#347" id="347" class="l">  347: </a>     
<a href="#348" id="348" class="l">  348: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#349" id="349" class="l">  349: </a><span class="php-comment">     *  LoadNamespaces                                                                  *
</span><a href="#350" id="350" class="l">  350: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#351" id="351" class="l">  351: </a>
<a href="#352" id="352" class="l">  352: </a>    <span class="php-comment">/**
</span><a href="#353" id="353" class="l">  353: </a><span class="php-comment">     * Load namespaces.
</span><a href="#354" id="354" class="l">  354: </a><span class="php-comment">     *
</span><a href="#355" id="355" class="l">  355: </a><span class="php-comment">     * This function will load all namespace terms.
</span><a href="#356" id="356" class="l">  356: </a><span class="php-comment">     *
</span><a href="#357" id="357" class="l">  357: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#358" id="358" class="l">  358: </a><span class="php-comment">     * created terms.
</span><a href="#359" id="359" class="l">  359: </a><span class="php-comment">     *
</span><a href="#360" id="360" class="l">  360: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#361" id="361" class="l">  361: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#362" id="362" class="l">  362: </a><span class="php-comment">     *
</span><a href="#363" id="363" class="l">  363: </a><span class="php-comment">     * @access protected
</span><a href="#364" id="364" class="l">  364: </a><span class="php-comment">     */</span>
<a href="#365" id="365" class="l">  365: </a>    <span class="php-keyword1">function</span> LoadNamespaces( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#366" id="366" class="l">  366: </a>    {
<a href="#367" id="367" class="l">  367: </a>        <span class="php-comment">//</span>
<a href="#368" id="368" class="l">  368: </a>        <span class="php-comment">// Inform.</span>
<a href="#369" id="369" class="l">  369: </a>        <span class="php-comment">//</span>
<a href="#370" id="370" class="l">  370: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#371" id="371" class="l">  371: </a>        {
<a href="#372" id="372" class="l">  372: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#373" id="373" class="l">  373: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#374" id="374" class="l">  374: </a>        }
<a href="#375" id="375" class="l">  375: </a>        
<a href="#376" id="376" class="l">  376: </a>        <span class="php-comment">//</span>
<a href="#377" id="377" class="l">  377: </a>        <span class="php-comment">// Set default namespaces.</span>
<a href="#378" id="378" class="l">  378: </a>        <span class="php-comment">//</span>
<a href="#379" id="379" class="l">  379: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#380" id="380" class="l">  380: </a>        (
<a href="#381" id="381" class="l">  381: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">''</span>,
<a href="#382" id="382" class="l">  382: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Default namespace'</span>,
<a href="#383" id="383" class="l">  383: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'The default namespace is used to qualify all attributes and '</span>
<a href="#384" id="384" class="l">  384: </a>                           .<span class="php-quote">'other terms that constitute the default vocabulary for the '</span>
<a href="#385" id="385" class="l">  385: </a>                           .<span class="php-quote">'ontology. Elements of this namespace will be used to build '</span>
<a href="#386" id="386" class="l">  386: </a>                           .<span class="php-quote">'ontologies.'</span> ),
<a href="#387" id="387" class="l">  387: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_ENTITY,
<a href="#388" id="388" class="l">  388: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_ENTITY'</span>,
<a href="#389" id="389" class="l">  389: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Entity'</span>,
<a href="#390" id="390" class="l">  390: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate an entity.'</span> ),
<a href="#391" id="391" class="l">  391: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_SESSION,
<a href="#392" id="392" class="l">  392: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_SESSION'</span>,
<a href="#393" id="393" class="l">  393: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Session'</span>,
<a href="#394" id="394" class="l">  394: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a session.'</span> )
<a href="#395" id="395" class="l">  395: </a>        );
<a href="#396" id="396" class="l">  396: </a>        
<a href="#397" id="397" class="l">  397: </a>        <span class="php-comment">//</span>
<a href="#398" id="398" class="l">  398: </a>        <span class="php-comment">// Load terms.</span>
<a href="#399" id="399" class="l">  399: </a>        <span class="php-comment">//</span>
<a href="#400" id="400" class="l">  400: </a>        <span class="php-var">$default</span> = <span class="php-keyword1">NULL</span>;
<a href="#401" id="401" class="l">  401: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#402" id="402" class="l">  402: </a>        {
<a href="#403" id="403" class="l">  403: </a>            <span class="php-comment">//</span>
<a href="#404" id="404" class="l">  404: </a>            <span class="php-comment">// Instantiate term.</span>
<a href="#405" id="405" class="l">  405: </a>            <span class="php-comment">//</span>
<a href="#406" id="406" class="l">  406: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#407" id="407" class="l">  407: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#408" id="408" class="l">  408: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#409" id="409" class="l">  409: </a>            {
<a href="#410" id="410" class="l">  410: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$default</span> !== <span class="php-keyword1">NULL</span> )
<a href="#411" id="411" class="l">  411: </a>                {
<a href="#412" id="412" class="l">  412: </a>                    <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$default</span> );
<a href="#413" id="413" class="l">  413: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-keyword2">strlen</span>( <span class="php-var">$default</span> ) + <span class="php-num">1</span> ) );
<a href="#414" id="414" class="l">  414: </a>                }
<a href="#415" id="415" class="l">  415: </a>                <span class="php-keyword1">else</span>
<a href="#416" id="416" class="l">  416: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#417" id="417" class="l">  417: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#418" id="418" class="l">  418: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#419" id="419" class="l">  419: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#420" id="420" class="l">  420: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'syn'</span>, <span class="php-var">$component</span> ) )
<a href="#421" id="421" class="l">  421: </a>                    <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#422" id="422" class="l">  422: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#423" id="423" class="l">  423: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$default</span> === <span class="php-keyword1">NULL</span> )
<a href="#424" id="424" class="l">  424: </a>                    <span class="php-var">$default</span> = <span class="php-var">$term</span>;
<a href="#425" id="425" class="l">  425: </a>                
<a href="#426" id="426" class="l">  426: </a>                <span class="php-comment">//</span>
<a href="#427" id="427" class="l">  427: </a>                <span class="php-comment">// Display.</span>
<a href="#428" id="428" class="l">  428: </a>                <span class="php-comment">//</span>
<a href="#429" id="429" class="l">  429: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#430" id="430" class="l">  430: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>.<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot;\n&quot;</span> );
<a href="#431" id="431" class="l">  431: </a>            }
<a href="#432" id="432" class="l">  432: </a>        }
<a href="#433" id="433" class="l">  433: </a>        
<a href="#434" id="434" class="l">  434: </a>        <span class="php-comment">//</span>
<a href="#435" id="435" class="l">  435: </a>        <span class="php-comment">// Set other namespaces.</span>
<a href="#436" id="436" class="l">  436: </a>        <span class="php-comment">//</span>
<a href="#437" id="437" class="l">  437: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#438" id="438" class="l">  438: </a>        (
<a href="#439" id="439" class="l">  439: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'ECPGR'</span>,
<a href="#440" id="440" class="l">  440: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'European Cooperative Programme for Plant Genetic Resources'</span>,
<a href="#441" id="441" class="l">  441: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'The European Cooperative Programme for Plant Genetic '</span>
<a href="#442" id="442" class="l">  442: </a>                           .<span class="php-quote">'Resources (ECPGR) is a collaborative programme among most '</span>
<a href="#443" id="443" class="l">  443: </a>                           .<span class="php-quote">'European countries aimed at ensuring the long-term '</span>
<a href="#444" id="444" class="l">  444: </a>                           .<span class="php-quote">'conservation and facilitating the increased utilization '</span>
<a href="#445" id="445" class="l">  445: </a>                           .<span class="php-quote">'of plant genetic resources in Europe.'</span>,
<a href="#446" id="446" class="l">  446: </a>                   <span class="php-quote">'url'</span> =&gt; <span class="php-quote">'http://www.ecpgr.cgiar.org/'</span> ),
<a href="#447" id="447" class="l">  447: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'FAO'</span>,
<a href="#448" id="448" class="l">  448: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Food and Agriculture Organization of the United Nations'</span>,
<a href="#449" id="449" class="l">  449: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Food and Agriculture Organization of the United Nations '</span>
<a href="#450" id="450" class="l">  450: </a>                           .<span class="php-quote">'(FAO).'</span>,
<a href="#451" id="451" class="l">  451: </a>                   <span class="php-quote">'url'</span> =&gt; <span class="php-quote">'http://www.fao.org/'</span> ),
<a href="#452" id="452" class="l">  452: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'FAO:INST'</span>,
<a href="#453" id="453" class="l">  453: </a>                   <span class="php-quote">'ns'</span> =&gt; <span class="php-quote">'FAO'</span>,
<a href="#454" id="454" class="l">  454: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'World Information and Early Warning System Institute'</span>,
<a href="#455" id="455" class="l">  455: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'World Information and Early Warning System on PGRFA '</span>
<a href="#456" id="456" class="l">  456: </a>                           .<span class="php-quote">'institute database entry.'</span>,
<a href="#457" id="457" class="l">  457: </a>                   <span class="php-quote">'url'</span> =&gt; <span class="php-quote">'http://apps3.fao.org/wiews/institute_query.htm?i_l=EN'</span> )
<a href="#458" id="458" class="l">  458: </a>        );
<a href="#459" id="459" class="l">  459: </a>        
<a href="#460" id="460" class="l">  460: </a>        <span class="php-comment">//</span>
<a href="#461" id="461" class="l">  461: </a>        <span class="php-comment">// Load terms.</span>
<a href="#462" id="462" class="l">  462: </a>        <span class="php-comment">//</span>
<a href="#463" id="463" class="l">  463: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#464" id="464" class="l">  464: </a>        {
<a href="#465" id="465" class="l">  465: </a>            <span class="php-comment">//</span>
<a href="#466" id="466" class="l">  466: </a>            <span class="php-comment">// Instantiate term.</span>
<a href="#467" id="467" class="l">  467: </a>            <span class="php-comment">//</span>
<a href="#468" id="468" class="l">  468: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#469" id="469" class="l">  469: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#470" id="470" class="l">  470: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#471" id="471" class="l">  471: </a>            {
<a href="#472" id="472" class="l">  472: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'ns'</span>, <span class="php-var">$component</span> ) )
<a href="#473" id="473" class="l">  473: </a>                {
<a href="#474" id="474" class="l">  474: </a>                    <span class="php-var">$ns</span> = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#475" id="475" class="l">  475: </a>                            <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex(
<a href="#476" id="476" class="l">  476: </a>                                <span class="php-var">$component</span>[ <span class="php-quote">'ns'</span> ] ) );
<a href="#477" id="477" class="l">  477: </a>                    <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#478" id="478" class="l">  478: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-keyword2">strlen</span>( <span class="php-var">$ns</span> ) + <span class="php-num">1</span> ) );
<a href="#479" id="479" class="l">  479: </a>                }
<a href="#480" id="480" class="l">  480: </a>                <span class="php-keyword1">else</span>
<a href="#481" id="481" class="l">  481: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#482" id="482" class="l">  482: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#483" id="483" class="l">  483: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#484" id="484" class="l">  484: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#485" id="485" class="l">  485: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'syn'</span>, <span class="php-var">$component</span> ) )
<a href="#486" id="486" class="l">  486: </a>                    <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#487" id="487" class="l">  487: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'url'</span>, <span class="php-var">$component</span> ) )
<a href="#488" id="488" class="l">  488: </a>                    <span class="php-var">$term</span>[ kOFFSET_URL ] = <span class="php-var">$component</span>[ <span class="php-quote">'url'</span> ];
<a href="#489" id="489" class="l">  489: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#490" id="490" class="l">  490: </a>                
<a href="#491" id="491" class="l">  491: </a>                <span class="php-comment">//</span>
<a href="#492" id="492" class="l">  492: </a>                <span class="php-comment">// Display.</span>
<a href="#493" id="493" class="l">  493: </a>                <span class="php-comment">//</span>
<a href="#494" id="494" class="l">  494: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#495" id="495" class="l">  495: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>.<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot;\n&quot;</span> );
<a href="#496" id="496" class="l">  496: </a>            }
<a href="#497" id="497" class="l">  497: </a>        }
<a href="#498" id="498" class="l">  498: </a>        
<a href="#499" id="499" class="l">  499: </a>    } <span class="php-comment">// LoadNamespaces.</span>
<a href="#500" id="500" class="l">  500: </a>
<a href="#501" id="501" class="l">  501: </a>     
<a href="#502" id="502" class="l">  502: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#503" id="503" class="l">  503: </a><span class="php-comment">     *  LoadPredicates                                                                  *
</span><a href="#504" id="504" class="l">  504: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#505" id="505" class="l">  505: </a>
<a href="#506" id="506" class="l">  506: </a>    <span class="php-comment">/**
</span><a href="#507" id="507" class="l">  507: </a><span class="php-comment">     * Load predicate terms.
</span><a href="#508" id="508" class="l">  508: </a><span class="php-comment">     *
</span><a href="#509" id="509" class="l">  509: </a><span class="php-comment">     * This function will load all default predicate terms.
</span><a href="#510" id="510" class="l">  510: </a><span class="php-comment">     *
</span><a href="#511" id="511" class="l">  511: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#512" id="512" class="l">  512: </a><span class="php-comment">     * created terms.
</span><a href="#513" id="513" class="l">  513: </a><span class="php-comment">     *
</span><a href="#514" id="514" class="l">  514: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#515" id="515" class="l">  515: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#516" id="516" class="l">  516: </a><span class="php-comment">     *
</span><a href="#517" id="517" class="l">  517: </a><span class="php-comment">     * @access protected
</span><a href="#518" id="518" class="l">  518: </a><span class="php-comment">     */</span>
<a href="#519" id="519" class="l">  519: </a>    <span class="php-keyword1">function</span> LoadPredicates( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#520" id="520" class="l">  520: </a>    {
<a href="#521" id="521" class="l">  521: </a>        <span class="php-comment">//</span>
<a href="#522" id="522" class="l">  522: </a>        <span class="php-comment">// Inform.</span>
<a href="#523" id="523" class="l">  523: </a>        <span class="php-comment">//</span>
<a href="#524" id="524" class="l">  524: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#525" id="525" class="l">  525: </a>        {
<a href="#526" id="526" class="l">  526: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#527" id="527" class="l">  527: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#528" id="528" class="l">  528: </a>        }
<a href="#529" id="529" class="l">  529: </a>        
<a href="#530" id="530" class="l">  530: </a>        <span class="php-comment">//</span>
<a href="#531" id="531" class="l">  531: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#532" id="532" class="l">  532: </a>        <span class="php-comment">//</span>
<a href="#533" id="533" class="l">  533: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#534" id="534" class="l">  534: </a>        (
<a href="#535" id="535" class="l">  535: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kPRED_IS_A,
<a href="#536" id="536" class="l">  536: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kPRED_IS_A'</span>,
<a href="#537" id="537" class="l">  537: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Is-a'</span>,
<a href="#538" id="538" class="l">  538: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This predicate is equivalent to a subclass, it can be used to relate a term to the default '</span>
<a href="#539" id="539" class="l">  539: </a>                           .<span class="php-quote">'category to which it belongs within the current ontology.'</span> ),
<a href="#540" id="540" class="l">  540: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kPRED_PART_OF,
<a href="#541" id="541" class="l">  541: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kPRED_PART_OF'</span>,
<a href="#542" id="542" class="l">  542: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Part-of'</span>,
<a href="#543" id="543" class="l">  543: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This predicate indicates that the subject or origin of the relation is part of the object or '</span>
<a href="#544" id="544" class="l">  544: </a>                           .<span class="php-quote">'target of the relation.'</span> ),
<a href="#545" id="545" class="l">  545: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kPRED_COMPONENT_OF,
<a href="#546" id="546" class="l">  546: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kPRED_COMPONENT_OF'</span>,
<a href="#547" id="547" class="l">  547: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Component-of'</span>,
<a href="#548" id="548" class="l">  548: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This predicate indicates that the subject or origin of the relation is a component of the object or '</span>
<a href="#549" id="549" class="l">  549: </a>                           .<span class="php-quote">'target of the relation.'</span> ),
<a href="#550" id="550" class="l">  550: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kPRED_SCALE_OF,
<a href="#551" id="551" class="l">  551: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kPRED_SCALE_OF'</span>,
<a href="#552" id="552" class="l">  552: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Scale-of'</span>,
<a href="#553" id="553" class="l">  553: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This predicate is used to relate a term that can be used to annotate data with its method term '</span>
<a href="#554" id="554" class="l">  554: </a>                           .<span class="php-quote">'or trait term.'</span> ),
<a href="#555" id="555" class="l">  555: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kPRED_METHOD_OF,
<a href="#556" id="556" class="l">  556: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kPRED_METHOD_OF'</span>,
<a href="#557" id="557" class="l">  557: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Method-of'</span>,
<a href="#558" id="558" class="l">  558: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This predicate is used to relate a term which represent a measurement method with '</span>
<a href="#559" id="559" class="l">  559: </a>                           .<span class="php-quote">'its trait term.'</span> ),
<a href="#560" id="560" class="l">  560: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kPRED_ENUM_OF,
<a href="#561" id="561" class="l">  561: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kPRED_ENUM_OF'</span>,
<a href="#562" id="562" class="l">  562: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Enumeration-of'</span>,
<a href="#563" id="563" class="l">  563: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This predicate is used to relate enumerated terms, it will relate the enumerated value with '</span>
<a href="#564" id="564" class="l">  564: </a>                           .<span class="php-quote">'its measure term or with a superclass of the enumerated value, if in a hierarchy.'</span> )
<a href="#565" id="565" class="l">  565: </a>        );
<a href="#566" id="566" class="l">  566: </a>        
<a href="#567" id="567" class="l">  567: </a>        <span class="php-comment">//</span>
<a href="#568" id="568" class="l">  568: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#569" id="569" class="l">  569: </a>        <span class="php-comment">//</span>
<a href="#570" id="570" class="l">  570: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#571" id="571" class="l">  571: </a>        
<a href="#572" id="572" class="l">  572: </a>        <span class="php-comment">//</span>
<a href="#573" id="573" class="l">  573: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#574" id="574" class="l">  574: </a>        <span class="php-comment">//</span>
<a href="#575" id="575" class="l">  575: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#576" id="576" class="l">  576: </a>        
<a href="#577" id="577" class="l">  577: </a>        <span class="php-comment">//</span>
<a href="#578" id="578" class="l">  578: </a>        <span class="php-comment">// Load terms.</span>
<a href="#579" id="579" class="l">  579: </a>        <span class="php-comment">//</span>
<a href="#580" id="580" class="l">  580: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#581" id="581" class="l">  581: </a>        {
<a href="#582" id="582" class="l">  582: </a>            <span class="php-comment">//</span>
<a href="#583" id="583" class="l">  583: </a>            <span class="php-comment">// Create term.</span>
<a href="#584" id="584" class="l">  584: </a>            <span class="php-comment">//</span>
<a href="#585" id="585" class="l">  585: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#586" id="586" class="l">  586: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#587" id="587" class="l">  587: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#588" id="588" class="l">  588: </a>            {
<a href="#589" id="589" class="l">  589: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#590" id="590" class="l">  590: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#591" id="591" class="l">  591: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_PREDICATE, <span class="php-keyword1">TRUE</span> );
<a href="#592" id="592" class="l">  592: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#593" id="593" class="l">  593: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#594" id="594" class="l">  594: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#595" id="595" class="l">  595: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#596" id="596" class="l">  596: </a>                
<a href="#597" id="597" class="l">  597: </a>                <span class="php-comment">//</span>
<a href="#598" id="598" class="l">  598: </a>                <span class="php-comment">// Display.</span>
<a href="#599" id="599" class="l">  599: </a>                <span class="php-comment">//</span>
<a href="#600" id="600" class="l">  600: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#601" id="601" class="l">  601: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#602" id="602" class="l">  602: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#603" id="603" class="l">  603: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#604" id="604" class="l">  604: </a>            }
<a href="#605" id="605" class="l">  605: </a>        }
<a href="#606" id="606" class="l">  606: </a>    
<a href="#607" id="607" class="l">  607: </a>    } <span class="php-comment">// LoadPredicates.</span>
<a href="#608" id="608" class="l">  608: </a>
<a href="#609" id="609" class="l">  609: </a>     
<a href="#610" id="610" class="l">  610: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#611" id="611" class="l">  611: </a><span class="php-comment">     *  LoadPrimitiveTypes                                                              *
</span><a href="#612" id="612" class="l">  612: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#613" id="613" class="l">  613: </a>
<a href="#614" id="614" class="l">  614: </a>    <span class="php-comment">/**
</span><a href="#615" id="615" class="l">  615: </a><span class="php-comment">     * Load primitive data types.
</span><a href="#616" id="616" class="l">  616: </a><span class="php-comment">     *
</span><a href="#617" id="617" class="l">  617: </a><span class="php-comment">     * This function will load all primitive data types, primitive types are data types
</span><a href="#618" id="618" class="l">  618: </a><span class="php-comment">     * that cannot be derived from other data types.
</span><a href="#619" id="619" class="l">  619: </a><span class="php-comment">     *
</span><a href="#620" id="620" class="l">  620: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#621" id="621" class="l">  621: </a><span class="php-comment">     * created terms.
</span><a href="#622" id="622" class="l">  622: </a><span class="php-comment">     *
</span><a href="#623" id="623" class="l">  623: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#624" id="624" class="l">  624: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#625" id="625" class="l">  625: </a><span class="php-comment">     *
</span><a href="#626" id="626" class="l">  626: </a><span class="php-comment">     * @access protected
</span><a href="#627" id="627" class="l">  627: </a><span class="php-comment">     */</span>
<a href="#628" id="628" class="l">  628: </a>    <span class="php-keyword1">function</span> LoadPrimitiveTypes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#629" id="629" class="l">  629: </a>    {
<a href="#630" id="630" class="l">  630: </a>        <span class="php-comment">//</span>
<a href="#631" id="631" class="l">  631: </a>        <span class="php-comment">// Inform.</span>
<a href="#632" id="632" class="l">  632: </a>        <span class="php-comment">//</span>
<a href="#633" id="633" class="l">  633: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#634" id="634" class="l">  634: </a>        {
<a href="#635" id="635" class="l">  635: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#636" id="636" class="l">  636: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#637" id="637" class="l">  637: </a>        }
<a href="#638" id="638" class="l">  638: </a>        
<a href="#639" id="639" class="l">  639: </a>        <span class="php-comment">//</span>
<a href="#640" id="640" class="l">  640: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#641" id="641" class="l">  641: </a>        <span class="php-comment">//</span>
<a href="#642" id="642" class="l">  642: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#643" id="643" class="l">  643: </a>        (
<a href="#644" id="644" class="l">  644: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_STRING,
<a href="#645" id="645" class="l">  645: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#646" id="646" class="l">  646: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'String'</span>,
<a href="#647" id="647" class="l">  647: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This represents the primitive string data type.'</span> ),
<a href="#648" id="648" class="l">  648: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_INT32,
<a href="#649" id="649" class="l">  649: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_INT32'</span>,
<a href="#650" id="650" class="l">  650: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'32 bit integer'</span>,
<a href="#651" id="651" class="l">  651: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This represents the primitive 32 bit integer data type.'</span> ),
<a href="#652" id="652" class="l">  652: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_INT64,
<a href="#653" id="653" class="l">  653: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_INT64'</span>,
<a href="#654" id="654" class="l">  654: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'64 bit integer'</span>,
<a href="#655" id="655" class="l">  655: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This represents the primitive 64 bit integer data type.'</span> ),
<a href="#656" id="656" class="l">  656: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_FLOAT,
<a href="#657" id="657" class="l">  657: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_FLOAT'</span>,
<a href="#658" id="658" class="l">  658: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Float'</span>,
<a href="#659" id="659" class="l">  659: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This represents the primitive floating point number data type.'</span> ),
<a href="#660" id="660" class="l">  660: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_BOOLEAN,
<a href="#661" id="661" class="l">  661: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_BOOLEAN'</span>,
<a href="#662" id="662" class="l">  662: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Boolean'</span>,
<a href="#663" id="663" class="l">  663: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This represents the primitive boolean data type, it is assumed that it is provided as 1/0.'</span> )
<a href="#664" id="664" class="l">  664: </a>        );
<a href="#665" id="665" class="l">  665: </a>        
<a href="#666" id="666" class="l">  666: </a>        <span class="php-comment">//</span>
<a href="#667" id="667" class="l">  667: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#668" id="668" class="l">  668: </a>        <span class="php-comment">//</span>
<a href="#669" id="669" class="l">  669: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#670" id="670" class="l">  670: </a>        
<a href="#671" id="671" class="l">  671: </a>        <span class="php-comment">//</span>
<a href="#672" id="672" class="l">  672: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#673" id="673" class="l">  673: </a>        <span class="php-comment">//</span>
<a href="#674" id="674" class="l">  674: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#675" id="675" class="l">  675: </a>        
<a href="#676" id="676" class="l">  676: </a>        <span class="php-comment">//</span>
<a href="#677" id="677" class="l">  677: </a>        <span class="php-comment">// Load terms.</span>
<a href="#678" id="678" class="l">  678: </a>        <span class="php-comment">//</span>
<a href="#679" id="679" class="l">  679: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#680" id="680" class="l">  680: </a>        {
<a href="#681" id="681" class="l">  681: </a>            <span class="php-comment">//</span>
<a href="#682" id="682" class="l">  682: </a>            <span class="php-comment">// Create term.</span>
<a href="#683" id="683" class="l">  683: </a>            <span class="php-comment">//</span>
<a href="#684" id="684" class="l">  684: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#685" id="685" class="l">  685: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#686" id="686" class="l">  686: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#687" id="687" class="l">  687: </a>            {
<a href="#688" id="688" class="l">  688: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#689" id="689" class="l">  689: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#690" id="690" class="l">  690: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#691" id="691" class="l">  691: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#692" id="692" class="l">  692: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#693" id="693" class="l">  693: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#694" id="694" class="l">  694: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#695" id="695" class="l">  695: </a>                
<a href="#696" id="696" class="l">  696: </a>                <span class="php-comment">//</span>
<a href="#697" id="697" class="l">  697: </a>                <span class="php-comment">// Display.</span>
<a href="#698" id="698" class="l">  698: </a>                <span class="php-comment">//</span>
<a href="#699" id="699" class="l">  699: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#700" id="700" class="l">  700: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#701" id="701" class="l">  701: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#702" id="702" class="l">  702: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#703" id="703" class="l">  703: </a>            }
<a href="#704" id="704" class="l">  704: </a>        }
<a href="#705" id="705" class="l">  705: </a>    
<a href="#706" id="706" class="l">  706: </a>    } <span class="php-comment">// LoadPrimitiveTypes.</span>
<a href="#707" id="707" class="l">  707: </a>
<a href="#708" id="708" class="l">  708: </a>     
<a href="#709" id="709" class="l">  709: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#710" id="710" class="l">  710: </a><span class="php-comment">     *  LoadCompositeTypes                                                              *
</span><a href="#711" id="711" class="l">  711: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#712" id="712" class="l">  712: </a>
<a href="#713" id="713" class="l">  713: </a>    <span class="php-comment">/**
</span><a href="#714" id="714" class="l">  714: </a><span class="php-comment">     * Load composite data types.
</span><a href="#715" id="715" class="l">  715: </a><span class="php-comment">     *
</span><a href="#716" id="716" class="l">  716: </a><span class="php-comment">     * This function will load all composite data types, composite types are data types
</span><a href="#717" id="717" class="l">  717: </a><span class="php-comment">     * that are constituted by primitive data types, but that define a specialised type:
</span><a href="#718" id="718" class="l">  718: </a><span class="php-comment">     * for instance a {@link kTYPE_DATE date} expressed as a &lt;i&gt;YYYY-MM-DD&lt;/i&gt; string
</span><a href="#719" id="719" class="l">  719: </a><span class="php-comment">     * is a string, but it expresses a date.
</span><a href="#720" id="720" class="l">  720: </a><span class="php-comment">     *
</span><a href="#721" id="721" class="l">  721: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#722" id="722" class="l">  722: </a><span class="php-comment">     * created terms.
</span><a href="#723" id="723" class="l">  723: </a><span class="php-comment">     *
</span><a href="#724" id="724" class="l">  724: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#725" id="725" class="l">  725: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#726" id="726" class="l">  726: </a><span class="php-comment">     *
</span><a href="#727" id="727" class="l">  727: </a><span class="php-comment">     * @access protected
</span><a href="#728" id="728" class="l">  728: </a><span class="php-comment">     */</span>
<a href="#729" id="729" class="l">  729: </a>    <span class="php-keyword1">function</span> LoadCompositeTypes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#730" id="730" class="l">  730: </a>    {
<a href="#731" id="731" class="l">  731: </a>        <span class="php-comment">//</span>
<a href="#732" id="732" class="l">  732: </a>        <span class="php-comment">// Inform.</span>
<a href="#733" id="733" class="l">  733: </a>        <span class="php-comment">//</span>
<a href="#734" id="734" class="l">  734: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#735" id="735" class="l">  735: </a>        {
<a href="#736" id="736" class="l">  736: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#737" id="737" class="l">  737: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#738" id="738" class="l">  738: </a>        }
<a href="#739" id="739" class="l">  739: </a>        
<a href="#740" id="740" class="l">  740: </a>        <span class="php-comment">//</span>
<a href="#741" id="741" class="l">  741: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#742" id="742" class="l">  742: </a>        <span class="php-comment">//</span>
<a href="#743" id="743" class="l">  743: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#744" id="744" class="l">  744: </a>        (
<a href="#745" id="745" class="l">  745: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_DATE,
<a href="#746" id="746" class="l">  746: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">TRUE</span>,
<a href="#747" id="747" class="l">  747: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_DATE'</span>,
<a href="#748" id="748" class="l">  748: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Date'</span>,
<a href="#749" id="749" class="l">  749: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a date represented as a YYYYMMDD string in which missing '</span>
<a href="#750" id="750" class="l">  750: </a>                           .<span class="php-quote">'elements should be omitted. This means that if we don\'t know the day we can '</span>
<a href="#751" id="751" class="l">  751: </a>                           .<span class="php-quote">'express that date as YYYYMM string. The year is required and the month is '</span>
<a href="#752" id="752" class="l">  752: </a>                           .<span class="php-quote">'required if you provide the day.'</span> ),
<a href="#753" id="753" class="l">  753: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_TIME,
<a href="#754" id="754" class="l">  754: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">TRUE</span>,
<a href="#755" id="755" class="l">  755: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_TIME'</span>,
<a href="#756" id="756" class="l">  756: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Time'</span>,
<a href="#757" id="757" class="l">  757: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a date represented as a YYYY-MM-DD HH:MM:SS string '</span>
<a href="#758" id="758" class="l">  758: </a>                           .<span class="php-quote">'in which you may not have missing elements.'</span> ),
<a href="#759" id="759" class="l">  759: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_REGEX,
<a href="#760" id="760" class="l">  760: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">TRUE</span>,
<a href="#761" id="761" class="l">  761: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_REGEX'</span>,
<a href="#762" id="762" class="l">  762: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Regular expression'</span>,
<a href="#763" id="763" class="l">  763: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a regular expression string type.'</span> ),
<a href="#764" id="764" class="l">  764: </a>                   
<a href="#765" id="765" class="l">  765: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_BINARY_STRING,
<a href="#766" id="766" class="l">  766: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">FALSE</span>,
<a href="#767" id="767" class="l">  767: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_BINARY_STRING'</span>,
<a href="#768" id="768" class="l">  768: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Binary string'</span>,
<a href="#769" id="769" class="l">  769: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a binary string.'</span> ),
<a href="#770" id="770" class="l">  770: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_STAMP_SEC,
<a href="#771" id="771" class="l">  771: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">FALSE</span>,
<a href="#772" id="772" class="l">  772: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_STAMP_SEC'</span>,
<a href="#773" id="773" class="l">  773: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Seconds'</span>,
<a href="#774" id="774" class="l">  774: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the number of seconds since January 1st, 1970.'</span> ),
<a href="#775" id="775" class="l">  775: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_STAMP_USEC,
<a href="#776" id="776" class="l">  776: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">FALSE</span>,
<a href="#777" id="777" class="l">  777: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_STAMP_USEC'</span>,
<a href="#778" id="778" class="l">  778: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Microseconds'</span>,
<a href="#779" id="779" class="l">  779: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the number of microseconds since the last second.'</span> ),
<a href="#780" id="780" class="l">  780: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_BINARY_TYPE,
<a href="#781" id="781" class="l">  781: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">FALSE</span>,
<a href="#782" id="782" class="l">  782: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_BINARY_TYPE'</span>,
<a href="#783" id="783" class="l">  783: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Binary string type'</span>,
<a href="#784" id="784" class="l">  784: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a binary string type.'</span> )
<a href="#785" id="785" class="l">  785: </a>        );
<a href="#786" id="786" class="l">  786: </a>        
<a href="#787" id="787" class="l">  787: </a>        <span class="php-comment">//</span>
<a href="#788" id="788" class="l">  788: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#789" id="789" class="l">  789: </a>        <span class="php-comment">//</span>
<a href="#790" id="790" class="l">  790: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#791" id="791" class="l">  791: </a>        
<a href="#792" id="792" class="l">  792: </a>        <span class="php-comment">//</span>
<a href="#793" id="793" class="l">  793: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#794" id="794" class="l">  794: </a>        <span class="php-comment">//</span>
<a href="#795" id="795" class="l">  795: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#796" id="796" class="l">  796: </a>        
<a href="#797" id="797" class="l">  797: </a>        <span class="php-comment">//</span>
<a href="#798" id="798" class="l">  798: </a>        <span class="php-comment">// Load terms.</span>
<a href="#799" id="799" class="l">  799: </a>        <span class="php-comment">//</span>
<a href="#800" id="800" class="l">  800: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#801" id="801" class="l">  801: </a>        {
<a href="#802" id="802" class="l">  802: </a>            <span class="php-comment">//</span>
<a href="#803" id="803" class="l">  803: </a>            <span class="php-comment">// Create term.</span>
<a href="#804" id="804" class="l">  804: </a>            <span class="php-comment">//</span>
<a href="#805" id="805" class="l">  805: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#806" id="806" class="l">  806: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#807" id="807" class="l">  807: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#808" id="808" class="l">  808: </a>            {
<a href="#809" id="809" class="l">  809: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$component</span>[ <span class="php-quote">'ns'</span> ] )
<a href="#810" id="810" class="l">  810: </a>                {
<a href="#811" id="811" class="l">  811: </a>                    <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#812" id="812" class="l">  812: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#813" id="813" class="l">  813: </a>                }
<a href="#814" id="814" class="l">  814: </a>                <span class="php-keyword1">else</span>
<a href="#815" id="815" class="l">  815: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#816" id="816" class="l">  816: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#817" id="817" class="l">  817: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#818" id="818" class="l">  818: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#819" id="819" class="l">  819: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#820" id="820" class="l">  820: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#821" id="821" class="l">  821: </a>                
<a href="#822" id="822" class="l">  822: </a>                <span class="php-comment">//</span>
<a href="#823" id="823" class="l">  823: </a>                <span class="php-comment">// Display.</span>
<a href="#824" id="824" class="l">  824: </a>                <span class="php-comment">//</span>
<a href="#825" id="825" class="l">  825: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#826" id="826" class="l">  826: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#827" id="827" class="l">  827: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#828" id="828" class="l">  828: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#829" id="829" class="l">  829: </a>            }
<a href="#830" id="830" class="l">  830: </a>        }
<a href="#831" id="831" class="l">  831: </a>    
<a href="#832" id="832" class="l">  832: </a>    } <span class="php-comment">// LoadCompositeTypes.</span>
<a href="#833" id="833" class="l">  833: </a>
<a href="#834" id="834" class="l">  834: </a>     
<a href="#835" id="835" class="l">  835: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#836" id="836" class="l">  836: </a><span class="php-comment">     *  LoadStructuredTypes                                                             *
</span><a href="#837" id="837" class="l">  837: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#838" id="838" class="l">  838: </a>
<a href="#839" id="839" class="l">  839: </a>    <span class="php-comment">/**
</span><a href="#840" id="840" class="l">  840: </a><span class="php-comment">     * Load structured data types.
</span><a href="#841" id="841" class="l">  841: </a><span class="php-comment">     *
</span><a href="#842" id="842" class="l">  842: </a><span class="php-comment">     * This function will load all structured data types, structured types are data types
</span><a href="#843" id="843" class="l">  843: </a><span class="php-comment">     * that may be composed by a combination of primitive data types.
</span><a href="#844" id="844" class="l">  844: </a><span class="php-comment">     *
</span><a href="#845" id="845" class="l">  845: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#846" id="846" class="l">  846: </a><span class="php-comment">     * created terms.
</span><a href="#847" id="847" class="l">  847: </a><span class="php-comment">     *
</span><a href="#848" id="848" class="l">  848: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#849" id="849" class="l">  849: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#850" id="850" class="l">  850: </a><span class="php-comment">     *
</span><a href="#851" id="851" class="l">  851: </a><span class="php-comment">     * @access protected
</span><a href="#852" id="852" class="l">  852: </a><span class="php-comment">     */</span>
<a href="#853" id="853" class="l">  853: </a>    <span class="php-keyword1">function</span> LoadStructuredTypes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#854" id="854" class="l">  854: </a>    {
<a href="#855" id="855" class="l">  855: </a>        <span class="php-comment">//</span>
<a href="#856" id="856" class="l">  856: </a>        <span class="php-comment">// Inform.</span>
<a href="#857" id="857" class="l">  857: </a>        <span class="php-comment">//</span>
<a href="#858" id="858" class="l">  858: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#859" id="859" class="l">  859: </a>        {
<a href="#860" id="860" class="l">  860: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#861" id="861" class="l">  861: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#862" id="862" class="l">  862: </a>        }
<a href="#863" id="863" class="l">  863: </a>        
<a href="#864" id="864" class="l">  864: </a>        <span class="php-comment">//</span>
<a href="#865" id="865" class="l">  865: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#866" id="866" class="l">  866: </a>        <span class="php-comment">//</span>
<a href="#867" id="867" class="l">  867: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#868" id="868" class="l">  868: </a>        (
<a href="#869" id="869" class="l">  869: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_REF,
<a href="#870" id="870" class="l">  870: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_REF'</span>,
<a href="#871" id="871" class="l">  871: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Object reference'</span>,
<a href="#872" id="872" class="l">  872: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents an object reference, in general it '</span>
<a href="#873" id="873" class="l">  873: </a>                           .<span class="php-quote">'will be the local unique identifier of the object used '</span>
<a href="#874" id="874" class="l">  874: </a>                           .<span class="php-quote">'as a scalar value, or a structure adding the container and '</span>
<a href="#875" id="875" class="l">  875: </a>                           .<span class="php-quote">'database in which the referenced object is stored. This data '</span>
<a href="#876" id="876" class="l">  876: </a>                           .<span class="php-quote">'type quelifies all properties and attributes that refer to '</span>
<a href="#877" id="877" class="l">  877: </a>                           .<span class="php-quote">'other objects.'</span> ),
<a href="#878" id="878" class="l">  878: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_BINARY,
<a href="#879" id="879" class="l">  879: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_BINARY'</span>,
<a href="#880" id="880" class="l">  880: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Binary'</span>,
<a href="#881" id="881" class="l">  881: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a binary string data type, in general it will be '</span>
<a href="#882" id="882" class="l">  882: </a>                           .<span class="php-quote">'as a structure containing a binary string in hexadecimal format.'</span> ),
<a href="#883" id="883" class="l">  883: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_STAMP,
<a href="#884" id="884" class="l">  884: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_STAMP'</span>,
<a href="#885" id="885" class="l">  885: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Time-stamp'</span>,
<a href="#886" id="886" class="l">  886: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a date, time and milliseconds stamp, in general '</span>
<a href="#887" id="887" class="l">  887: </a>                           .<span class="php-quote">'it will be a structure holding the number of secods since January 1st 1970 '</span>
<a href="#888" id="888" class="l">  888: </a>                           .<span class="php-quote">'and optionally the number of milliseconds.'</span> ),
<a href="#889" id="889" class="l">  889: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_ENUM,
<a href="#890" id="890" class="l">  890: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#891" id="891" class="l">  891: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Enumeration'</span>,
<a href="#892" id="892" class="l">  892: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents an enumeration container, enumerations are '</span>
<a href="#893" id="893" class="l">  893: </a>                           .<span class="php-quote">'a controlled vocabulary in which one may only choose one element. '</span>
<a href="#894" id="894" class="l">  894: </a>                           .<span class="php-quote">'This data type implies that the term forms a tree whose siblings '</span>
<a href="#895" id="895" class="l">  895: </a>                           .<span class="php-quote">'are the enumeration elements.'</span> ),
<a href="#896" id="896" class="l">  896: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_ENUM_SET,
<a href="#897" id="897" class="l">  897: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_ENUM_SET'</span>,
<a href="#898" id="898" class="l">  898: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Enumerated set'</span>,
<a href="#899" id="899" class="l">  899: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents an enumerated set container, sets are '</span>
<a href="#900" id="900" class="l">  900: </a>                           .<span class="php-quote">'a controlled vocabulary from which one may choose one or more elements. '</span>
<a href="#901" id="901" class="l">  901: </a>                           .<span class="php-quote">'This data type implies that the term forms a tree whose siblings '</span>
<a href="#902" id="902" class="l">  902: </a>                           .<span class="php-quote">'are the enumeration elements.'</span> ),
<a href="#903" id="903" class="l">  903: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_LIST,
<a href="#904" id="904" class="l">  904: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_LIST'</span>,
<a href="#905" id="905" class="l">  905: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'List'</span>,
<a href="#906" id="906" class="l">  906: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a list data type, lists are arrays of '</span>
<a href="#907" id="907" class="l">  907: </a>                           .<span class="php-quote">'scalars or other structures, including lists.'</span> )
<a href="#908" id="908" class="l">  908: </a>        );
<a href="#909" id="909" class="l">  909: </a>        
<a href="#910" id="910" class="l">  910: </a>        <span class="php-comment">//</span>
<a href="#911" id="911" class="l">  911: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#912" id="912" class="l">  912: </a>        <span class="php-comment">//</span>
<a href="#913" id="913" class="l">  913: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#914" id="914" class="l">  914: </a>        
<a href="#915" id="915" class="l">  915: </a>        <span class="php-comment">//</span>
<a href="#916" id="916" class="l">  916: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#917" id="917" class="l">  917: </a>        <span class="php-comment">//</span>
<a href="#918" id="918" class="l">  918: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#919" id="919" class="l">  919: </a>        
<a href="#920" id="920" class="l">  920: </a>        <span class="php-comment">//</span>
<a href="#921" id="921" class="l">  921: </a>        <span class="php-comment">// Load terms.</span>
<a href="#922" id="922" class="l">  922: </a>        <span class="php-comment">//</span>
<a href="#923" id="923" class="l">  923: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#924" id="924" class="l">  924: </a>        {
<a href="#925" id="925" class="l">  925: </a>            <span class="php-comment">//</span>
<a href="#926" id="926" class="l">  926: </a>            <span class="php-comment">// Create term.</span>
<a href="#927" id="927" class="l">  927: </a>            <span class="php-comment">//</span>
<a href="#928" id="928" class="l">  928: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#929" id="929" class="l">  929: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#930" id="930" class="l">  930: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#931" id="931" class="l">  931: </a>            {
<a href="#932" id="932" class="l">  932: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#933" id="933" class="l">  933: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#934" id="934" class="l">  934: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#935" id="935" class="l">  935: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#936" id="936" class="l">  936: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#937" id="937" class="l">  937: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#938" id="938" class="l">  938: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#939" id="939" class="l">  939: </a>                
<a href="#940" id="940" class="l">  940: </a>                <span class="php-comment">//</span>
<a href="#941" id="941" class="l">  941: </a>                <span class="php-comment">// Display.</span>
<a href="#942" id="942" class="l">  942: </a>                <span class="php-comment">//</span>
<a href="#943" id="943" class="l">  943: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#944" id="944" class="l">  944: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#945" id="945" class="l">  945: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#946" id="946" class="l">  946: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#947" id="947" class="l">  947: </a>            }
<a href="#948" id="948" class="l">  948: </a>        }
<a href="#949" id="949" class="l">  949: </a>    
<a href="#950" id="950" class="l">  950: </a>    } <span class="php-comment">// LoadStructuredTypes.</span>
<a href="#951" id="951" class="l">  951: </a>
<a href="#952" id="952" class="l">  952: </a>     
<a href="#953" id="953" class="l">  953: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#954" id="954" class="l">  954: </a><span class="php-comment">     *  LoadEncodedTypes                                                                *
</span><a href="#955" id="955" class="l">  955: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#956" id="956" class="l">  956: </a>
<a href="#957" id="957" class="l">  957: </a>    <span class="php-comment">/**
</span><a href="#958" id="958" class="l">  958: </a><span class="php-comment">     * Load encoded data types.
</span><a href="#959" id="959" class="l">  959: </a><span class="php-comment">     *
</span><a href="#960" id="960" class="l">  960: </a><span class="php-comment">     * This function will load all file data types, file types are data types that represent
</span><a href="#961" id="961" class="l">  961: </a><span class="php-comment">     * data in files.
</span><a href="#962" id="962" class="l">  962: </a><span class="php-comment">     *
</span><a href="#963" id="963" class="l">  963: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#964" id="964" class="l">  964: </a><span class="php-comment">     * created terms.
</span><a href="#965" id="965" class="l">  965: </a><span class="php-comment">     *
</span><a href="#966" id="966" class="l">  966: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#967" id="967" class="l">  967: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#968" id="968" class="l">  968: </a><span class="php-comment">     *
</span><a href="#969" id="969" class="l">  969: </a><span class="php-comment">     * @access protected
</span><a href="#970" id="970" class="l">  970: </a><span class="php-comment">     */</span>
<a href="#971" id="971" class="l">  971: </a>    <span class="php-keyword1">function</span> LoadEncodedTypes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#972" id="972" class="l">  972: </a>    {
<a href="#973" id="973" class="l">  973: </a>        <span class="php-comment">//</span>
<a href="#974" id="974" class="l">  974: </a>        <span class="php-comment">// Inform.</span>
<a href="#975" id="975" class="l">  975: </a>        <span class="php-comment">//</span>
<a href="#976" id="976" class="l">  976: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#977" id="977" class="l">  977: </a>        {
<a href="#978" id="978" class="l">  978: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#979" id="979" class="l">  979: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#980" id="980" class="l">  980: </a>        }
<a href="#981" id="981" class="l">  981: </a>        
<a href="#982" id="982" class="l">  982: </a>        <span class="php-comment">//</span>
<a href="#983" id="983" class="l">  983: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#984" id="984" class="l">  984: </a>        <span class="php-comment">//</span>
<a href="#985" id="985" class="l">  985: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#986" id="986" class="l">  986: </a>        (
<a href="#987" id="987" class="l">  987: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_PHP,
<a href="#988" id="988" class="l">  988: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_PHP'</span>,
<a href="#989" id="989" class="l">  989: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'PHP'</span>,
<a href="#990" id="990" class="l">  990: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents PHP-encoded data.'</span> ),
<a href="#991" id="991" class="l">  991: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_JSON,
<a href="#992" id="992" class="l">  992: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_JSON'</span>,
<a href="#993" id="993" class="l">  993: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'JSON'</span>,
<a href="#994" id="994" class="l">  994: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents JSON-encoded data.'</span> ),
<a href="#995" id="995" class="l">  995: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_XML,
<a href="#996" id="996" class="l">  996: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_XML'</span>,
<a href="#997" id="997" class="l">  997: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'XML'</span>,
<a href="#998" id="998" class="l">  998: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents XML-encoded data.'</span> ),
<a href="#999" id="999" class="l">  999: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_HTML,
<a href="#1000" id="1000" class="l"> 1000: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_HTML'</span>,
<a href="#1001" id="1001" class="l"> 1001: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'HTML'</span>,
<a href="#1002" id="1002" class="l"> 1002: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents HTML-encoded data.'</span> ),
<a href="#1003" id="1003" class="l"> 1003: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_CSV,
<a href="#1004" id="1004" class="l"> 1004: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_CSV'</span>,
<a href="#1005" id="1005" class="l"> 1005: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'CSV'</span>,
<a href="#1006" id="1006" class="l"> 1006: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents CSV-encoded data.'</span> ),
<a href="#1007" id="1007" class="l"> 1007: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_SVG,
<a href="#1008" id="1008" class="l"> 1008: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_SVG'</span>,
<a href="#1009" id="1009" class="l"> 1009: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Scalable Vector Graphics'</span>,
<a href="#1010" id="1010" class="l"> 1010: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the Scalable Vector Graphics data type.'</span> ),
<a href="#1011" id="1011" class="l"> 1011: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_PNG,
<a href="#1012" id="1012" class="l"> 1012: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_PNG'</span>,
<a href="#1013" id="1013" class="l"> 1013: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Portable Network Graphics'</span>,
<a href="#1014" id="1014" class="l"> 1014: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the Portable Network Graphics data type.'</span> ),
<a href="#1015" id="1015" class="l"> 1015: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_META,
<a href="#1016" id="1016" class="l"> 1016: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_META'</span>,
<a href="#1017" id="1017" class="l"> 1017: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Metadata'</span>,
<a href="#1018" id="1018" class="l"> 1018: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents meta-data.'</span> )
<a href="#1019" id="1019" class="l"> 1019: </a>        );
<a href="#1020" id="1020" class="l"> 1020: </a>        
<a href="#1021" id="1021" class="l"> 1021: </a>        <span class="php-comment">//</span>
<a href="#1022" id="1022" class="l"> 1022: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#1023" id="1023" class="l"> 1023: </a>        <span class="php-comment">//</span>
<a href="#1024" id="1024" class="l"> 1024: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#1025" id="1025" class="l"> 1025: </a>        
<a href="#1026" id="1026" class="l"> 1026: </a>        <span class="php-comment">//</span>
<a href="#1027" id="1027" class="l"> 1027: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#1028" id="1028" class="l"> 1028: </a>        <span class="php-comment">//</span>
<a href="#1029" id="1029" class="l"> 1029: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#1030" id="1030" class="l"> 1030: </a>        
<a href="#1031" id="1031" class="l"> 1031: </a>        <span class="php-comment">//</span>
<a href="#1032" id="1032" class="l"> 1032: </a>        <span class="php-comment">// Load terms.</span>
<a href="#1033" id="1033" class="l"> 1033: </a>        <span class="php-comment">//</span>
<a href="#1034" id="1034" class="l"> 1034: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#1035" id="1035" class="l"> 1035: </a>        {
<a href="#1036" id="1036" class="l"> 1036: </a>            <span class="php-comment">//</span>
<a href="#1037" id="1037" class="l"> 1037: </a>            <span class="php-comment">// Create term.</span>
<a href="#1038" id="1038" class="l"> 1038: </a>            <span class="php-comment">//</span>
<a href="#1039" id="1039" class="l"> 1039: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#1040" id="1040" class="l"> 1040: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#1041" id="1041" class="l"> 1041: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#1042" id="1042" class="l"> 1042: </a>            {
<a href="#1043" id="1043" class="l"> 1043: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#1044" id="1044" class="l"> 1044: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#1045" id="1045" class="l"> 1045: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#1046" id="1046" class="l"> 1046: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#1047" id="1047" class="l"> 1047: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#1048" id="1048" class="l"> 1048: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#1049" id="1049" class="l"> 1049: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#1050" id="1050" class="l"> 1050: </a>                
<a href="#1051" id="1051" class="l"> 1051: </a>                <span class="php-comment">//</span>
<a href="#1052" id="1052" class="l"> 1052: </a>                <span class="php-comment">// Display.</span>
<a href="#1053" id="1053" class="l"> 1053: </a>                <span class="php-comment">//</span>
<a href="#1054" id="1054" class="l"> 1054: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1055" id="1055" class="l"> 1055: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#1056" id="1056" class="l"> 1056: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#1057" id="1057" class="l"> 1057: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1058" id="1058" class="l"> 1058: </a>            }
<a href="#1059" id="1059" class="l"> 1059: </a>        }
<a href="#1060" id="1060" class="l"> 1060: </a>    
<a href="#1061" id="1061" class="l"> 1061: </a>    } <span class="php-comment">// LoadEncodedTypes.</span>
<a href="#1062" id="1062" class="l"> 1062: </a>
<a href="#1063" id="1063" class="l"> 1063: </a>     
<a href="#1064" id="1064" class="l"> 1064: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#1065" id="1065" class="l"> 1065: </a><span class="php-comment">     *  LoadCustomTypes                                                                 *
</span><a href="#1066" id="1066" class="l"> 1066: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#1067" id="1067" class="l"> 1067: </a>
<a href="#1068" id="1068" class="l"> 1068: </a>    <span class="php-comment">/**
</span><a href="#1069" id="1069" class="l"> 1069: </a><span class="php-comment">     * Load custom data types.
</span><a href="#1070" id="1070" class="l"> 1070: </a><span class="php-comment">     *
</span><a href="#1071" id="1071" class="l"> 1071: </a><span class="php-comment">     * This function will load all custom data types, in general it will apply to custom
</span><a href="#1072" id="1072" class="l"> 1072: </a><span class="php-comment">     * native data types
</span><a href="#1073" id="1073" class="l"> 1073: </a><span class="php-comment">     *
</span><a href="#1074" id="1074" class="l"> 1074: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#1075" id="1075" class="l"> 1075: </a><span class="php-comment">     * created terms.
</span><a href="#1076" id="1076" class="l"> 1076: </a><span class="php-comment">     *
</span><a href="#1077" id="1077" class="l"> 1077: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#1078" id="1078" class="l"> 1078: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#1079" id="1079" class="l"> 1079: </a><span class="php-comment">     *
</span><a href="#1080" id="1080" class="l"> 1080: </a><span class="php-comment">     * @access protected
</span><a href="#1081" id="1081" class="l"> 1081: </a><span class="php-comment">     */</span>
<a href="#1082" id="1082" class="l"> 1082: </a>    <span class="php-keyword1">function</span> LoadCustomTypes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#1083" id="1083" class="l"> 1083: </a>    {
<a href="#1084" id="1084" class="l"> 1084: </a>        <span class="php-comment">//</span>
<a href="#1085" id="1085" class="l"> 1085: </a>        <span class="php-comment">// Inform.</span>
<a href="#1086" id="1086" class="l"> 1086: </a>        <span class="php-comment">//</span>
<a href="#1087" id="1087" class="l"> 1087: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1088" id="1088" class="l"> 1088: </a>        {
<a href="#1089" id="1089" class="l"> 1089: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1090" id="1090" class="l"> 1090: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#1091" id="1091" class="l"> 1091: </a>        }
<a href="#1092" id="1092" class="l"> 1092: </a>        
<a href="#1093" id="1093" class="l"> 1093: </a>        <span class="php-comment">//</span>
<a href="#1094" id="1094" class="l"> 1094: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#1095" id="1095" class="l"> 1095: </a>        <span class="php-comment">//</span>
<a href="#1096" id="1096" class="l"> 1096: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#1097" id="1097" class="l"> 1097: </a>        (
<a href="#1098" id="1098" class="l"> 1098: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_MongoId,
<a href="#1099" id="1099" class="l"> 1099: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_MongoId'</span>,
<a href="#1100" id="1100" class="l"> 1100: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'MongoId'</span>,
<a href="#1101" id="1101" class="l"> 1101: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a MongoId data type.'</span> ),
<a href="#1102" id="1102" class="l"> 1102: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_MongoCode,
<a href="#1103" id="1103" class="l"> 1103: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_MongoCode'</span>,
<a href="#1104" id="1104" class="l"> 1104: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'MongoCode'</span>,
<a href="#1105" id="1105" class="l"> 1105: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a MongoCode data type.'</span> )
<a href="#1106" id="1106" class="l"> 1106: </a>        );
<a href="#1107" id="1107" class="l"> 1107: </a>        
<a href="#1108" id="1108" class="l"> 1108: </a>        <span class="php-comment">//</span>
<a href="#1109" id="1109" class="l"> 1109: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#1110" id="1110" class="l"> 1110: </a>        <span class="php-comment">//</span>
<a href="#1111" id="1111" class="l"> 1111: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#1112" id="1112" class="l"> 1112: </a>        
<a href="#1113" id="1113" class="l"> 1113: </a>        <span class="php-comment">//</span>
<a href="#1114" id="1114" class="l"> 1114: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#1115" id="1115" class="l"> 1115: </a>        <span class="php-comment">//</span>
<a href="#1116" id="1116" class="l"> 1116: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#1117" id="1117" class="l"> 1117: </a>        
<a href="#1118" id="1118" class="l"> 1118: </a>        <span class="php-comment">//</span>
<a href="#1119" id="1119" class="l"> 1119: </a>        <span class="php-comment">// Load terms.</span>
<a href="#1120" id="1120" class="l"> 1120: </a>        <span class="php-comment">//</span>
<a href="#1121" id="1121" class="l"> 1121: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#1122" id="1122" class="l"> 1122: </a>        {
<a href="#1123" id="1123" class="l"> 1123: </a>            <span class="php-comment">//</span>
<a href="#1124" id="1124" class="l"> 1124: </a>            <span class="php-comment">// Create term.</span>
<a href="#1125" id="1125" class="l"> 1125: </a>            <span class="php-comment">//</span>
<a href="#1126" id="1126" class="l"> 1126: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#1127" id="1127" class="l"> 1127: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#1128" id="1128" class="l"> 1128: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#1129" id="1129" class="l"> 1129: </a>            {
<a href="#1130" id="1130" class="l"> 1130: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#1131" id="1131" class="l"> 1131: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#1132" id="1132" class="l"> 1132: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#1133" id="1133" class="l"> 1133: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#1134" id="1134" class="l"> 1134: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#1135" id="1135" class="l"> 1135: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#1136" id="1136" class="l"> 1136: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#1137" id="1137" class="l"> 1137: </a>                
<a href="#1138" id="1138" class="l"> 1138: </a>                <span class="php-comment">//</span>
<a href="#1139" id="1139" class="l"> 1139: </a>                <span class="php-comment">// Display.</span>
<a href="#1140" id="1140" class="l"> 1140: </a>                <span class="php-comment">//</span>
<a href="#1141" id="1141" class="l"> 1141: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1142" id="1142" class="l"> 1142: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#1143" id="1143" class="l"> 1143: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#1144" id="1144" class="l"> 1144: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1145" id="1145" class="l"> 1145: </a>            }
<a href="#1146" id="1146" class="l"> 1146: </a>        }
<a href="#1147" id="1147" class="l"> 1147: </a>    
<a href="#1148" id="1148" class="l"> 1148: </a>    } <span class="php-comment">// LoadCustomTypes.</span>
<a href="#1149" id="1149" class="l"> 1149: </a>
<a href="#1150" id="1150" class="l"> 1150: </a>     
<a href="#1151" id="1151" class="l"> 1151: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#1152" id="1152" class="l"> 1152: </a><span class="php-comment">     *  LoadReferenceTypes                                                              *
</span><a href="#1153" id="1153" class="l"> 1153: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#1154" id="1154" class="l"> 1154: </a>
<a href="#1155" id="1155" class="l"> 1155: </a>    <span class="php-comment">/**
</span><a href="#1156" id="1156" class="l"> 1156: </a><span class="php-comment">     * Load reference types.
</span><a href="#1157" id="1157" class="l"> 1157: </a><span class="php-comment">     *
</span><a href="#1158" id="1158" class="l"> 1158: </a><span class="php-comment">     * This function will load all default reference types.
</span><a href="#1159" id="1159" class="l"> 1159: </a><span class="php-comment">     *
</span><a href="#1160" id="1160" class="l"> 1160: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#1161" id="1161" class="l"> 1161: </a><span class="php-comment">     * created terms.
</span><a href="#1162" id="1162" class="l"> 1162: </a><span class="php-comment">     *
</span><a href="#1163" id="1163" class="l"> 1163: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#1164" id="1164" class="l"> 1164: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#1165" id="1165" class="l"> 1165: </a><span class="php-comment">     *
</span><a href="#1166" id="1166" class="l"> 1166: </a><span class="php-comment">     * @access protected
</span><a href="#1167" id="1167" class="l"> 1167: </a><span class="php-comment">     */</span>
<a href="#1168" id="1168" class="l"> 1168: </a>    <span class="php-keyword1">function</span> LoadReferenceTypes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#1169" id="1169" class="l"> 1169: </a>    {
<a href="#1170" id="1170" class="l"> 1170: </a>        <span class="php-comment">//</span>
<a href="#1171" id="1171" class="l"> 1171: </a>        <span class="php-comment">// Inform.</span>
<a href="#1172" id="1172" class="l"> 1172: </a>        <span class="php-comment">//</span>
<a href="#1173" id="1173" class="l"> 1173: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1174" id="1174" class="l"> 1174: </a>        {
<a href="#1175" id="1175" class="l"> 1175: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1176" id="1176" class="l"> 1176: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#1177" id="1177" class="l"> 1177: </a>        }
<a href="#1178" id="1178" class="l"> 1178: </a>        
<a href="#1179" id="1179" class="l"> 1179: </a>        <span class="php-comment">//</span>
<a href="#1180" id="1180" class="l"> 1180: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#1181" id="1181" class="l"> 1181: </a>        <span class="php-comment">//</span>
<a href="#1182" id="1182" class="l"> 1182: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#1183" id="1183" class="l"> 1183: </a>        (
<a href="#1184" id="1184" class="l"> 1184: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_EXACT,
<a href="#1185" id="1185" class="l"> 1185: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_EXACT'</span>,
<a href="#1186" id="1186" class="l"> 1186: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Exact reference'</span>,
<a href="#1187" id="1187" class="l"> 1187: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents an exact reference or synonym.'</span> ),
<a href="#1188" id="1188" class="l"> 1188: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_BROAD,
<a href="#1189" id="1189" class="l"> 1189: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_BROAD'</span>,
<a href="#1190" id="1190" class="l"> 1190: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Broad reference'</span>,
<a href="#1191" id="1191" class="l"> 1191: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a broad reference or synonym.'</span> ),
<a href="#1192" id="1192" class="l"> 1192: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_NARROW,
<a href="#1193" id="1193" class="l"> 1193: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_NARROW'</span>,
<a href="#1194" id="1194" class="l"> 1194: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Narrow reference'</span>,
<a href="#1195" id="1195" class="l"> 1195: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a narrow reference or synonym.'</span> ),
<a href="#1196" id="1196" class="l"> 1196: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_RELATED,
<a href="#1197" id="1197" class="l"> 1197: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_RELATED'</span>,
<a href="#1198" id="1198" class="l"> 1198: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Related reference'</span>,
<a href="#1199" id="1199" class="l"> 1199: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a related reference or synonym.'</span> )
<a href="#1200" id="1200" class="l"> 1200: </a>        );
<a href="#1201" id="1201" class="l"> 1201: </a>        
<a href="#1202" id="1202" class="l"> 1202: </a>        <span class="php-comment">//</span>
<a href="#1203" id="1203" class="l"> 1203: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#1204" id="1204" class="l"> 1204: </a>        <span class="php-comment">//</span>
<a href="#1205" id="1205" class="l"> 1205: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#1206" id="1206" class="l"> 1206: </a>        
<a href="#1207" id="1207" class="l"> 1207: </a>        <span class="php-comment">//</span>
<a href="#1208" id="1208" class="l"> 1208: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#1209" id="1209" class="l"> 1209: </a>        <span class="php-comment">//</span>
<a href="#1210" id="1210" class="l"> 1210: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#1211" id="1211" class="l"> 1211: </a>        
<a href="#1212" id="1212" class="l"> 1212: </a>        <span class="php-comment">//</span>
<a href="#1213" id="1213" class="l"> 1213: </a>        <span class="php-comment">// Load terms.</span>
<a href="#1214" id="1214" class="l"> 1214: </a>        <span class="php-comment">//</span>
<a href="#1215" id="1215" class="l"> 1215: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#1216" id="1216" class="l"> 1216: </a>        {
<a href="#1217" id="1217" class="l"> 1217: </a>            <span class="php-comment">//</span>
<a href="#1218" id="1218" class="l"> 1218: </a>            <span class="php-comment">// Create term.</span>
<a href="#1219" id="1219" class="l"> 1219: </a>            <span class="php-comment">//</span>
<a href="#1220" id="1220" class="l"> 1220: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#1221" id="1221" class="l"> 1221: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#1222" id="1222" class="l"> 1222: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#1223" id="1223" class="l"> 1223: </a>            {
<a href="#1224" id="1224" class="l"> 1224: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#1225" id="1225" class="l"> 1225: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#1226" id="1226" class="l"> 1226: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#1227" id="1227" class="l"> 1227: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#1228" id="1228" class="l"> 1228: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#1229" id="1229" class="l"> 1229: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#1230" id="1230" class="l"> 1230: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#1231" id="1231" class="l"> 1231: </a>                
<a href="#1232" id="1232" class="l"> 1232: </a>                <span class="php-comment">//</span>
<a href="#1233" id="1233" class="l"> 1233: </a>                <span class="php-comment">// Display.</span>
<a href="#1234" id="1234" class="l"> 1234: </a>                <span class="php-comment">//</span>
<a href="#1235" id="1235" class="l"> 1235: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1236" id="1236" class="l"> 1236: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#1237" id="1237" class="l"> 1237: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#1238" id="1238" class="l"> 1238: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1239" id="1239" class="l"> 1239: </a>            }
<a href="#1240" id="1240" class="l"> 1240: </a>        }
<a href="#1241" id="1241" class="l"> 1241: </a>    
<a href="#1242" id="1242" class="l"> 1242: </a>    } <span class="php-comment">// LoadReferenceTypes.</span>
<a href="#1243" id="1243" class="l"> 1243: </a>
<a href="#1244" id="1244" class="l"> 1244: </a>     
<a href="#1245" id="1245" class="l"> 1245: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#1246" id="1246" class="l"> 1246: </a><span class="php-comment">     *  LoadTermTypes                                                                   *
</span><a href="#1247" id="1247" class="l"> 1247: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#1248" id="1248" class="l"> 1248: </a>
<a href="#1249" id="1249" class="l"> 1249: </a>    <span class="php-comment">/**
</span><a href="#1250" id="1250" class="l"> 1250: </a><span class="php-comment">     * Load reference types.
</span><a href="#1251" id="1251" class="l"> 1251: </a><span class="php-comment">     *
</span><a href="#1252" id="1252" class="l"> 1252: </a><span class="php-comment">     * This function will load all default term types.
</span><a href="#1253" id="1253" class="l"> 1253: </a><span class="php-comment">     *
</span><a href="#1254" id="1254" class="l"> 1254: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#1255" id="1255" class="l"> 1255: </a><span class="php-comment">     * created terms.
</span><a href="#1256" id="1256" class="l"> 1256: </a><span class="php-comment">     *
</span><a href="#1257" id="1257" class="l"> 1257: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#1258" id="1258" class="l"> 1258: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#1259" id="1259" class="l"> 1259: </a><span class="php-comment">     *
</span><a href="#1260" id="1260" class="l"> 1260: </a><span class="php-comment">     * @access protected
</span><a href="#1261" id="1261" class="l"> 1261: </a><span class="php-comment">     */</span>
<a href="#1262" id="1262" class="l"> 1262: </a>    <span class="php-keyword1">function</span> LoadTermTypes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#1263" id="1263" class="l"> 1263: </a>    {
<a href="#1264" id="1264" class="l"> 1264: </a>        <span class="php-comment">//</span>
<a href="#1265" id="1265" class="l"> 1265: </a>        <span class="php-comment">// Inform.</span>
<a href="#1266" id="1266" class="l"> 1266: </a>        <span class="php-comment">//</span>
<a href="#1267" id="1267" class="l"> 1267: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1268" id="1268" class="l"> 1268: </a>        {
<a href="#1269" id="1269" class="l"> 1269: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1270" id="1270" class="l"> 1270: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#1271" id="1271" class="l"> 1271: </a>        }
<a href="#1272" id="1272" class="l"> 1272: </a>        
<a href="#1273" id="1273" class="l"> 1273: </a>        <span class="php-comment">//</span>
<a href="#1274" id="1274" class="l"> 1274: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#1275" id="1275" class="l"> 1275: </a>        <span class="php-comment">//</span>
<a href="#1276" id="1276" class="l"> 1276: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#1277" id="1277" class="l"> 1277: </a>        (
<a href="#1278" id="1278" class="l"> 1278: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_ROOT,
<a href="#1279" id="1279" class="l"> 1279: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_ROOT'</span>,
<a href="#1280" id="1280" class="l"> 1280: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Root'</span>,
<a href="#1281" id="1281" class="l"> 1281: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A root node is an entry point into an ontology, '</span>
<a href="#1282" id="1282" class="l"> 1282: </a>                           .<span class="php-quote">'it represents the term that defines the whole ontology.'</span> ),
<a href="#1283" id="1283" class="l"> 1283: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_NAMESPACE,
<a href="#1284" id="1284" class="l"> 1284: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_NAMESPACE'</span>,
<a href="#1285" id="1285" class="l"> 1285: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Namespace'</span>,
<a href="#1286" id="1286" class="l"> 1286: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A namespace term is used as a container for a set of other '</span>
<a href="#1287" id="1287" class="l"> 1287: </a>                           .<span class="php-quote">'term identifiers to allow the disambiguation of homonym '</span>
<a href="#1288" id="1288" class="l"> 1288: </a>                           .<span class="php-quote">'identifiers residing in different namespaces. In general, '</span>
<a href="#1289" id="1289" class="l"> 1289: </a>                           .<span class="php-quote">'namespaces are grouped by functionality.'</span> ),
<a href="#1290" id="1290" class="l"> 1290: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_ATTRIBUTE,
<a href="#1291" id="1291" class="l"> 1291: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_ATTRIBUTE'</span>,
<a href="#1292" id="1292" class="l"> 1292: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Attribute'</span>,
<a href="#1293" id="1293" class="l"> 1293: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'An attribute term is used to tag attributes or properties of '</span>
<a href="#1294" id="1294" class="l"> 1294: </a>                           .<span class="php-quote">'an object, it describes and identifies a specific property '</span>
<a href="#1295" id="1295" class="l"> 1295: </a>                           .<span class="php-quote">'or quality of an object.'</span> ),
<a href="#1296" id="1296" class="l"> 1296: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_TYPEDEF,
<a href="#1297" id="1297" class="l"> 1297: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_TYPEDEF'</span>,
<a href="#1298" id="1298" class="l"> 1298: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Type definition'</span>,
<a href="#1299" id="1299" class="l"> 1299: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A type definition node is used to record the data structure '</span>
<a href="#1300" id="1300" class="l"> 1300: </a>                           .<span class="php-quote">'of an attribute or property. It forms a graph of nodes which '</span>
<a href="#1301" id="1301" class="l"> 1301: </a>                           .<span class="php-quote">'are in turn type definitions or primitive types, this '</span>
<a href="#1302" id="1302" class="l"> 1302: </a>                           .<span class="php-quote">'structure can be used to illustrate a data structure.'</span> ),
<a href="#1303" id="1303" class="l"> 1303: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_PREDICATE,
<a href="#1304" id="1304" class="l"> 1304: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_PREDICATE'</span>,
<a href="#1305" id="1305" class="l"> 1305: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Predicate'</span>,
<a href="#1306" id="1306" class="l"> 1306: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A predicate term is used to qualify the relation between a '</span>
<a href="#1307" id="1307" class="l"> 1307: </a>                           .<span class="php-quote">'subject and an object, it represents the type or kind of the '</span>
<a href="#1308" id="1308" class="l"> 1308: </a>                           .<span class="php-quote">'relationship.'</span> ),
<a href="#1309" id="1309" class="l"> 1309: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_TRAIT,
<a href="#1310" id="1310" class="l"> 1310: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_TRAIT'</span>,
<a href="#1311" id="1311" class="l"> 1311: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Trait'</span>,
<a href="#1312" id="1312" class="l"> 1312: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A trait node is generally a leaf node of an ontology, it '</span>
<a href="#1313" id="1313" class="l"> 1313: </a>                           .<span class="php-quote">'defines a leaf concept that may be used to annotate data. '</span>
<a href="#1314" id="1314" class="l"> 1314: </a>                           .<span class="php-quote">'Plant height, for instance, is a trait. The only child nodes '</span>
<a href="#1315" id="1315" class="l"> 1315: </a>                           .<span class="php-quote">'of a trait can be methods and scales.'</span> ),
<a href="#1316" id="1316" class="l"> 1316: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_METHOD,
<a href="#1317" id="1317" class="l"> 1317: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_METHOD'</span>,
<a href="#1318" id="1318" class="l"> 1318: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Method'</span>,
<a href="#1319" id="1319" class="l"> 1319: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A method is a node that defines the specific method or '</span>
<a href="#1320" id="1320" class="l"> 1320: </a>                           .<span class="php-quote">'workflow with which trait data is collected. Methods are used '</span>
<a href="#1321" id="1321" class="l"> 1321: </a>                           .<span class="php-quote">'to record variations in the way a specific trait data is '</span>
<a href="#1322" id="1322" class="l"> 1322: </a>                           .<span class="php-quote">'measured or collected.'</span> ),
<a href="#1323" id="1323" class="l"> 1323: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_MEASURE,
<a href="#1324" id="1324" class="l"> 1324: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_MEASURE'</span>,
<a href="#1325" id="1325" class="l"> 1325: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Measure'</span>,
<a href="#1326" id="1326" class="l"> 1326: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A measure or scale node defines the specific data type of '</span>
<a href="#1327" id="1327" class="l"> 1327: </a>                           .<span class="php-quote">'a trait or method. One method or trait may be expressed in '</span>
<a href="#1328" id="1328" class="l"> 1328: </a>                           .<span class="php-quote">'many different types of measures or scales.'</span> ),
<a href="#1329" id="1329" class="l"> 1329: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_ANNOTATION,
<a href="#1330" id="1330" class="l"> 1330: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_ANNOTATION'</span>,
<a href="#1331" id="1331" class="l"> 1331: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Annotation'</span>,
<a href="#1332" id="1332" class="l"> 1332: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Data elements are tagged by annotations, these annotations '</span>
<a href="#1333" id="1333" class="l"> 1333: </a>                           .<span class="php-quote">'describe the trait, method and scale of the data and are '</span>
<a href="#1334" id="1334" class="l"> 1334: </a>                           .<span class="php-quote">'expressed as a sequence of terms.'</span> ),
<a href="#1335" id="1335" class="l"> 1335: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_ENUMERATION,
<a href="#1336" id="1336" class="l"> 1336: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_ENUMERATION'</span>,
<a href="#1337" id="1337" class="l"> 1337: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Enumeration'</span>,
<a href="#1338" id="1338" class="l"> 1338: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'An enumeration is a term that represents an element of a '</span>
<a href="#1339" id="1339" class="l"> 1339: </a>                           .<span class="php-quote">'controlled vocabulary.'</span> ),
<a href="#1340" id="1340" class="l"> 1340: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTYPE_DICTIONARY,
<a href="#1341" id="1341" class="l"> 1341: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTYPE_DICTIONARY'</span>,
<a href="#1342" id="1342" class="l"> 1342: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Dictionary'</span>,
<a href="#1343" id="1343" class="l"> 1343: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A dictionary node is a root node of a graph that represents a '</span>
<a href="#1344" id="1344" class="l"> 1344: </a>                           .<span class="php-quote">'data structure or dictionary.'</span> )
<a href="#1345" id="1345" class="l"> 1345: </a>        );
<a href="#1346" id="1346" class="l"> 1346: </a>        
<a href="#1347" id="1347" class="l"> 1347: </a>        <span class="php-comment">//</span>
<a href="#1348" id="1348" class="l"> 1348: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#1349" id="1349" class="l"> 1349: </a>        <span class="php-comment">//</span>
<a href="#1350" id="1350" class="l"> 1350: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#1351" id="1351" class="l"> 1351: </a>        
<a href="#1352" id="1352" class="l"> 1352: </a>        <span class="php-comment">//</span>
<a href="#1353" id="1353" class="l"> 1353: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#1354" id="1354" class="l"> 1354: </a>        <span class="php-comment">//</span>
<a href="#1355" id="1355" class="l"> 1355: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#1356" id="1356" class="l"> 1356: </a>        
<a href="#1357" id="1357" class="l"> 1357: </a>        <span class="php-comment">//</span>
<a href="#1358" id="1358" class="l"> 1358: </a>        <span class="php-comment">// Load terms.</span>
<a href="#1359" id="1359" class="l"> 1359: </a>        <span class="php-comment">//</span>
<a href="#1360" id="1360" class="l"> 1360: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#1361" id="1361" class="l"> 1361: </a>        {
<a href="#1362" id="1362" class="l"> 1362: </a>            <span class="php-comment">//</span>
<a href="#1363" id="1363" class="l"> 1363: </a>            <span class="php-comment">// Create term.</span>
<a href="#1364" id="1364" class="l"> 1364: </a>            <span class="php-comment">//</span>
<a href="#1365" id="1365" class="l"> 1365: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#1366" id="1366" class="l"> 1366: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#1367" id="1367" class="l"> 1367: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#1368" id="1368" class="l"> 1368: </a>            {
<a href="#1369" id="1369" class="l"> 1369: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#1370" id="1370" class="l"> 1370: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#1371" id="1371" class="l"> 1371: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#1372" id="1372" class="l"> 1372: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#1373" id="1373" class="l"> 1373: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#1374" id="1374" class="l"> 1374: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#1375" id="1375" class="l"> 1375: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#1376" id="1376" class="l"> 1376: </a>                
<a href="#1377" id="1377" class="l"> 1377: </a>                <span class="php-comment">//</span>
<a href="#1378" id="1378" class="l"> 1378: </a>                <span class="php-comment">// Display.</span>
<a href="#1379" id="1379" class="l"> 1379: </a>                <span class="php-comment">//</span>
<a href="#1380" id="1380" class="l"> 1380: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1381" id="1381" class="l"> 1381: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#1382" id="1382" class="l"> 1382: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#1383" id="1383" class="l"> 1383: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1384" id="1384" class="l"> 1384: </a>            }
<a href="#1385" id="1385" class="l"> 1385: </a>        }
<a href="#1386" id="1386" class="l"> 1386: </a>    
<a href="#1387" id="1387" class="l"> 1387: </a>    } <span class="php-comment">// LoadTermTypes.</span>
<a href="#1388" id="1388" class="l"> 1388: </a>
<a href="#1389" id="1389" class="l"> 1389: </a>     
<a href="#1390" id="1390" class="l"> 1390: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#1391" id="1391" class="l"> 1391: </a><span class="php-comment">     *  LoadCardinalityTypes                                                            *
</span><a href="#1392" id="1392" class="l"> 1392: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#1393" id="1393" class="l"> 1393: </a>
<a href="#1394" id="1394" class="l"> 1394: </a>    <span class="php-comment">/**
</span><a href="#1395" id="1395" class="l"> 1395: </a><span class="php-comment">     * Load cardinality types.
</span><a href="#1396" id="1396" class="l"> 1396: </a><span class="php-comment">     *
</span><a href="#1397" id="1397" class="l"> 1397: </a><span class="php-comment">     * This function will load all default cardinality types.
</span><a href="#1398" id="1398" class="l"> 1398: </a><span class="php-comment">     *
</span><a href="#1399" id="1399" class="l"> 1399: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#1400" id="1400" class="l"> 1400: </a><span class="php-comment">     * created terms.
</span><a href="#1401" id="1401" class="l"> 1401: </a><span class="php-comment">     *
</span><a href="#1402" id="1402" class="l"> 1402: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#1403" id="1403" class="l"> 1403: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#1404" id="1404" class="l"> 1404: </a><span class="php-comment">     *
</span><a href="#1405" id="1405" class="l"> 1405: </a><span class="php-comment">     * @access protected
</span><a href="#1406" id="1406" class="l"> 1406: </a><span class="php-comment">     */</span>
<a href="#1407" id="1407" class="l"> 1407: </a>    <span class="php-keyword1">function</span> LoadCardinalityTypes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#1408" id="1408" class="l"> 1408: </a>    {
<a href="#1409" id="1409" class="l"> 1409: </a>        <span class="php-comment">//</span>
<a href="#1410" id="1410" class="l"> 1410: </a>        <span class="php-comment">// Inform.</span>
<a href="#1411" id="1411" class="l"> 1411: </a>        <span class="php-comment">//</span>
<a href="#1412" id="1412" class="l"> 1412: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1413" id="1413" class="l"> 1413: </a>        {
<a href="#1414" id="1414" class="l"> 1414: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1415" id="1415" class="l"> 1415: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#1416" id="1416" class="l"> 1416: </a>        }
<a href="#1417" id="1417" class="l"> 1417: </a>        
<a href="#1418" id="1418" class="l"> 1418: </a>        <span class="php-comment">//</span>
<a href="#1419" id="1419" class="l"> 1419: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#1420" id="1420" class="l"> 1420: </a>        <span class="php-comment">//</span>
<a href="#1421" id="1421" class="l"> 1421: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#1422" id="1422" class="l"> 1422: </a>        (
<a href="#1423" id="1423" class="l"> 1423: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kCARD_0_1,
<a href="#1424" id="1424" class="l"> 1424: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#1425" id="1425" class="l"> 1425: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Zero or one'</span>,
<a href="#1426" id="1426" class="l"> 1426: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term defines a cardinality of zero or one.'</span> ),
<a href="#1427" id="1427" class="l"> 1427: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kCARD_1,
<a href="#1428" id="1428" class="l"> 1428: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#1429" id="1429" class="l"> 1429: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'One'</span>,
<a href="#1430" id="1430" class="l"> 1430: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term defines a cardinality of exactly one.'</span> ),
<a href="#1431" id="1431" class="l"> 1431: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kCARD_ANY,
<a href="#1432" id="1432" class="l"> 1432: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#1433" id="1433" class="l"> 1433: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Any'</span>,
<a href="#1434" id="1434" class="l"> 1434: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term defines a cardinality of any kind.'</span> )
<a href="#1435" id="1435" class="l"> 1435: </a>        );
<a href="#1436" id="1436" class="l"> 1436: </a>        
<a href="#1437" id="1437" class="l"> 1437: </a>        <span class="php-comment">//</span>
<a href="#1438" id="1438" class="l"> 1438: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#1439" id="1439" class="l"> 1439: </a>        <span class="php-comment">//</span>
<a href="#1440" id="1440" class="l"> 1440: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#1441" id="1441" class="l"> 1441: </a>        
<a href="#1442" id="1442" class="l"> 1442: </a>        <span class="php-comment">//</span>
<a href="#1443" id="1443" class="l"> 1443: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#1444" id="1444" class="l"> 1444: </a>        <span class="php-comment">//</span>
<a href="#1445" id="1445" class="l"> 1445: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#1446" id="1446" class="l"> 1446: </a>        
<a href="#1447" id="1447" class="l"> 1447: </a>        <span class="php-comment">//</span>
<a href="#1448" id="1448" class="l"> 1448: </a>        <span class="php-comment">// Load terms.</span>
<a href="#1449" id="1449" class="l"> 1449: </a>        <span class="php-comment">//</span>
<a href="#1450" id="1450" class="l"> 1450: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#1451" id="1451" class="l"> 1451: </a>        {
<a href="#1452" id="1452" class="l"> 1452: </a>            <span class="php-comment">//</span>
<a href="#1453" id="1453" class="l"> 1453: </a>            <span class="php-comment">// Create term.</span>
<a href="#1454" id="1454" class="l"> 1454: </a>            <span class="php-comment">//</span>
<a href="#1455" id="1455" class="l"> 1455: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#1456" id="1456" class="l"> 1456: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#1457" id="1457" class="l"> 1457: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#1458" id="1458" class="l"> 1458: </a>            {
<a href="#1459" id="1459" class="l"> 1459: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#1460" id="1460" class="l"> 1460: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#1461" id="1461" class="l"> 1461: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#1462" id="1462" class="l"> 1462: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#1463" id="1463" class="l"> 1463: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#1464" id="1464" class="l"> 1464: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#1465" id="1465" class="l"> 1465: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#1466" id="1466" class="l"> 1466: </a>                
<a href="#1467" id="1467" class="l"> 1467: </a>                <span class="php-comment">//</span>
<a href="#1468" id="1468" class="l"> 1468: </a>                <span class="php-comment">// Display.</span>
<a href="#1469" id="1469" class="l"> 1469: </a>                <span class="php-comment">//</span>
<a href="#1470" id="1470" class="l"> 1470: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1471" id="1471" class="l"> 1471: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#1472" id="1472" class="l"> 1472: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#1473" id="1473" class="l"> 1473: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1474" id="1474" class="l"> 1474: </a>            }
<a href="#1475" id="1475" class="l"> 1475: </a>        }
<a href="#1476" id="1476" class="l"> 1476: </a>    
<a href="#1477" id="1477" class="l"> 1477: </a>    } <span class="php-comment">// LoadCardinalityTypes.</span>
<a href="#1478" id="1478" class="l"> 1478: </a>
<a href="#1479" id="1479" class="l"> 1479: </a>     
<a href="#1480" id="1480" class="l"> 1480: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#1481" id="1481" class="l"> 1481: </a><span class="php-comment">     *  LoadOperatorTypes                                                               *
</span><a href="#1482" id="1482" class="l"> 1482: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#1483" id="1483" class="l"> 1483: </a>
<a href="#1484" id="1484" class="l"> 1484: </a>    <span class="php-comment">/**
</span><a href="#1485" id="1485" class="l"> 1485: </a><span class="php-comment">     * Load operator types.
</span><a href="#1486" id="1486" class="l"> 1486: </a><span class="php-comment">     *
</span><a href="#1487" id="1487" class="l"> 1487: </a><span class="php-comment">     * This function will load all default operator types.
</span><a href="#1488" id="1488" class="l"> 1488: </a><span class="php-comment">     *
</span><a href="#1489" id="1489" class="l"> 1489: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#1490" id="1490" class="l"> 1490: </a><span class="php-comment">     * created terms.
</span><a href="#1491" id="1491" class="l"> 1491: </a><span class="php-comment">     *
</span><a href="#1492" id="1492" class="l"> 1492: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#1493" id="1493" class="l"> 1493: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#1494" id="1494" class="l"> 1494: </a><span class="php-comment">     *
</span><a href="#1495" id="1495" class="l"> 1495: </a><span class="php-comment">     * @access protected
</span><a href="#1496" id="1496" class="l"> 1496: </a><span class="php-comment">     */</span>
<a href="#1497" id="1497" class="l"> 1497: </a>    <span class="php-keyword1">function</span> LoadOperatorTypes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#1498" id="1498" class="l"> 1498: </a>    {
<a href="#1499" id="1499" class="l"> 1499: </a>        <span class="php-comment">//</span>
<a href="#1500" id="1500" class="l"> 1500: </a>        <span class="php-comment">// Inform.</span>
<a href="#1501" id="1501" class="l"> 1501: </a>        <span class="php-comment">//</span>
<a href="#1502" id="1502" class="l"> 1502: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1503" id="1503" class="l"> 1503: </a>        {
<a href="#1504" id="1504" class="l"> 1504: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1505" id="1505" class="l"> 1505: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#1506" id="1506" class="l"> 1506: </a>        }
<a href="#1507" id="1507" class="l"> 1507: </a>        
<a href="#1508" id="1508" class="l"> 1508: </a>        <span class="php-comment">//</span>
<a href="#1509" id="1509" class="l"> 1509: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#1510" id="1510" class="l"> 1510: </a>        <span class="php-comment">//</span>
<a href="#1511" id="1511" class="l"> 1511: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#1512" id="1512" class="l"> 1512: </a>        (
<a href="#1513" id="1513" class="l"> 1513: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_DISABLED,
<a href="#1514" id="1514" class="l"> 1514: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_DISABLED'</span>,
<a href="#1515" id="1515" class="l"> 1515: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Disabled'</span>,
<a href="#1516" id="1516" class="l"> 1516: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents a disabled operator.'</span> ),
<a href="#1517" id="1517" class="l"> 1517: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_EQUAL,
<a href="#1518" id="1518" class="l"> 1518: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_EQUAL'</span>,
<a href="#1519" id="1519" class="l"> 1519: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Equals'</span>,
<a href="#1520" id="1520" class="l"> 1520: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents equality.'</span> ),
<a href="#1521" id="1521" class="l"> 1521: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_EQUAL_NOT,
<a href="#1522" id="1522" class="l"> 1522: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_EQUAL_NOT'</span>,
<a href="#1523" id="1523" class="l"> 1523: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Not equal'</span>,
<a href="#1524" id="1524" class="l"> 1524: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents inequality.'</span> ),
<a href="#1525" id="1525" class="l"> 1525: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_LIKE,
<a href="#1526" id="1526" class="l"> 1526: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_LIKE'</span>,
<a href="#1527" id="1527" class="l"> 1527: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Like'</span>,
<a href="#1528" id="1528" class="l"> 1528: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents case and accent matching '</span>
<a href="#1529" id="1529" class="l"> 1529: </a>                           .<span class="php-quote">'(for strings).'</span> ),
<a href="#1530" id="1530" class="l"> 1530: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_LIKE_NOT,
<a href="#1531" id="1531" class="l"> 1531: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_LIKE_NOT'</span>,
<a href="#1532" id="1532" class="l"> 1532: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Not like'</span>,
<a href="#1533" id="1533" class="l"> 1533: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents case and accent non matching '</span>
<a href="#1534" id="1534" class="l"> 1534: </a>                           .<span class="php-quote">'(for strings).'</span> ),
<a href="#1535" id="1535" class="l"> 1535: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_PREFIX,
<a href="#1536" id="1536" class="l"> 1536: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_PREFIX'</span>,
<a href="#1537" id="1537" class="l"> 1537: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Starts with'</span>,
<a href="#1538" id="1538" class="l"> 1538: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents prefix comparaison: starts with '</span>
<a href="#1539" id="1539" class="l"> 1539: </a>                           .<span class="php-quote">'(for strings).'</span> ),
<a href="#1540" id="1540" class="l"> 1540: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_PREFIX_NOCASE,
<a href="#1541" id="1541" class="l"> 1541: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_PREFIX_NOCASE'</span>,
<a href="#1542" id="1542" class="l"> 1542: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Starts with no-case'</span>,
<a href="#1543" id="1543" class="l"> 1543: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents prefix comparaison: starts with '</span>
<a href="#1544" id="1544" class="l"> 1544: </a>                           .<span class="php-quote">'(for strings) with case and accent insensitive matching.'</span> ),
<a href="#1545" id="1545" class="l"> 1545: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_CONTAINS,
<a href="#1546" id="1546" class="l"> 1546: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_CONTAINS'</span>,
<a href="#1547" id="1547" class="l"> 1547: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Contains'</span>,
<a href="#1548" id="1548" class="l"> 1548: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'represents content comparaison: contains '</span>
<a href="#1549" id="1549" class="l"> 1549: </a>                           .<span class="php-quote">'(for strings).'</span> ),
<a href="#1550" id="1550" class="l"> 1550: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_CONTAINS_NOCASE,
<a href="#1551" id="1551" class="l"> 1551: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_CONTAINS_NOCASE'</span>,
<a href="#1552" id="1552" class="l"> 1552: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Contains with no-case'</span>,
<a href="#1553" id="1553" class="l"> 1553: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'represents content comparaison: contains '</span>
<a href="#1554" id="1554" class="l"> 1554: </a>                           .<span class="php-quote">'(for strings) with case and accent insensitive matching.'</span> ),
<a href="#1555" id="1555" class="l"> 1555: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_SUFFIX,
<a href="#1556" id="1556" class="l"> 1556: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_SUFFIX'</span>,
<a href="#1557" id="1557" class="l"> 1557: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Ends with'</span>,
<a href="#1558" id="1558" class="l"> 1558: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents prefix comparaison: ends with '</span>
<a href="#1559" id="1559" class="l"> 1559: </a>                           .<span class="php-quote">'(for strings).'</span> ),
<a href="#1560" id="1560" class="l"> 1560: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_SUFFIX_NOCASE,
<a href="#1561" id="1561" class="l"> 1561: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_SUFFIX_NOCASE'</span>,
<a href="#1562" id="1562" class="l"> 1562: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Ends with no-case'</span>,
<a href="#1563" id="1563" class="l"> 1563: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents prefix comparaison: ends with '</span>
<a href="#1564" id="1564" class="l"> 1564: </a>                           .<span class="php-quote">'(for strings) with case and accent insensitive matching.'</span> ),
<a href="#1565" id="1565" class="l"> 1565: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_REGEX,
<a href="#1566" id="1566" class="l"> 1566: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_REGEX'</span>,
<a href="#1567" id="1567" class="l"> 1567: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Regular expression'</span>,
<a href="#1568" id="1568" class="l"> 1568: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents a regular expression '</span>
<a href="#1569" id="1569" class="l"> 1569: </a>                           .<span class="php-quote">'(for strings).'</span> ),
<a href="#1570" id="1570" class="l"> 1570: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_LESS,
<a href="#1571" id="1571" class="l"> 1571: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_LESS'</span>,
<a href="#1572" id="1572" class="l"> 1572: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Less than'</span>,
<a href="#1573" id="1573" class="l"> 1573: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents less than.'</span> ),
<a href="#1574" id="1574" class="l"> 1574: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_LESS_EQUAL,
<a href="#1575" id="1575" class="l"> 1575: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_LESS_EQUAL'</span>,
<a href="#1576" id="1576" class="l"> 1576: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Less than or equal'</span>,
<a href="#1577" id="1577" class="l"> 1577: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents less than or equal.'</span> ),
<a href="#1578" id="1578" class="l"> 1578: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_GREAT,
<a href="#1579" id="1579" class="l"> 1579: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_LESS'</span>,
<a href="#1580" id="1580" class="l"> 1580: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Greater than'</span>,
<a href="#1581" id="1581" class="l"> 1581: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents greater than.'</span> ),
<a href="#1582" id="1582" class="l"> 1582: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_GREAT_EQUAL,
<a href="#1583" id="1583" class="l"> 1583: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_GREAT_EQUAL'</span>,
<a href="#1584" id="1584" class="l"> 1584: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Greater than or equal'</span>,
<a href="#1585" id="1585" class="l"> 1585: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents greater than or equal.'</span> ),
<a href="#1586" id="1586" class="l"> 1586: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_IRANGE,
<a href="#1587" id="1587" class="l"> 1587: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_IRANGE'</span>,
<a href="#1588" id="1588" class="l"> 1588: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Range inclusive'</span>,
<a href="#1589" id="1589" class="l"> 1589: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents a range including limits.'</span> ),
<a href="#1590" id="1590" class="l"> 1590: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_ERANGE,
<a href="#1591" id="1591" class="l"> 1591: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_ERANGE'</span>,
<a href="#1592" id="1592" class="l"> 1592: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Range exclusive'</span>,
<a href="#1593" id="1593" class="l"> 1593: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents a range excluding limits.'</span> ),
<a href="#1594" id="1594" class="l"> 1594: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_NULL,
<a href="#1595" id="1595" class="l"> 1595: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_NULL'</span>,
<a href="#1596" id="1596" class="l"> 1596: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Empty, null or missing'</span>,
<a href="#1597" id="1597" class="l"> 1597: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents not empty, null or missing.'</span> ),
<a href="#1598" id="1598" class="l"> 1598: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_IN,
<a href="#1599" id="1599" class="l"> 1599: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_IN'</span>,
<a href="#1600" id="1600" class="l"> 1600: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Belongs to'</span>,
<a href="#1601" id="1601" class="l"> 1601: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator matches values in a list of options.'</span> ),
<a href="#1602" id="1602" class="l"> 1602: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_NI,
<a href="#1603" id="1603" class="l"> 1603: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_NI'</span>,
<a href="#1604" id="1604" class="l"> 1604: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Does not belong to'</span>,
<a href="#1605" id="1605" class="l"> 1605: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator matches values excluded from list of options.'</span> ),
<a href="#1606" id="1606" class="l"> 1606: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_ALL,
<a href="#1607" id="1607" class="l"> 1607: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_ALL'</span>,
<a href="#1608" id="1608" class="l"> 1608: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'All'</span>,
<a href="#1609" id="1609" class="l"> 1609: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator matches a list of values to all the '</span>
<a href="#1610" id="1610" class="l"> 1610: </a>                           .<span class="php-quote">'elements of a list of options.'</span> ),
<a href="#1611" id="1611" class="l"> 1611: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_NALL,
<a href="#1612" id="1612" class="l"> 1612: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_NALL'</span>,
<a href="#1613" id="1613" class="l"> 1613: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Not all'</span>,
<a href="#1614" id="1614" class="l"> 1614: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator negates matching a list of values to all the '</span>
<a href="#1615" id="1615" class="l"> 1615: </a>                           .<span class="php-quote">'elements of a list of options.'</span> ),
<a href="#1616" id="1616" class="l"> 1616: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_EX,
<a href="#1617" id="1617" class="l"> 1617: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_EX'</span>,
<a href="#1618" id="1618" class="l"> 1618: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Expression'</span>,
<a href="#1619" id="1619" class="l"> 1619: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator qualifies expression terms.'</span> ),
<a href="#1620" id="1620" class="l"> 1620: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_AND,
<a href="#1621" id="1621" class="l"> 1621: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_AND'</span>,
<a href="#1622" id="1622" class="l"> 1622: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'AND'</span>,
<a href="#1623" id="1623" class="l"> 1623: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents the AND (A &amp;&amp; B) operator.'</span> ),
<a href="#1624" id="1624" class="l"> 1624: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_NAND,
<a href="#1625" id="1625" class="l"> 1625: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_NAND'</span>,
<a href="#1626" id="1626" class="l"> 1626: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Not AND'</span>,
<a href="#1627" id="1627" class="l"> 1627: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents the not AND (NOT(A &amp;&amp; B)) '</span>
<a href="#1628" id="1628" class="l"> 1628: </a>                           .<span class="php-quote">'operator.'</span> ),
<a href="#1629" id="1629" class="l"> 1629: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_OR,
<a href="#1630" id="1630" class="l"> 1630: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_OR'</span>,
<a href="#1631" id="1631" class="l"> 1631: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'OR'</span>,
<a href="#1632" id="1632" class="l"> 1632: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents the OR (A || B) operator.'</span> ),
<a href="#1633" id="1633" class="l"> 1633: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOPERATOR_NOR,
<a href="#1634" id="1634" class="l"> 1634: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOPERATOR_NOR'</span>,
<a href="#1635" id="1635" class="l"> 1635: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Not OR'</span>,
<a href="#1636" id="1636" class="l"> 1636: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This operator represents the not OR (NOT(A || B)) operator'</span> )
<a href="#1637" id="1637" class="l"> 1637: </a>        );
<a href="#1638" id="1638" class="l"> 1638: </a>        
<a href="#1639" id="1639" class="l"> 1639: </a>        <span class="php-comment">//</span>
<a href="#1640" id="1640" class="l"> 1640: </a>        <span class="php-comment">// Load terms.</span>
<a href="#1641" id="1641" class="l"> 1641: </a>        <span class="php-comment">//</span>
<a href="#1642" id="1642" class="l"> 1642: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#1643" id="1643" class="l"> 1643: </a>        {
<a href="#1644" id="1644" class="l"> 1644: </a>            <span class="php-comment">//</span>
<a href="#1645" id="1645" class="l"> 1645: </a>            <span class="php-comment">// Create term.</span>
<a href="#1646" id="1646" class="l"> 1646: </a>            <span class="php-comment">//</span>
<a href="#1647" id="1647" class="l"> 1647: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#1648" id="1648" class="l"> 1648: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#1649" id="1649" class="l"> 1649: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#1650" id="1650" class="l"> 1650: </a>            {
<a href="#1651" id="1651" class="l"> 1651: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#1652" id="1652" class="l"> 1652: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#1653" id="1653" class="l"> 1653: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#1654" id="1654" class="l"> 1654: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#1655" id="1655" class="l"> 1655: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#1656" id="1656" class="l"> 1656: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#1657" id="1657" class="l"> 1657: </a>                
<a href="#1658" id="1658" class="l"> 1658: </a>                <span class="php-comment">//</span>
<a href="#1659" id="1659" class="l"> 1659: </a>                <span class="php-comment">// Display.</span>
<a href="#1660" id="1660" class="l"> 1660: </a>                <span class="php-comment">//</span>
<a href="#1661" id="1661" class="l"> 1661: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1662" id="1662" class="l"> 1662: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#1663" id="1663" class="l"> 1663: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#1664" id="1664" class="l"> 1664: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1665" id="1665" class="l"> 1665: </a>            }
<a href="#1666" id="1666" class="l"> 1666: </a>        }
<a href="#1667" id="1667" class="l"> 1667: </a>    
<a href="#1668" id="1668" class="l"> 1668: </a>    } <span class="php-comment">// LoadOperatorTypes.</span>
<a href="#1669" id="1669" class="l"> 1669: </a>
<a href="#1670" id="1670" class="l"> 1670: </a>     
<a href="#1671" id="1671" class="l"> 1671: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#1672" id="1672" class="l"> 1672: </a><span class="php-comment">     *  LoadEntityTypes                                                                 *
</span><a href="#1673" id="1673" class="l"> 1673: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#1674" id="1674" class="l"> 1674: </a>
<a href="#1675" id="1675" class="l"> 1675: </a>    <span class="php-comment">/**
</span><a href="#1676" id="1676" class="l"> 1676: </a><span class="php-comment">     * Load entity types.
</span><a href="#1677" id="1677" class="l"> 1677: </a><span class="php-comment">     *
</span><a href="#1678" id="1678" class="l"> 1678: </a><span class="php-comment">     * This function will load all default entity types.
</span><a href="#1679" id="1679" class="l"> 1679: </a><span class="php-comment">     *
</span><a href="#1680" id="1680" class="l"> 1680: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#1681" id="1681" class="l"> 1681: </a><span class="php-comment">     * created terms.
</span><a href="#1682" id="1682" class="l"> 1682: </a><span class="php-comment">     *
</span><a href="#1683" id="1683" class="l"> 1683: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#1684" id="1684" class="l"> 1684: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#1685" id="1685" class="l"> 1685: </a><span class="php-comment">     *
</span><a href="#1686" id="1686" class="l"> 1686: </a><span class="php-comment">     * @access protected
</span><a href="#1687" id="1687" class="l"> 1687: </a><span class="php-comment">     */</span>
<a href="#1688" id="1688" class="l"> 1688: </a>    <span class="php-keyword1">function</span> LoadEntityTypes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#1689" id="1689" class="l"> 1689: </a>    {
<a href="#1690" id="1690" class="l"> 1690: </a>        <span class="php-comment">//</span>
<a href="#1691" id="1691" class="l"> 1691: </a>        <span class="php-comment">// Inform.</span>
<a href="#1692" id="1692" class="l"> 1692: </a>        <span class="php-comment">//</span>
<a href="#1693" id="1693" class="l"> 1693: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1694" id="1694" class="l"> 1694: </a>        {
<a href="#1695" id="1695" class="l"> 1695: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1696" id="1696" class="l"> 1696: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#1697" id="1697" class="l"> 1697: </a>        }
<a href="#1698" id="1698" class="l"> 1698: </a>        
<a href="#1699" id="1699" class="l"> 1699: </a>        <span class="php-comment">//</span>
<a href="#1700" id="1700" class="l"> 1700: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#1701" id="1701" class="l"> 1701: </a>        <span class="php-comment">//</span>
<a href="#1702" id="1702" class="l"> 1702: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#1703" id="1703" class="l"> 1703: </a>        (
<a href="#1704" id="1704" class="l"> 1704: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kENTITY_INST,
<a href="#1705" id="1705" class="l"> 1705: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kENTITY_INST'</span>,
<a href="#1706" id="1706" class="l"> 1706: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Institute'</span>,
<a href="#1707" id="1707" class="l"> 1707: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Institute, organisation or institution.'</span> ),
<a href="#1708" id="1708" class="l"> 1708: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kENTITY_INST_FAO,
<a href="#1709" id="1709" class="l"> 1709: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kENTITY_INST_FAO'</span>,
<a href="#1710" id="1710" class="l"> 1710: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute'</span>,
<a href="#1711" id="1711" class="l"> 1711: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'An institute listed in the FAO/WIEWS institutes database.'</span> ),
<a href="#1712" id="1712" class="l"> 1712: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kENTITY_USER,
<a href="#1713" id="1713" class="l"> 1713: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kENTITY_USER'</span>,
<a href="#1714" id="1714" class="l"> 1714: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'User'</span>,
<a href="#1715" id="1715" class="l"> 1715: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'User or person.'</span> )
<a href="#1716" id="1716" class="l"> 1716: </a>        );
<a href="#1717" id="1717" class="l"> 1717: </a>        
<a href="#1718" id="1718" class="l"> 1718: </a>        <span class="php-comment">//</span>
<a href="#1719" id="1719" class="l"> 1719: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#1720" id="1720" class="l"> 1720: </a>        <span class="php-comment">//</span>
<a href="#1721" id="1721" class="l"> 1721: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>,
<a href="#1722" id="1722" class="l"> 1722: </a>                                        COntologyTerm::HashIndex( kTAG_ENTITY ) );
<a href="#1723" id="1723" class="l"> 1723: </a>        
<a href="#1724" id="1724" class="l"> 1724: </a>        <span class="php-comment">//</span>
<a href="#1725" id="1725" class="l"> 1725: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#1726" id="1726" class="l"> 1726: </a>        <span class="php-comment">//</span>
<a href="#1727" id="1727" class="l"> 1727: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#1728" id="1728" class="l"> 1728: </a>        
<a href="#1729" id="1729" class="l"> 1729: </a>        <span class="php-comment">//</span>
<a href="#1730" id="1730" class="l"> 1730: </a>        <span class="php-comment">// Load terms.</span>
<a href="#1731" id="1731" class="l"> 1731: </a>        <span class="php-comment">//</span>
<a href="#1732" id="1732" class="l"> 1732: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#1733" id="1733" class="l"> 1733: </a>        {
<a href="#1734" id="1734" class="l"> 1734: </a>            <span class="php-comment">//</span>
<a href="#1735" id="1735" class="l"> 1735: </a>            <span class="php-comment">// Create term.</span>
<a href="#1736" id="1736" class="l"> 1736: </a>            <span class="php-comment">//</span>
<a href="#1737" id="1737" class="l"> 1737: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#1738" id="1738" class="l"> 1738: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#1739" id="1739" class="l"> 1739: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#1740" id="1740" class="l"> 1740: </a>            {
<a href="#1741" id="1741" class="l"> 1741: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#1742" id="1742" class="l"> 1742: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#1743" id="1743" class="l"> 1743: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#1744" id="1744" class="l"> 1744: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#1745" id="1745" class="l"> 1745: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#1746" id="1746" class="l"> 1746: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#1747" id="1747" class="l"> 1747: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#1748" id="1748" class="l"> 1748: </a>                
<a href="#1749" id="1749" class="l"> 1749: </a>                <span class="php-comment">//</span>
<a href="#1750" id="1750" class="l"> 1750: </a>                <span class="php-comment">// Display.</span>
<a href="#1751" id="1751" class="l"> 1751: </a>                <span class="php-comment">//</span>
<a href="#1752" id="1752" class="l"> 1752: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1753" id="1753" class="l"> 1753: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#1754" id="1754" class="l"> 1754: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#1755" id="1755" class="l"> 1755: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1756" id="1756" class="l"> 1756: </a>            }
<a href="#1757" id="1757" class="l"> 1757: </a>        }
<a href="#1758" id="1758" class="l"> 1758: </a>    
<a href="#1759" id="1759" class="l"> 1759: </a>    } <span class="php-comment">// LoadEntityTypes.</span>
<a href="#1760" id="1760" class="l"> 1760: </a>
<a href="#1761" id="1761" class="l"> 1761: </a>     
<a href="#1762" id="1762" class="l"> 1762: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#1763" id="1763" class="l"> 1763: </a><span class="php-comment">     *  LoadIdentifierTerms                                                             *
</span><a href="#1764" id="1764" class="l"> 1764: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#1765" id="1765" class="l"> 1765: </a>
<a href="#1766" id="1766" class="l"> 1766: </a>    <span class="php-comment">/**
</span><a href="#1767" id="1767" class="l"> 1767: </a><span class="php-comment">     * Load reference types.
</span><a href="#1768" id="1768" class="l"> 1768: </a><span class="php-comment">     *
</span><a href="#1769" id="1769" class="l"> 1769: </a><span class="php-comment">     * This function will load all default identifier terms.
</span><a href="#1770" id="1770" class="l"> 1770: </a><span class="php-comment">     *
</span><a href="#1771" id="1771" class="l"> 1771: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#1772" id="1772" class="l"> 1772: </a><span class="php-comment">     * created terms.
</span><a href="#1773" id="1773" class="l"> 1773: </a><span class="php-comment">     *
</span><a href="#1774" id="1774" class="l"> 1774: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#1775" id="1775" class="l"> 1775: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#1776" id="1776" class="l"> 1776: </a><span class="php-comment">     *
</span><a href="#1777" id="1777" class="l"> 1777: </a><span class="php-comment">     * @access protected
</span><a href="#1778" id="1778" class="l"> 1778: </a><span class="php-comment">     */</span>
<a href="#1779" id="1779" class="l"> 1779: </a>    <span class="php-keyword1">function</span> LoadIdentifierTerms( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#1780" id="1780" class="l"> 1780: </a>    {
<a href="#1781" id="1781" class="l"> 1781: </a>        <span class="php-comment">//</span>
<a href="#1782" id="1782" class="l"> 1782: </a>        <span class="php-comment">// Inform.</span>
<a href="#1783" id="1783" class="l"> 1783: </a>        <span class="php-comment">//</span>
<a href="#1784" id="1784" class="l"> 1784: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1785" id="1785" class="l"> 1785: </a>        {
<a href="#1786" id="1786" class="l"> 1786: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1787" id="1787" class="l"> 1787: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#1788" id="1788" class="l"> 1788: </a>        }
<a href="#1789" id="1789" class="l"> 1789: </a>        
<a href="#1790" id="1790" class="l"> 1790: </a>        <span class="php-comment">//</span>
<a href="#1791" id="1791" class="l"> 1791: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#1792" id="1792" class="l"> 1792: </a>        <span class="php-comment">//</span>
<a href="#1793" id="1793" class="l"> 1793: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#1794" id="1794" class="l"> 1794: </a>        (
<a href="#1795" id="1795" class="l"> 1795: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_LID,
<a href="#1796" id="1796" class="l"> 1796: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_LID'</span>,
<a href="#1797" id="1797" class="l"> 1797: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#1798" id="1798" class="l"> 1798: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Local unique identifier'</span>,
<a href="#1799" id="1799" class="l"> 1799: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the object\'s local unique identifier, '</span>
<a href="#1800" id="1800" class="l"> 1800: </a>                           .<span class="php-quote">'his offset should hold a scalar value which uniquely '</span>
<a href="#1801" id="1801" class="l"> 1801: </a>                           .<span class="php-quote">'identifies the object within the collection that holds it. '</span>
<a href="#1802" id="1802" class="l"> 1802: </a>                           .<span class="php-quote">'This should not be confused with the global identifier, '</span>
<a href="#1803" id="1803" class="l"> 1803: </a>                           .<span class="php-quote">'which represents the value or values used by the public to '</span>
<a href="#1804" id="1804" class="l"> 1804: </a>                           .<span class="php-quote">'refer to that object. This value should be tightly integrated '</span>
<a href="#1805" id="1805" class="l"> 1805: </a>                           .<span class="php-quote">'with the database.'</span> ),
<a href="#1806" id="1806" class="l"> 1806: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_GID,
<a href="#1807" id="1807" class="l"> 1807: </a>                   <span class="php-quote">'ns'</span> =&gt; <span class="php-quote">''</span>,
<a href="#1808" id="1808" class="l"> 1808: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_GID'</span>,
<a href="#1809" id="1809" class="l"> 1809: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#1810" id="1810" class="l"> 1810: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Global unique identifier'</span>,
<a href="#1811" id="1811" class="l"> 1811: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the object\'s global unique identifier, '</span>
<a href="#1812" id="1812" class="l"> 1812: </a>                           .<span class="php-quote">'this offset should uniquely identify the object among all '</span>
<a href="#1813" id="1813" class="l"> 1813: </a>                           .<span class="php-quote">'containers, it represents a string that may only reference '</span>
<a href="#1814" id="1814" class="l"> 1814: </a>                           .<span class="php-quote">'that specific object. This should not be confused with the '</span>
<a href="#1815" id="1815" class="l"> 1815: </a>                           .<span class="php-quote">'local identifier, which represents the key to the object '</span>
<a href="#1816" id="1816" class="l"> 1816: </a>                           .<span class="php-quote">'within the local database.'</span> ),
<a href="#1817" id="1817" class="l"> 1817: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_UID,
<a href="#1818" id="1818" class="l"> 1818: </a>                   <span class="php-quote">'ns'</span> =&gt; <span class="php-quote">''</span>,
<a href="#1819" id="1819" class="l"> 1819: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_UID'</span>,
<a href="#1820" id="1820" class="l"> 1820: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#1821" id="1821" class="l"> 1821: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Unique identifier'</span>,
<a href="#1822" id="1822" class="l"> 1822: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the object\'s unique identifier when '</span>
<a href="#1823" id="1823" class="l"> 1823: </a>                           .<span class="php-quote">'the object\'s local identifier cannot be used to determine '</span>
<a href="#1824" id="1824" class="l"> 1824: </a>                           .<span class="php-quote">'the unique key, it is a unique key that will be used to '</span>
<a href="#1825" id="1825" class="l"> 1825: </a>                           ,<span class="php-quote">'query the database by content, rather than by key field.'</span> )
<a href="#1826" id="1826" class="l"> 1826: </a>        );
<a href="#1827" id="1827" class="l"> 1827: </a>        
<a href="#1828" id="1828" class="l"> 1828: </a>        <span class="php-comment">//</span>
<a href="#1829" id="1829" class="l"> 1829: </a>        <span class="php-comment">// Load terms.</span>
<a href="#1830" id="1830" class="l"> 1830: </a>        <span class="php-comment">//</span>
<a href="#1831" id="1831" class="l"> 1831: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#1832" id="1832" class="l"> 1832: </a>        {
<a href="#1833" id="1833" class="l"> 1833: </a>            <span class="php-comment">//</span>
<a href="#1834" id="1834" class="l"> 1834: </a>            <span class="php-comment">// Create term.</span>
<a href="#1835" id="1835" class="l"> 1835: </a>            <span class="php-comment">//</span>
<a href="#1836" id="1836" class="l"> 1836: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#1837" id="1837" class="l"> 1837: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#1838" id="1838" class="l"> 1838: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#1839" id="1839" class="l"> 1839: </a>            {
<a href="#1840" id="1840" class="l"> 1840: </a>                <span class="php-comment">//</span>
<a href="#1841" id="1841" class="l"> 1841: </a>                <span class="php-comment">// Load namespace.</span>
<a href="#1842" id="1842" class="l"> 1842: </a>                <span class="php-comment">//</span>
<a href="#1843" id="1843" class="l"> 1843: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'ns'</span>, <span class="php-var">$component</span> ) )
<a href="#1844" id="1844" class="l"> 1844: </a>                {
<a href="#1845" id="1845" class="l"> 1845: </a>                    <span class="php-var">$ns</span> = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#1846" id="1846" class="l"> 1846: </a>                            <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex(
<a href="#1847" id="1847" class="l"> 1847: </a>                                <span class="php-var">$component</span>[ <span class="php-quote">'ns'</span> ] ) );
<a href="#1848" id="1848" class="l"> 1848: </a>                    <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#1849" id="1849" class="l"> 1849: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-keyword2">strlen</span>( <span class="php-var">$ns</span> ) + <span class="php-num">1</span> ) );
<a href="#1850" id="1850" class="l"> 1850: </a>                }
<a href="#1851" id="1851" class="l"> 1851: </a>                <span class="php-keyword1">else</span>
<a href="#1852" id="1852" class="l"> 1852: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#1853" id="1853" class="l"> 1853: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#1854" id="1854" class="l"> 1854: </a>                <span class="php-var">$term</span>-&gt;Cardinality( <span class="php-var">$component</span>[ <span class="php-quote">'car'</span> ] );
<a href="#1855" id="1855" class="l"> 1855: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#1856" id="1856" class="l"> 1856: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#1857" id="1857" class="l"> 1857: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#1858" id="1858" class="l"> 1858: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#1859" id="1859" class="l"> 1859: </a>                
<a href="#1860" id="1860" class="l"> 1860: </a>                <span class="php-comment">//</span>
<a href="#1861" id="1861" class="l"> 1861: </a>                <span class="php-comment">// Display.</span>
<a href="#1862" id="1862" class="l"> 1862: </a>                <span class="php-comment">//</span>
<a href="#1863" id="1863" class="l"> 1863: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1864" id="1864" class="l"> 1864: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#1865" id="1865" class="l"> 1865: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#1866" id="1866" class="l"> 1866: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1867" id="1867" class="l"> 1867: </a>            }
<a href="#1868" id="1868" class="l"> 1868: </a>        }
<a href="#1869" id="1869" class="l"> 1869: </a>    
<a href="#1870" id="1870" class="l"> 1870: </a>    } <span class="php-comment">// LoadIdentifierTerms.</span>
<a href="#1871" id="1871" class="l"> 1871: </a>
<a href="#1872" id="1872" class="l"> 1872: </a>     
<a href="#1873" id="1873" class="l"> 1873: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#1874" id="1874" class="l"> 1874: </a><span class="php-comment">     *  LoadReferenceTerms                                                              *
</span><a href="#1875" id="1875" class="l"> 1875: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#1876" id="1876" class="l"> 1876: </a>
<a href="#1877" id="1877" class="l"> 1877: </a>    <span class="php-comment">/**
</span><a href="#1878" id="1878" class="l"> 1878: </a><span class="php-comment">     * Load reference terms.
</span><a href="#1879" id="1879" class="l"> 1879: </a><span class="php-comment">     *
</span><a href="#1880" id="1880" class="l"> 1880: </a><span class="php-comment">     * This function will load all default reference terms.
</span><a href="#1881" id="1881" class="l"> 1881: </a><span class="php-comment">     *
</span><a href="#1882" id="1882" class="l"> 1882: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#1883" id="1883" class="l"> 1883: </a><span class="php-comment">     * created terms.
</span><a href="#1884" id="1884" class="l"> 1884: </a><span class="php-comment">     *
</span><a href="#1885" id="1885" class="l"> 1885: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#1886" id="1886" class="l"> 1886: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#1887" id="1887" class="l"> 1887: </a><span class="php-comment">     *
</span><a href="#1888" id="1888" class="l"> 1888: </a><span class="php-comment">     * @access protected
</span><a href="#1889" id="1889" class="l"> 1889: </a><span class="php-comment">     */</span>
<a href="#1890" id="1890" class="l"> 1890: </a>    <span class="php-keyword1">function</span> LoadReferenceTerms( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#1891" id="1891" class="l"> 1891: </a>    {
<a href="#1892" id="1892" class="l"> 1892: </a>        <span class="php-comment">//</span>
<a href="#1893" id="1893" class="l"> 1893: </a>        <span class="php-comment">// Inform.</span>
<a href="#1894" id="1894" class="l"> 1894: </a>        <span class="php-comment">//</span>
<a href="#1895" id="1895" class="l"> 1895: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1896" id="1896" class="l"> 1896: </a>        {
<a href="#1897" id="1897" class="l"> 1897: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1898" id="1898" class="l"> 1898: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#1899" id="1899" class="l"> 1899: </a>        }
<a href="#1900" id="1900" class="l"> 1900: </a>        
<a href="#1901" id="1901" class="l"> 1901: </a>        <span class="php-comment">//</span>
<a href="#1902" id="1902" class="l"> 1902: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#1903" id="1903" class="l"> 1903: </a>        <span class="php-comment">//</span>
<a href="#1904" id="1904" class="l"> 1904: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#1905" id="1905" class="l"> 1905: </a>        (
<a href="#1906" id="1906" class="l"> 1906: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_REFERENCE_SYNONYM,
<a href="#1907" id="1907" class="l"> 1907: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_REFERENCE_SYNONYM'</span>,
<a href="#1908" id="1908" class="l"> 1908: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#1909" id="1909" class="l"> 1909: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">TRUE</span>,
<a href="#1910" id="1910" class="l"> 1910: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Synonym'</span>,
<a href="#1911" id="1911" class="l"> 1911: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a synonym. A synonym is a string that '</span>
<a href="#1912" id="1912" class="l"> 1912: </a>                           .<span class="php-quote">'can be used as a substitute to the term, it may be of several '</span>
<a href="#1913" id="1913" class="l"> 1913: </a>                           .<span class="php-quote">'kinds: exact, broad, narrow and related.'</span> ),
<a href="#1914" id="1914" class="l"> 1914: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_REFERENCE_XREF,
<a href="#1915" id="1915" class="l"> 1915: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_REFERENCE_XREF'</span>,
<a href="#1916" id="1916" class="l"> 1916: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#1917" id="1917" class="l"> 1917: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">TRUE</span>,
<a href="#1918" id="1918" class="l"> 1918: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Cross-reference'</span>,
<a href="#1919" id="1919" class="l"> 1919: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a cross-reference. A cross-reference '</span>
<a href="#1920" id="1920" class="l"> 1920: </a>                           .<span class="php-quote">'is a reference to another term in the same container, a sort '</span>
<a href="#1921" id="1921" class="l"> 1921: </a>                           .<span class="php-quote">'of synonym, except that it is not a string, but a reference '</span>
<a href="#1922" id="1922" class="l"> 1922: </a>                           .<span class="php-quote">'to another term object. Cross-references can be of several '</span>
<a href="#1923" id="1923" class="l"> 1923: </a>                           .<span class="php-quote">'kinds: exact, broad, narrow and related.'</span> ),
<a href="#1924" id="1924" class="l"> 1924: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_REFERENCE_ID,
<a href="#1925" id="1925" class="l"> 1925: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_REFERENCE_ID'</span>,
<a href="#1926" id="1926" class="l"> 1926: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#1927" id="1927" class="l"> 1927: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">FALSE</span>,
<a href="#1928" id="1928" class="l"> 1928: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Identifier reference'</span>,
<a href="#1929" id="1929" class="l"> 1929: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents an object unique identifier within '</span>
<a href="#1930" id="1930" class="l"> 1930: </a>                           .<span class="php-quote">'an object reference.'</span> ),
<a href="#1931" id="1931" class="l"> 1931: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_REFERENCE_CONTAINER,
<a href="#1932" id="1932" class="l"> 1932: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_REFERENCE_CONTAINER'</span>,
<a href="#1933" id="1933" class="l"> 1933: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#1934" id="1934" class="l"> 1934: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#1935" id="1935" class="l"> 1935: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">FALSE</span>,
<a href="#1936" id="1936" class="l"> 1936: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Container reference'</span>,
<a href="#1937" id="1937" class="l"> 1937: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a container within an object '</span>
<a href="#1938" id="1938" class="l"> 1938: </a>                           .<span class="php-quote">'reference.'</span> ),
<a href="#1939" id="1939" class="l"> 1939: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_REFERENCE_DATABASE,
<a href="#1940" id="1940" class="l"> 1940: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_REFERENCE_DATABASE'</span>,
<a href="#1941" id="1941" class="l"> 1941: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#1942" id="1942" class="l"> 1942: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#1943" id="1943" class="l"> 1943: </a>                   <span class="php-quote">'ns'</span>  =&gt; <span class="php-keyword1">FALSE</span>,
<a href="#1944" id="1944" class="l"> 1944: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Database reference'</span>,
<a href="#1945" id="1945" class="l"> 1945: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a database within an object reference.'</span> )
<a href="#1946" id="1946" class="l"> 1946: </a>        );
<a href="#1947" id="1947" class="l"> 1947: </a>        
<a href="#1948" id="1948" class="l"> 1948: </a>        <span class="php-comment">//</span>
<a href="#1949" id="1949" class="l"> 1949: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#1950" id="1950" class="l"> 1950: </a>        <span class="php-comment">//</span>
<a href="#1951" id="1951" class="l"> 1951: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#1952" id="1952" class="l"> 1952: </a>        
<a href="#1953" id="1953" class="l"> 1953: </a>        <span class="php-comment">//</span>
<a href="#1954" id="1954" class="l"> 1954: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#1955" id="1955" class="l"> 1955: </a>        <span class="php-comment">//</span>
<a href="#1956" id="1956" class="l"> 1956: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#1957" id="1957" class="l"> 1957: </a>        
<a href="#1958" id="1958" class="l"> 1958: </a>        <span class="php-comment">//</span>
<a href="#1959" id="1959" class="l"> 1959: </a>        <span class="php-comment">// Load terms.</span>
<a href="#1960" id="1960" class="l"> 1960: </a>        <span class="php-comment">//</span>
<a href="#1961" id="1961" class="l"> 1961: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#1962" id="1962" class="l"> 1962: </a>        {
<a href="#1963" id="1963" class="l"> 1963: </a>            <span class="php-comment">//</span>
<a href="#1964" id="1964" class="l"> 1964: </a>            <span class="php-comment">// Create term.</span>
<a href="#1965" id="1965" class="l"> 1965: </a>            <span class="php-comment">//</span>
<a href="#1966" id="1966" class="l"> 1966: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#1967" id="1967" class="l"> 1967: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#1968" id="1968" class="l"> 1968: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#1969" id="1969" class="l"> 1969: </a>            {
<a href="#1970" id="1970" class="l"> 1970: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$component</span>[ <span class="php-quote">'ns'</span> ] )
<a href="#1971" id="1971" class="l"> 1971: </a>                {
<a href="#1972" id="1972" class="l"> 1972: </a>                    <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#1973" id="1973" class="l"> 1973: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#1974" id="1974" class="l"> 1974: </a>                }
<a href="#1975" id="1975" class="l"> 1975: </a>                <span class="php-keyword1">else</span>
<a href="#1976" id="1976" class="l"> 1976: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#1977" id="1977" class="l"> 1977: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#1978" id="1978" class="l"> 1978: </a>                <span class="php-var">$term</span>-&gt;Cardinality( <span class="php-var">$component</span>[ <span class="php-quote">'car'</span> ] );
<a href="#1979" id="1979" class="l"> 1979: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'typ'</span>, <span class="php-var">$component</span> ) )
<a href="#1980" id="1980" class="l"> 1980: </a>                    <span class="php-var">$term</span>-&gt;Type( <span class="php-var">$component</span>[ <span class="php-quote">'typ'</span> ] );
<a href="#1981" id="1981" class="l"> 1981: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#1982" id="1982" class="l"> 1982: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#1983" id="1983" class="l"> 1983: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#1984" id="1984" class="l"> 1984: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#1985" id="1985" class="l"> 1985: </a>                
<a href="#1986" id="1986" class="l"> 1986: </a>                <span class="php-comment">//</span>
<a href="#1987" id="1987" class="l"> 1987: </a>                <span class="php-comment">// Display.</span>
<a href="#1988" id="1988" class="l"> 1988: </a>                <span class="php-comment">//</span>
<a href="#1989" id="1989" class="l"> 1989: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#1990" id="1990" class="l"> 1990: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#1991" id="1991" class="l"> 1991: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#1992" id="1992" class="l"> 1992: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#1993" id="1993" class="l"> 1993: </a>            }
<a href="#1994" id="1994" class="l"> 1994: </a>        }
<a href="#1995" id="1995" class="l"> 1995: </a>    
<a href="#1996" id="1996" class="l"> 1996: </a>    } <span class="php-comment">// LoadReferenceTerms.</span>
<a href="#1997" id="1997" class="l"> 1997: </a>
<a href="#1998" id="1998" class="l"> 1998: </a>     
<a href="#1999" id="1999" class="l"> 1999: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#2000" id="2000" class="l"> 2000: </a><span class="php-comment">     *  LoadAttributeTerms                                                              *
</span><a href="#2001" id="2001" class="l"> 2001: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#2002" id="2002" class="l"> 2002: </a>
<a href="#2003" id="2003" class="l"> 2003: </a>    <span class="php-comment">/**
</span><a href="#2004" id="2004" class="l"> 2004: </a><span class="php-comment">     * Load reference terms.
</span><a href="#2005" id="2005" class="l"> 2005: </a><span class="php-comment">     *
</span><a href="#2006" id="2006" class="l"> 2006: </a><span class="php-comment">     * This function will load all default reference terms.
</span><a href="#2007" id="2007" class="l"> 2007: </a><span class="php-comment">     *
</span><a href="#2008" id="2008" class="l"> 2008: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#2009" id="2009" class="l"> 2009: </a><span class="php-comment">     * created terms.
</span><a href="#2010" id="2010" class="l"> 2010: </a><span class="php-comment">     *
</span><a href="#2011" id="2011" class="l"> 2011: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#2012" id="2012" class="l"> 2012: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#2013" id="2013" class="l"> 2013: </a><span class="php-comment">     *
</span><a href="#2014" id="2014" class="l"> 2014: </a><span class="php-comment">     * @access protected
</span><a href="#2015" id="2015" class="l"> 2015: </a><span class="php-comment">     */</span>
<a href="#2016" id="2016" class="l"> 2016: </a>    <span class="php-keyword1">function</span> LoadAttributeTerms( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#2017" id="2017" class="l"> 2017: </a>    {
<a href="#2018" id="2018" class="l"> 2018: </a>        <span class="php-comment">//</span>
<a href="#2019" id="2019" class="l"> 2019: </a>        <span class="php-comment">// Inform.</span>
<a href="#2020" id="2020" class="l"> 2020: </a>        <span class="php-comment">//</span>
<a href="#2021" id="2021" class="l"> 2021: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#2022" id="2022" class="l"> 2022: </a>        {
<a href="#2023" id="2023" class="l"> 2023: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#2024" id="2024" class="l"> 2024: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#2025" id="2025" class="l"> 2025: </a>        }
<a href="#2026" id="2026" class="l"> 2026: </a>        
<a href="#2027" id="2027" class="l"> 2027: </a>        <span class="php-comment">//</span>
<a href="#2028" id="2028" class="l"> 2028: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#2029" id="2029" class="l"> 2029: </a>        <span class="php-comment">//</span>
<a href="#2030" id="2030" class="l"> 2030: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#2031" id="2031" class="l"> 2031: </a>        (
<a href="#2032" id="2032" class="l"> 2032: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_CLASS,
<a href="#2033" id="2033" class="l"> 2033: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_CLASS'</span>,
<a href="#2034" id="2034" class="l"> 2034: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2035" id="2035" class="l"> 2035: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2036" id="2036" class="l"> 2036: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Class'</span>,
<a href="#2037" id="2037" class="l"> 2037: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a class name.'</span> ),
<a href="#2038" id="2038" class="l"> 2038: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_CREATED,
<a href="#2039" id="2039" class="l"> 2039: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_CREATED'</span>,
<a href="#2040" id="2040" class="l"> 2040: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2041" id="2041" class="l"> 2041: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STAMP'</span>,
<a href="#2042" id="2042" class="l"> 2042: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Created'</span>,
<a href="#2043" id="2043" class="l"> 2043: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a creation time-stamp.'</span> ),
<a href="#2044" id="2044" class="l"> 2044: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_MODIFIED,
<a href="#2045" id="2045" class="l"> 2045: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_MODIFIED'</span>,
<a href="#2046" id="2046" class="l"> 2046: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2047" id="2047" class="l"> 2047: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STAMP'</span>,
<a href="#2048" id="2048" class="l"> 2048: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Modified'</span>,
<a href="#2049" id="2049" class="l"> 2049: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a last modification time-stamp.'</span> ),
<a href="#2050" id="2050" class="l"> 2050: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_VERSION,
<a href="#2051" id="2051" class="l"> 2051: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_VERSION'</span>,
<a href="#2052" id="2052" class="l"> 2052: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2053" id="2053" class="l"> 2053: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_INT32'</span>,
<a href="#2054" id="2054" class="l"> 2054: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Version counter'</span>,
<a href="#2055" id="2055" class="l"> 2055: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a version counter which is '</span>
<a href="#2056" id="2056" class="l"> 2056: </a>                           .<span class="php-quote">'automatically incremented each time the object '</span>
<a href="#2057" id="2057" class="l"> 2057: </a>                           .<span class="php-quote">'is committed.'</span> ),
<a href="#2058" id="2058" class="l"> 2058: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_VERSION,
<a href="#2059" id="2059" class="l"> 2059: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_VERSION'</span>,
<a href="#2060" id="2060" class="l"> 2060: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2061" id="2061" class="l"> 2061: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2062" id="2062" class="l"> 2062: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Version'</span>,
<a href="#2063" id="2063" class="l"> 2063: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a version.'</span> ),
<a href="#2064" id="2064" class="l"> 2064: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_TYPE,
<a href="#2065" id="2065" class="l"> 2065: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_TYPE'</span>,
<a href="#2066" id="2066" class="l"> 2066: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2067" id="2067" class="l"> 2067: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#2068" id="2068" class="l"> 2068: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Type'</span>,
<a href="#2069" id="2069" class="l"> 2069: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a type, in general this is used to '</span>
<a href="#2070" id="2070" class="l"> 2070: </a>                           .<span class="php-quote">'indicate the data type of an object.'</span> ),
<a href="#2071" id="2071" class="l"> 2071: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_PATTERN,
<a href="#2072" id="2072" class="l"> 2072: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_PATTERN'</span>,
<a href="#2073" id="2073" class="l"> 2073: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2074" id="2074" class="l"> 2074: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2075" id="2075" class="l"> 2075: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Pattern'</span>,
<a href="#2076" id="2076" class="l"> 2076: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a pattern attribute, in general this '</span>
<a href="#2077" id="2077" class="l"> 2077: </a>                           .<span class="php-quote">'is used to represent the structure, composition and '</span>
<a href="#2078" id="2078" class="l"> 2078: </a>                           .<span class="php-quote">'formatting rules of a string data type.'</span> ),
<a href="#2079" id="2079" class="l"> 2079: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_KIND,
<a href="#2080" id="2080" class="l"> 2080: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_KIND'</span>,
<a href="#2081" id="2081" class="l"> 2081: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2082" id="2082" class="l"> 2082: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#2083" id="2083" class="l"> 2083: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Kind'</span>,
<a href="#2084" id="2084" class="l"> 2084: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a kind, in general this is used '</span>
<a href="#2085" id="2085" class="l"> 2085: </a>                           .<span class="php-quote">'to qualify an object. This should not be confused with '</span>
<a href="#2086" id="2086" class="l"> 2086: </a>                           .<span class="php-quote">'the data type.'</span> ),
<a href="#2087" id="2087" class="l"> 2087: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_DOMAIN,
<a href="#2088" id="2088" class="l"> 2088: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_DOMAIN'</span>,
<a href="#2089" id="2089" class="l"> 2089: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2090" id="2090" class="l"> 2090: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#2091" id="2091" class="l"> 2091: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Domain'</span>,
<a href="#2092" id="2092" class="l"> 2092: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a domain attribute, in general this '</span>
<a href="#2093" id="2093" class="l"> 2093: </a>                           .<span class="php-quote">'is used to represent the nature of the current object '</span>
<a href="#2094" id="2094" class="l"> 2094: </a>                           .<span class="php-quote">'instance.'</span> ),
<a href="#2095" id="2095" class="l"> 2095: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_CATEGORY,
<a href="#2096" id="2096" class="l"> 2096: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_CATEGORY'</span>,
<a href="#2097" id="2097" class="l"> 2097: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2098" id="2098" class="l"> 2098: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#2099" id="2099" class="l"> 2099: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Category'</span>,
<a href="#2100" id="2100" class="l"> 2100: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a category attribute, in general '</span>
<a href="#2101" id="2101" class="l"> 2101: </a>                           .<span class="php-quote">'this is used to represent the area to which the current '</span>
<a href="#2102" id="2102" class="l"> 2102: </a>                           .<span class="php-quote">'object instance belongs to.'</span> ),
<a href="#2103" id="2103" class="l"> 2103: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_CARDINALITY,
<a href="#2104" id="2104" class="l"> 2104: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_CARDINALITY'</span>,
<a href="#2105" id="2105" class="l"> 2105: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2106" id="2106" class="l"> 2106: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_REF'</span>,
<a href="#2107" id="2107" class="l"> 2107: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Cardinality'</span>,
<a href="#2108" id="2108" class="l"> 2108: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term indicating the cardinality of a data attribute.'</span> ),
<a href="#2109" id="2109" class="l"> 2109: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_UNIT,
<a href="#2110" id="2110" class="l"> 2110: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_UNIT'</span>,
<a href="#2111" id="2111" class="l"> 2111: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2112" id="2112" class="l"> 2112: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_REF'</span>,
<a href="#2113" id="2113" class="l"> 2113: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Unit'</span>,
<a href="#2114" id="2114" class="l"> 2114: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate the unit of a measure.'</span> ),
<a href="#2115" id="2115" class="l"> 2115: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_SOURCE,
<a href="#2116" id="2116" class="l"> 2116: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_SOURCE'</span>,
<a href="#2117" id="2117" class="l"> 2117: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2118" id="2118" class="l"> 2118: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2119" id="2119" class="l"> 2119: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Source'</span>,
<a href="#2120" id="2120" class="l"> 2120: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate the source of an object.'</span> ),
<a href="#2121" id="2121" class="l"> 2121: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_DATA,
<a href="#2122" id="2122" class="l"> 2122: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_DATA'</span>,
<a href="#2123" id="2123" class="l"> 2123: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2124" id="2124" class="l"> 2124: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Data'</span>,
<a href="#2125" id="2125" class="l"> 2125: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate the data part of a '</span>
<a href="#2126" id="2126" class="l"> 2126: </a>                           .<span class="php-quote">'structured object.'</span> ),
<a href="#2127" id="2127" class="l"> 2127: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_CODE,
<a href="#2128" id="2128" class="l"> 2128: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_CODE'</span>,
<a href="#2129" id="2129" class="l"> 2129: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2130" id="2130" class="l"> 2130: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2131" id="2131" class="l"> 2131: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Code'</span>,
<a href="#2132" id="2132" class="l"> 2132: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a code or acronym.'</span> ),
<a href="#2133" id="2133" class="l"> 2133: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_ENUM,
<a href="#2134" id="2134" class="l"> 2134: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_ENUM'</span>,
<a href="#2135" id="2135" class="l"> 2135: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2136" id="2136" class="l"> 2136: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2137" id="2137" class="l"> 2137: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Enumeration'</span>,
<a href="#2138" id="2138" class="l"> 2138: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate an enumerated code or key.'</span> ),
<a href="#2139" id="2139" class="l"> 2139: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_NAMESPACE,
<a href="#2140" id="2140" class="l"> 2140: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_NAMESPACE'</span>,
<a href="#2141" id="2141" class="l"> 2141: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2142" id="2142" class="l"> 2142: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2143" id="2143" class="l"> 2143: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Namespace term'</span>,
<a href="#2144" id="2144" class="l"> 2144: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a namespace term reference.'</span> ),
<a href="#2145" id="2145" class="l"> 2145: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_NAMESPACE,
<a href="#2146" id="2146" class="l"> 2146: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_NAMESPACE'</span>,
<a href="#2147" id="2147" class="l"> 2147: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2148" id="2148" class="l"> 2148: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2149" id="2149" class="l"> 2149: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Namespace name'</span>,
<a href="#2150" id="2150" class="l"> 2150: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a namespace name or acronym.'</span> ),
<a href="#2151" id="2151" class="l"> 2151: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_IMAGE,
<a href="#2152" id="2152" class="l"> 2152: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_IMAGE'</span>,
<a href="#2153" id="2153" class="l"> 2153: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2154" id="2154" class="l"> 2154: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2155" id="2155" class="l"> 2155: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Image'</span>,
<a href="#2156" id="2156" class="l"> 2156: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate an image list.'</span> ),
<a href="#2157" id="2157" class="l"> 2157: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_FILE,
<a href="#2158" id="2158" class="l"> 2158: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_FILE'</span>,
<a href="#2159" id="2159" class="l"> 2159: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2160" id="2160" class="l"> 2160: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'File'</span>,
<a href="#2161" id="2161" class="l"> 2161: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a file reference.'</span> ),
<a href="#2162" id="2162" class="l"> 2162: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_FILES,
<a href="#2163" id="2163" class="l"> 2163: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_FILES'</span>,
<a href="#2164" id="2164" class="l"> 2164: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2165" id="2165" class="l"> 2165: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Files list'</span>,
<a href="#2166" id="2166" class="l"> 2166: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a list of files.'</span> ),
<a href="#2167" id="2167" class="l"> 2167: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_COLS,
<a href="#2168" id="2168" class="l"> 2168: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_COLS'</span>,
<a href="#2169" id="2169" class="l"> 2169: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2170" id="2170" class="l"> 2170: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Columns list'</span>,
<a href="#2171" id="2171" class="l"> 2171: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a list of columns.'</span> ),
<a href="#2172" id="2172" class="l"> 2172: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_TERM,
<a href="#2173" id="2173" class="l"> 2173: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_TERM'</span>,
<a href="#2174" id="2174" class="l"> 2174: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2175" id="2175" class="l"> 2175: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2176" id="2176" class="l"> 2176: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Term'</span>,
<a href="#2177" id="2177" class="l"> 2177: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a graph node term.'</span> ),
<a href="#2178" id="2178" class="l"> 2178: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_TAG,
<a href="#2179" id="2179" class="l"> 2179: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_TAG'</span>,
<a href="#2180" id="2180" class="l"> 2180: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2181" id="2181" class="l"> 2181: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2182" id="2182" class="l"> 2182: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Tag'</span>,
<a href="#2183" id="2183" class="l"> 2183: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a tag or an annotation term.'</span> ),
<a href="#2184" id="2184" class="l"> 2184: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_NODE,
<a href="#2185" id="2185" class="l"> 2185: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_NODE'</span>,
<a href="#2186" id="2186" class="l"> 2186: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2187" id="2187" class="l"> 2187: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_INT64'</span>,
<a href="#2188" id="2188" class="l"> 2188: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Node'</span>,
<a href="#2189" id="2189" class="l"> 2189: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a graph nodes list.'</span> ),
<a href="#2190" id="2190" class="l"> 2190: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_EDGE,
<a href="#2191" id="2191" class="l"> 2191: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_EDGE'</span>,
<a href="#2192" id="2192" class="l"> 2192: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2193" id="2193" class="l"> 2193: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_INT64'</span>,
<a href="#2194" id="2194" class="l"> 2194: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Edge'</span>,
<a href="#2195" id="2195" class="l"> 2195: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate an edge node.'</span> ),
<a href="#2196" id="2196" class="l"> 2196: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_SUBJECT,
<a href="#2197" id="2197" class="l"> 2197: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_SUBJECT'</span>,
<a href="#2198" id="2198" class="l"> 2198: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2199" id="2199" class="l"> 2199: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Subject'</span>,
<a href="#2200" id="2200" class="l"> 2200: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This tag is used as the default offset for indicating '</span>
<a href="#2201" id="2201" class="l"> 2201: </a>                           .<span class="php-quote">'a subject term or node.'</span> ),
<a href="#2202" id="2202" class="l"> 2202: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_PREDICATE,
<a href="#2203" id="2203" class="l"> 2203: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_PREDICATE'</span>,
<a href="#2204" id="2204" class="l"> 2204: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2205" id="2205" class="l"> 2205: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Predicate'</span>,
<a href="#2206" id="2206" class="l"> 2206: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This tag is used as the default offset for indicating '</span>
<a href="#2207" id="2207" class="l"> 2207: </a>                           .<span class="php-quote">'a predicate term or node.'</span> ),
<a href="#2208" id="2208" class="l"> 2208: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_OBJECT,
<a href="#2209" id="2209" class="l"> 2209: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_OBJECT'</span>,
<a href="#2210" id="2210" class="l"> 2210: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2211" id="2211" class="l"> 2211: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Object'</span>,
<a href="#2212" id="2212" class="l"> 2212: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This tag is used as the default offset for indicating '</span>
<a href="#2213" id="2213" class="l"> 2213: </a>                           .<span class="php-quote">'an object term or node.'</span> ),
<a href="#2214" id="2214" class="l"> 2214: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_PATH,
<a href="#2215" id="2215" class="l"> 2215: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_PATH'</span>,
<a href="#2216" id="2216" class="l"> 2216: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2217" id="2217" class="l"> 2217: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2218" id="2218" class="l"> 2218: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Path'</span>,
<a href="#2219" id="2219" class="l"> 2219: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This tag is used as the default offset for indicating '</span>
<a href="#2220" id="2220" class="l"> 2220: </a>                           .<span class="php-quote">'a path.'</span> ),
<a href="#2221" id="2221" class="l"> 2221: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_TITLE,
<a href="#2222" id="2222" class="l"> 2222: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_TITLE'</span>,
<a href="#2223" id="2223" class="l"> 2223: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2224" id="2224" class="l"> 2224: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2225" id="2225" class="l"> 2225: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Title'</span>,
<a href="#2226" id="2226" class="l"> 2226: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This tag is used as the default offset for indicating '</span>
<a href="#2227" id="2227" class="l"> 2227: </a>                           .<span class="php-quote">'a title or name.'</span> ),
<a href="#2228" id="2228" class="l"> 2228: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_NAME,
<a href="#2229" id="2229" class="l"> 2229: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_NAME'</span>,
<a href="#2230" id="2230" class="l"> 2230: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2231" id="2231" class="l"> 2231: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Name'</span>,
<a href="#2232" id="2232" class="l"> 2232: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a name or label.'</span> ),
<a href="#2233" id="2233" class="l"> 2233: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_DESCRIPTION,
<a href="#2234" id="2234" class="l"> 2234: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_DESCRIPTION'</span>,
<a href="#2235" id="2235" class="l"> 2235: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2236" id="2236" class="l"> 2236: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Description'</span>,
<a href="#2237" id="2237" class="l"> 2237: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a description or long label.'</span> ),
<a href="#2238" id="2238" class="l"> 2238: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_DEFINITION,
<a href="#2239" id="2239" class="l"> 2239: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_DEFINITION'</span>,
<a href="#2240" id="2240" class="l"> 2240: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2241" id="2241" class="l"> 2241: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Definition'</span>,
<a href="#2242" id="2242" class="l"> 2242: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a definition.'</span> ),
<a href="#2243" id="2243" class="l"> 2243: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_EXAMPLES,
<a href="#2244" id="2244" class="l"> 2244: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_EXAMPLES'</span>,
<a href="#2245" id="2245" class="l"> 2245: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2246" id="2246" class="l"> 2246: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Examples'</span>,
<a href="#2247" id="2247" class="l"> 2247: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used as the default offset for indicating '</span>
<a href="#2248" id="2248" class="l"> 2248: </a>                           .<span class="php-quote">'an attribute containing a list of examples.'</span> ),
<a href="#2249" id="2249" class="l"> 2249: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_LANGUAGE,
<a href="#2250" id="2250" class="l"> 2250: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_LANGUAGE'</span>,
<a href="#2251" id="2251" class="l"> 2251: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2252" id="2252" class="l"> 2252: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#2253" id="2253" class="l"> 2253: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Language'</span>,
<a href="#2254" id="2254" class="l"> 2254: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a language.'</span> ),
<a href="#2255" id="2255" class="l"> 2255: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_STATUS,
<a href="#2256" id="2256" class="l"> 2256: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_STATUS'</span>,
<a href="#2257" id="2257" class="l"> 2257: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2258" id="2258" class="l"> 2258: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#2259" id="2259" class="l"> 2259: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Status'</span>,
<a href="#2260" id="2260" class="l"> 2260: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a status or state.'</span> ),
<a href="#2261" id="2261" class="l"> 2261: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_STATE,
<a href="#2262" id="2262" class="l"> 2262: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_STATE'</span>,
<a href="#2263" id="2263" class="l"> 2263: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2264" id="2264" class="l"> 2264: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#2265" id="2265" class="l"> 2265: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'State'</span>,
<a href="#2266" id="2266" class="l"> 2266: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a state.'</span> ),
<a href="#2267" id="2267" class="l"> 2267: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_ROLE,
<a href="#2268" id="2268" class="l"> 2268: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_ROLE'</span>,
<a href="#2269" id="2269" class="l"> 2269: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2270" id="2270" class="l"> 2270: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#2271" id="2271" class="l"> 2271: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Role'</span>,
<a href="#2272" id="2272" class="l"> 2272: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate a role, function or capability '</span>
<a href="#2273" id="2273" class="l"> 2273: </a>                           .<span class="php-quote">'it is generally a list of enumerations declaring which '</span>
<a href="#2274" id="2274" class="l"> 2274: </a>                           .<span class="php-quote">'functions a user is allowed to perform.'</span> ),
<a href="#2275" id="2275" class="l"> 2275: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_ANNOTATION,
<a href="#2276" id="2276" class="l"> 2276: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_ANNOTATION'</span>,
<a href="#2277" id="2277" class="l"> 2277: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2278" id="2278" class="l"> 2278: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2279" id="2279" class="l"> 2279: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Annotation'</span>,
<a href="#2280" id="2280" class="l"> 2280: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate an annotation, attachment '</span>
<a href="#2281" id="2281" class="l"> 2281: </a>                           .<span class="php-quote">'or comment.'</span> ),
<a href="#2282" id="2282" class="l"> 2282: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_REFS,
<a href="#2283" id="2283" class="l"> 2283: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_REFS'</span>,
<a href="#2284" id="2284" class="l"> 2284: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2285" id="2285" class="l"> 2285: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'References'</span>,
<a href="#2286" id="2286" class="l"> 2286: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the list of references of an object, '</span>
<a href="#2287" id="2287" class="l"> 2287: </a>                           .<span class="php-quote">'it describes a list of predicate/object pairs.'</span> ),
<a href="#2288" id="2288" class="l"> 2288: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_COUNT,
<a href="#2289" id="2289" class="l"> 2289: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_COUNT'</span>,
<a href="#2290" id="2290" class="l"> 2290: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2291" id="2291" class="l"> 2291: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_INT64'</span>,
<a href="#2292" id="2292" class="l"> 2292: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Count'</span>,
<a href="#2293" id="2293" class="l"> 2293: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a generic count.'</span> ),
<a href="#2294" id="2294" class="l"> 2294: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_REF_COUNT,
<a href="#2295" id="2295" class="l"> 2295: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_REF_COUNT'</span>,
<a href="#2296" id="2296" class="l"> 2296: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2297" id="2297" class="l"> 2297: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_INT64'</span>,
<a href="#2298" id="2298" class="l"> 2298: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'References count'</span>,
<a href="#2299" id="2299" class="l"> 2299: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the count of references of an object, '</span>
<a href="#2300" id="2300" class="l"> 2300: </a>                           .<span class="php-quote">'it indicates.'</span> ),
<a href="#2301" id="2301" class="l"> 2301: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_TAGS,
<a href="#2302" id="2302" class="l"> 2302: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_TAGS'</span>,
<a href="#2303" id="2303" class="l"> 2303: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2304" id="2304" class="l"> 2304: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2305" id="2305" class="l"> 2305: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Tags'</span>,
<a href="#2306" id="2306" class="l"> 2306: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the list of attribute terms used '</span>
<a href="#2307" id="2307" class="l"> 2307: </a>                           .<span class="php-quote">'in the object.'</span> ),
<a href="#2308" id="2308" class="l"> 2308: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_DTAGS,
<a href="#2309" id="2309" class="l"> 2309: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_DTAGS'</span>,
<a href="#2310" id="2310" class="l"> 2310: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2311" id="2311" class="l"> 2311: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2312" id="2312" class="l"> 2312: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Data tags'</span>,
<a href="#2313" id="2313" class="l"> 2313: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the list of data tags that reference '</span>
<a href="#2314" id="2314" class="l"> 2314: </a>                           .<span class="php-quote">'the current object.'</span> ),
<a href="#2315" id="2315" class="l"> 2315: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_EDGE_TERM,
<a href="#2316" id="2316" class="l"> 2316: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_EDGE_TERM'</span>,
<a href="#2317" id="2317" class="l"> 2317: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2318" id="2318" class="l"> 2318: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2319" id="2319" class="l"> 2319: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Edge terms path'</span>,
<a href="#2320" id="2320" class="l"> 2320: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a graph edge node by using its '</span>
<a href="#2321" id="2321" class="l"> 2321: </a>                           .<span class="php-quote">'related terms as a path in the form of a string containing '</span>
<a href="#2322" id="2322" class="l"> 2322: </a>                           .<span class="php-quote">'the SUBJECT/PREDICATE/OBJECT path constituted by the term '</span>
<a href="#2323" id="2323" class="l"> 2323: </a>                           .<span class="php-quote">'identifier elements.'</span> ),
<a href="#2324" id="2324" class="l"> 2324: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_EDGE_NODE,
<a href="#2325" id="2325" class="l"> 2325: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_EDGE_NODE'</span>,
<a href="#2326" id="2326" class="l"> 2326: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2327" id="2327" class="l"> 2327: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2328" id="2328" class="l"> 2328: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Edge nodes path'</span>,
<a href="#2329" id="2329" class="l"> 2329: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a graph edge node by using its related '</span>
<a href="#2330" id="2330" class="l"> 2330: </a>                           .<span class="php-quote">'nodes and predicate term as a path in the form of a string '</span>
<a href="#2331" id="2331" class="l"> 2331: </a>                           .<span class="php-quote">'containing the SUBJECT/PREDICATE/OBJECT&lt;/i&gt; path in which '</span>
<a href="#2332" id="2332" class="l"> 2332: </a>                           .<span class="php-quote">'the subject and object elements are represented by the '</span>
<a href="#2333" id="2333" class="l"> 2333: </a>                           .<span class="php-quote">'respective node identifiers, and the predicate element '</span>
<a href="#2334" id="2334" class="l"> 2334: </a>                           .<span class="php-quote">'is represented by the edge term identifier.'</span> ),
<a href="#2335" id="2335" class="l"> 2335: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_DEFAULT,
<a href="#2336" id="2336" class="l"> 2336: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_DEFAULT'</span>,
<a href="#2337" id="2337" class="l"> 2337: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2338" id="2338" class="l"> 2338: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_REF'</span>,
<a href="#2339" id="2339" class="l"> 2339: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Default'</span>,
<a href="#2340" id="2340" class="l"> 2340: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a reference to the default object, '</span>
<a href="#2341" id="2341" class="l"> 2341: </a>                           .<span class="php-quote">'there are cases in which an object is interchangeable '</span>
<a href="#2342" id="2342" class="l"> 2342: </a>                           .<span class="php-quote">'with many others, such as in equivalent enumerations: '</span>
<a href="#2343" id="2343" class="l"> 2343: </a>                           .<span class="php-quote">'in this case we can use this tag to point to the default '</span>
<a href="#2344" id="2344" class="l"> 2344: </a>                           .<span class="php-quote">'or in-use instance.'</span> ),
<a href="#2345" id="2345" class="l"> 2345: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_PREFERRED,
<a href="#2346" id="2346" class="l"> 2346: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_PREFERRED'</span>,
<a href="#2347" id="2347" class="l"> 2347: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2348" id="2348" class="l"> 2348: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_REF'</span>,
<a href="#2349" id="2349" class="l"> 2349: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Preferred'</span>,
<a href="#2350" id="2350" class="l"> 2350: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a reference to the preferred object, '</span>
<a href="#2351" id="2351" class="l"> 2351: </a>                           .<span class="php-quote">'there are cases in which an object is obsolete, but still '</span>
<a href="#2352" id="2352" class="l"> 2352: </a>                           .<span class="php-quote">'in use, in this case this attribute should point to the '</span>
<a href="#2353" id="2353" class="l"> 2353: </a>                           .<span class="php-quote">'preferred object.'</span> ),
<a href="#2354" id="2354" class="l"> 2354: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_VALID,
<a href="#2355" id="2355" class="l"> 2355: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_VALID'</span>,
<a href="#2356" id="2356" class="l"> 2356: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2357" id="2357" class="l"> 2357: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_REF'</span>,
<a href="#2358" id="2358" class="l"> 2358: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Valid'</span>,
<a href="#2359" id="2359" class="l"> 2359: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a reference to the valid object, there '</span>
<a href="#2360" id="2360" class="l"> 2360: </a>                           .<span class="php-quote">'are cases in which deleting an object is not an option, in '</span>
<a href="#2361" id="2361" class="l"> 2361: </a>                           .<span class="php-quote">'such cases the invalid or obsolete object points to the valid '</span>
<a href="#2362" id="2362" class="l"> 2362: </a>                           .<span class="php-quote">'object through this term.'</span> ),
<a href="#2363" id="2363" class="l"> 2363: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_PROVIDED,
<a href="#2364" id="2364" class="l"> 2364: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_PROVIDED'</span>,
<a href="#2365" id="2365" class="l"> 2365: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2366" id="2366" class="l"> 2366: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Provided'</span>,
<a href="#2367" id="2367" class="l"> 2367: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term references a provided object, as opposed to a '</span>
<a href="#2368" id="2368" class="l"> 2368: </a>                           .<span class="php-quote">'generated object.'</span> ),
<a href="#2369" id="2369" class="l"> 2369: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_GENERATED,
<a href="#2370" id="2370" class="l"> 2370: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_GENERATED'</span>,
<a href="#2371" id="2371" class="l"> 2371: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2372" id="2372" class="l"> 2372: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Generated'</span>,
<a href="#2373" id="2373" class="l"> 2373: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term references a generated object, as opposed to a '</span>
<a href="#2374" id="2374" class="l"> 2374: </a>                           .<span class="php-quote">'provided object.'</span> ),
<a href="#2375" id="2375" class="l"> 2375: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_OWNER,
<a href="#2376" id="2376" class="l"> 2376: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_OWNER'</span>,
<a href="#2377" id="2377" class="l"> 2377: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2378" id="2378" class="l"> 2378: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Owner'</span>,
<a href="#2379" id="2379" class="l"> 2379: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term references the object that owns, '</span>
<a href="#2380" id="2380" class="l"> 2380: </a>                           .<span class="php-quote">'controls or generated  the current one.'</span> ),
<a href="#2381" id="2381" class="l"> 2381: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_IN,
<a href="#2382" id="2382" class="l"> 2382: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_IN'</span>,
<a href="#2383" id="2383" class="l"> 2383: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2384" id="2384" class="l"> 2384: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_REF'</span>,
<a href="#2385" id="2385" class="l"> 2385: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Incoming'</span>,
<a href="#2386" id="2386" class="l"> 2386: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the incoming direction, it can be used '</span>
<a href="#2387" id="2387" class="l"> 2387: </a>                           .<span class="php-quote">'for tagging items that point to the current object.'</span> ),
<a href="#2388" id="2388" class="l"> 2388: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_OUT,
<a href="#2389" id="2389" class="l"> 2389: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_OUT'</span>,
<a href="#2390" id="2390" class="l"> 2390: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2391" id="2391" class="l"> 2391: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_REF'</span>,
<a href="#2392" id="2392" class="l"> 2392: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Outgoing'</span>,
<a href="#2393" id="2393" class="l"> 2393: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the outgoing direction, it can be used '</span>
<a href="#2394" id="2394" class="l"> 2394: </a>                           .<span class="php-quote">'for tagging items to which the current object points to.'</span> ),
<a href="#2395" id="2395" class="l"> 2395: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAG_MANAGER,
<a href="#2396" id="2396" class="l"> 2396: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAG_MANAGER'</span>,
<a href="#2397" id="2397" class="l"> 2397: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2398" id="2398" class="l"> 2398: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_REF'</span>,
<a href="#2399" id="2399" class="l"> 2399: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Manager'</span>,
<a href="#2400" id="2400" class="l"> 2400: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term is used to indicate the manager or creator of '</span>
<a href="#2401" id="2401" class="l"> 2401: </a>                           .<span class="php-quote">'current object.'</span> ),
<a href="#2402" id="2402" class="l"> 2402: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAXON_RANK,
<a href="#2403" id="2403" class="l"> 2403: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAXON_RANK'</span>,
<a href="#2404" id="2404" class="l"> 2404: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2405" id="2405" class="l"> 2405: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#2406" id="2406" class="l"> 2406: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Rank'</span>,
<a href="#2407" id="2407" class="l"> 2407: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a taxonomic rank.'</span> ),
<a href="#2408" id="2408" class="l"> 2408: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAXON_EPITHET,
<a href="#2409" id="2409" class="l"> 2409: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAXON_EPITHET'</span>,
<a href="#2410" id="2410" class="l"> 2410: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2411" id="2411" class="l"> 2411: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2412" id="2412" class="l"> 2412: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Epithet'</span>,
<a href="#2413" id="2413" class="l"> 2413: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a taxon epithet.'</span> ),
<a href="#2414" id="2414" class="l"> 2414: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAXON_AUTHORITY,
<a href="#2415" id="2415" class="l"> 2415: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAXON_AUTHORITY'</span>,
<a href="#2416" id="2416" class="l"> 2416: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2417" id="2417" class="l"> 2417: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2418" id="2418" class="l"> 2418: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Authority'</span>,
<a href="#2419" id="2419" class="l"> 2419: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a taxon name authority.'</span> ),
<a href="#2420" id="2420" class="l"> 2420: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kTAXON_NAME,
<a href="#2421" id="2421" class="l"> 2421: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kTAXON_NAME'</span>,
<a href="#2422" id="2422" class="l"> 2422: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2423" id="2423" class="l"> 2423: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2424" id="2424" class="l"> 2424: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Taxon'</span>,
<a href="#2425" id="2425" class="l"> 2425: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a full taxon epithet.'</span> ),
<a href="#2426" id="2426" class="l"> 2426: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kIMAGE_THUMB_FLAG,
<a href="#2427" id="2427" class="l"> 2427: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kIMAGE_THUMB_FLAG'</span>,
<a href="#2428" id="2428" class="l"> 2428: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2429" id="2429" class="l"> 2429: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_PNG'</span>,
<a href="#2430" id="2430" class="l"> 2430: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Flag thumbnail'</span>,
<a href="#2431" id="2431" class="l"> 2431: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A flag is the image of a flag or an icon symbol representing '</span>
<a href="#2432" id="2432" class="l"> 2432: </a>                           .<span class="php-quote">'an object, the thumbnail flag is a small sized version of '</span>
<a href="#2433" id="2433" class="l"> 2433: </a>                           .<span class="php-quote">'this image.'</span> ),
<a href="#2434" id="2434" class="l"> 2434: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kIMAGE_MED_FLAG,
<a href="#2435" id="2435" class="l"> 2435: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kIMAGE_MED_FLAG'</span>,
<a href="#2436" id="2436" class="l"> 2436: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2437" id="2437" class="l"> 2437: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_PNG'</span>,
<a href="#2438" id="2438" class="l"> 2438: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Flag image'</span>,
<a href="#2439" id="2439" class="l"> 2439: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A flag is the image of a flag or an icon symbol representing '</span>
<a href="#2440" id="2440" class="l"> 2440: </a>                           .<span class="php-quote">'an object, the medium flag is a medium sized version of '</span>
<a href="#2441" id="2441" class="l"> 2441: </a>                           .<span class="php-quote">'this image.'</span> ),
<a href="#2442" id="2442" class="l"> 2442: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kIMAGE_VECT_FLAG,
<a href="#2443" id="2443" class="l"> 2443: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kIMAGE_VECT_FLAG'</span>,
<a href="#2444" id="2444" class="l"> 2444: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2445" id="2445" class="l"> 2445: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_SVG'</span>,
<a href="#2446" id="2446" class="l"> 2446: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Flag vector image'</span>,
<a href="#2447" id="2447" class="l"> 2447: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'A flag is the image of a flag or an icon symbol representing '</span>
<a href="#2448" id="2448" class="l"> 2448: </a>                           .<span class="php-quote">'an object, the vector flag is a vector version of this image '</span>
<a href="#2449" id="2449" class="l"> 2449: </a>                           .<span class="php-quote">'which can be resized at will.'</span> ),
<a href="#2450" id="2450" class="l"> 2450: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kENTITY_INST_FAO_EPACRONYM,
<a href="#2451" id="2451" class="l"> 2451: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kENTITY_INST_FAO_EPACRONYM'</span>,
<a href="#2452" id="2452" class="l"> 2452: </a>                   <span class="php-quote">'ns'</span> =&gt; <span class="php-quote">'ECPGR'</span>,
<a href="#2453" id="2453" class="l"> 2453: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2454" id="2454" class="l"> 2454: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2455" id="2455" class="l"> 2455: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'ECPGR institute acronym'</span>,
<a href="#2456" id="2456" class="l"> 2456: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'ECPGR institute acronym.'</span> ),
<a href="#2457" id="2457" class="l"> 2457: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kENTITY_INST_FAO_TYPE,
<a href="#2458" id="2458" class="l"> 2458: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kENTITY_INST_FAO_TYPE'</span>,
<a href="#2459" id="2459" class="l"> 2459: </a>                   <span class="php-quote">'ns'</span> =&gt; <span class="php-quote">'FAO:INST'</span>,
<a href="#2460" id="2460" class="l"> 2460: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2461" id="2461" class="l"> 2461: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2462" id="2462" class="l"> 2462: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute types set'</span>,
<a href="#2463" id="2463" class="l"> 2463: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute types enumeration set.'</span> ),
<a href="#2464" id="2464" class="l"> 2464: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kENTITY_INST_FAO_LAT,
<a href="#2465" id="2465" class="l"> 2465: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kENTITY_INST_FAO_LAT'</span>,
<a href="#2466" id="2466" class="l"> 2466: </a>                   <span class="php-quote">'ns'</span> =&gt; <span class="php-quote">'FAO:INST'</span>,
<a href="#2467" id="2467" class="l"> 2467: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2468" id="2468" class="l"> 2468: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_INT32'</span>,
<a href="#2469" id="2469" class="l"> 2469: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute latitude'</span>,
<a href="#2470" id="2470" class="l"> 2470: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute latitude.'</span> ),
<a href="#2471" id="2471" class="l"> 2471: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kENTITY_INST_FAO_LON,
<a href="#2472" id="2472" class="l"> 2472: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kENTITY_INST_FAO_LON'</span>,
<a href="#2473" id="2473" class="l"> 2473: </a>                   <span class="php-quote">'ns'</span> =&gt; <span class="php-quote">'FAO:INST'</span>,
<a href="#2474" id="2474" class="l"> 2474: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2475" id="2475" class="l"> 2475: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_INT32'</span>,
<a href="#2476" id="2476" class="l"> 2476: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute longitude'</span>,
<a href="#2477" id="2477" class="l"> 2477: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute longitude.'</span> ),
<a href="#2478" id="2478" class="l"> 2478: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kENTITY_INST_FAO_ALT,
<a href="#2479" id="2479" class="l"> 2479: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kENTITY_INST_FAO_ALT'</span>,
<a href="#2480" id="2480" class="l"> 2480: </a>                   <span class="php-quote">'ns'</span> =&gt; <span class="php-quote">'FAO:INST'</span>,
<a href="#2481" id="2481" class="l"> 2481: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2482" id="2482" class="l"> 2482: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_INT32'</span>,
<a href="#2483" id="2483" class="l"> 2483: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute elevation'</span>,
<a href="#2484" id="2484" class="l"> 2484: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute elevation.'</span> ),
<a href="#2485" id="2485" class="l"> 2485: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kENTITY_INST_FAO_ACT_PGR,
<a href="#2486" id="2486" class="l"> 2486: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kENTITY_INST_FAO_ACT_PGR'</span>,
<a href="#2487" id="2487" class="l"> 2487: </a>                   <span class="php-quote">'ns'</span> =&gt; <span class="php-quote">'FAO:INST'</span>,
<a href="#2488" id="2488" class="l"> 2488: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2489" id="2489" class="l"> 2489: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2490" id="2490" class="l"> 2490: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute PGR activity enumeration'</span>,
<a href="#2491" id="2491" class="l"> 2491: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This enumeration indicates that the institute manages '</span>
<a href="#2492" id="2492" class="l"> 2492: </a>                           .<span class="php-quote">'plant genetic resources.'</span> ),
<a href="#2493" id="2493" class="l"> 2493: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kENTITY_INST_FAO_ACT_COLL,
<a href="#2494" id="2494" class="l"> 2494: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kENTITY_INST_FAO_ACT_COLL'</span>,
<a href="#2495" id="2495" class="l"> 2495: </a>                   <span class="php-quote">'ns'</span> =&gt; <span class="php-quote">'FAO:INST'</span>,
<a href="#2496" id="2496" class="l"> 2496: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2497" id="2497" class="l"> 2497: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2498" id="2498" class="l"> 2498: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'FAO/WIEWS institute collection management enumeration'</span>,
<a href="#2499" id="2499" class="l"> 2499: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This enumeration indicates that the institute manages a '</span>
<a href="#2500" id="2500" class="l"> 2500: </a>                           .<span class="php-quote">'germplasm collection.'</span> ),
<a href="#2501" id="2501" class="l"> 2501: </a>        );
<a href="#2502" id="2502" class="l"> 2502: </a>        
<a href="#2503" id="2503" class="l"> 2503: </a>        <span class="php-comment">//</span>
<a href="#2504" id="2504" class="l"> 2504: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#2505" id="2505" class="l"> 2505: </a>        <span class="php-comment">//</span>
<a href="#2506" id="2506" class="l"> 2506: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#2507" id="2507" class="l"> 2507: </a>        
<a href="#2508" id="2508" class="l"> 2508: </a>        <span class="php-comment">//</span>
<a href="#2509" id="2509" class="l"> 2509: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#2510" id="2510" class="l"> 2510: </a>        <span class="php-comment">//</span>
<a href="#2511" id="2511" class="l"> 2511: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#2512" id="2512" class="l"> 2512: </a>        
<a href="#2513" id="2513" class="l"> 2513: </a>        <span class="php-comment">//</span>
<a href="#2514" id="2514" class="l"> 2514: </a>        <span class="php-comment">// Load terms.</span>
<a href="#2515" id="2515" class="l"> 2515: </a>        <span class="php-comment">//</span>
<a href="#2516" id="2516" class="l"> 2516: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#2517" id="2517" class="l"> 2517: </a>        {
<a href="#2518" id="2518" class="l"> 2518: </a>            <span class="php-comment">//</span>
<a href="#2519" id="2519" class="l"> 2519: </a>            <span class="php-comment">// Create term.</span>
<a href="#2520" id="2520" class="l"> 2520: </a>            <span class="php-comment">//</span>
<a href="#2521" id="2521" class="l"> 2521: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#2522" id="2522" class="l"> 2522: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#2523" id="2523" class="l"> 2523: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#2524" id="2524" class="l"> 2524: </a>            {
<a href="#2525" id="2525" class="l"> 2525: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'ns'</span>, <span class="php-var">$component</span> ) )
<a href="#2526" id="2526" class="l"> 2526: </a>                {
<a href="#2527" id="2527" class="l"> 2527: </a>                    <span class="php-var">$ns</span> = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#2528" id="2528" class="l"> 2528: </a>                            <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex(
<a href="#2529" id="2529" class="l"> 2529: </a>                                <span class="php-var">$component</span>[ <span class="php-quote">'ns'</span> ] ) );
<a href="#2530" id="2530" class="l"> 2530: </a>                    <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#2531" id="2531" class="l"> 2531: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-keyword2">strlen</span>( <span class="php-var">$ns</span> ) + <span class="php-num">1</span> ) );
<a href="#2532" id="2532" class="l"> 2532: </a>                }
<a href="#2533" id="2533" class="l"> 2533: </a>                <span class="php-keyword1">else</span>
<a href="#2534" id="2534" class="l"> 2534: </a>                {
<a href="#2535" id="2535" class="l"> 2535: </a>                    <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#2536" id="2536" class="l"> 2536: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#2537" id="2537" class="l"> 2537: </a>                }
<a href="#2538" id="2538" class="l"> 2538: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#2539" id="2539" class="l"> 2539: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'car'</span>, <span class="php-var">$component</span> ) )
<a href="#2540" id="2540" class="l"> 2540: </a>                    <span class="php-var">$term</span>-&gt;Cardinality( <span class="php-var">$component</span>[ <span class="php-quote">'car'</span> ] );
<a href="#2541" id="2541" class="l"> 2541: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'typ'</span>, <span class="php-var">$component</span> ) )
<a href="#2542" id="2542" class="l"> 2542: </a>                    <span class="php-var">$term</span>-&gt;Type( <span class="php-var">$component</span>[ <span class="php-quote">'typ'</span> ] );
<a href="#2543" id="2543" class="l"> 2543: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#2544" id="2544" class="l"> 2544: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#2545" id="2545" class="l"> 2545: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#2546" id="2546" class="l"> 2546: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#2547" id="2547" class="l"> 2547: </a>                
<a href="#2548" id="2548" class="l"> 2548: </a>                <span class="php-comment">//</span>
<a href="#2549" id="2549" class="l"> 2549: </a>                <span class="php-comment">// Display.</span>
<a href="#2550" id="2550" class="l"> 2550: </a>                <span class="php-comment">//</span>
<a href="#2551" id="2551" class="l"> 2551: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#2552" id="2552" class="l"> 2552: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#2553" id="2553" class="l"> 2553: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#2554" id="2554" class="l"> 2554: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#2555" id="2555" class="l"> 2555: </a>            }
<a href="#2556" id="2556" class="l"> 2556: </a>        }
<a href="#2557" id="2557" class="l"> 2557: </a>    
<a href="#2558" id="2558" class="l"> 2558: </a>    } <span class="php-comment">// LoadAttributeTerms.</span>
<a href="#2559" id="2559" class="l"> 2559: </a>
<a href="#2560" id="2560" class="l"> 2560: </a>     
<a href="#2561" id="2561" class="l"> 2561: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#2562" id="2562" class="l"> 2562: </a><span class="php-comment">     *  LoadPropertyTerms                                                               *
</span><a href="#2563" id="2563" class="l"> 2563: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#2564" id="2564" class="l"> 2564: </a>
<a href="#2565" id="2565" class="l"> 2565: </a>    <span class="php-comment">/**
</span><a href="#2566" id="2566" class="l"> 2566: </a><span class="php-comment">     * Load property terms.
</span><a href="#2567" id="2567" class="l"> 2567: </a><span class="php-comment">     *
</span><a href="#2568" id="2568" class="l"> 2568: </a><span class="php-comment">     * This function will load all default property terms.
</span><a href="#2569" id="2569" class="l"> 2569: </a><span class="php-comment">     *
</span><a href="#2570" id="2570" class="l"> 2570: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#2571" id="2571" class="l"> 2571: </a><span class="php-comment">     * created terms.
</span><a href="#2572" id="2572" class="l"> 2572: </a><span class="php-comment">     *
</span><a href="#2573" id="2573" class="l"> 2573: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#2574" id="2574" class="l"> 2574: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#2575" id="2575" class="l"> 2575: </a><span class="php-comment">     *
</span><a href="#2576" id="2576" class="l"> 2576: </a><span class="php-comment">     * @access protected
</span><a href="#2577" id="2577" class="l"> 2577: </a><span class="php-comment">     */</span>
<a href="#2578" id="2578" class="l"> 2578: </a>    <span class="php-keyword1">function</span> LoadPropertyTerms( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#2579" id="2579" class="l"> 2579: </a>    {
<a href="#2580" id="2580" class="l"> 2580: </a>        <span class="php-comment">//</span>
<a href="#2581" id="2581" class="l"> 2581: </a>        <span class="php-comment">// Inform.</span>
<a href="#2582" id="2582" class="l"> 2582: </a>        <span class="php-comment">//</span>
<a href="#2583" id="2583" class="l"> 2583: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#2584" id="2584" class="l"> 2584: </a>        {
<a href="#2585" id="2585" class="l"> 2585: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#2586" id="2586" class="l"> 2586: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#2587" id="2587" class="l"> 2587: </a>        }
<a href="#2588" id="2588" class="l"> 2588: </a>        
<a href="#2589" id="2589" class="l"> 2589: </a>        <span class="php-comment">//</span>
<a href="#2590" id="2590" class="l"> 2590: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#2591" id="2591" class="l"> 2591: </a>        <span class="php-comment">//</span>
<a href="#2592" id="2592" class="l"> 2592: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#2593" id="2593" class="l"> 2593: </a>        (
<a href="#2594" id="2594" class="l"> 2594: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_PASSWORD,
<a href="#2595" id="2595" class="l"> 2595: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_PASSWORD'</span>,
<a href="#2596" id="2596" class="l"> 2596: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2597" id="2597" class="l"> 2597: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2598" id="2598" class="l"> 2598: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Password'</span>,
<a href="#2599" id="2599" class="l"> 2599: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a password.'</span> ),
<a href="#2600" id="2600" class="l"> 2600: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_MAIL,
<a href="#2601" id="2601" class="l"> 2601: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_MAIL'</span>,
<a href="#2602" id="2602" class="l"> 2602: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2603" id="2603" class="l"> 2603: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Mail'</span>,
<a href="#2604" id="2604" class="l"> 2604: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a mailing address.'</span> ),
<a href="#2605" id="2605" class="l"> 2605: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_EMAIL,
<a href="#2606" id="2606" class="l"> 2606: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_EMAIL'</span>,
<a href="#2607" id="2607" class="l"> 2607: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2608" id="2608" class="l"> 2608: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2609" id="2609" class="l"> 2609: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'E-mail'</span>,
<a href="#2610" id="2610" class="l"> 2610: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents an e-mail address.'</span> ),
<a href="#2611" id="2611" class="l"> 2611: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_PHONE,
<a href="#2612" id="2612" class="l"> 2612: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_PHONE'</span>,
<a href="#2613" id="2613" class="l"> 2613: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2614" id="2614" class="l"> 2614: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2615" id="2615" class="l"> 2615: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Phone'</span>,
<a href="#2616" id="2616" class="l"> 2616: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a telephone number.'</span> ),
<a href="#2617" id="2617" class="l"> 2617: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_FAX,
<a href="#2618" id="2618" class="l"> 2618: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_FAX'</span>,
<a href="#2619" id="2619" class="l"> 2619: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2620" id="2620" class="l"> 2620: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2621" id="2621" class="l"> 2621: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Fax'</span>,
<a href="#2622" id="2622" class="l"> 2622: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a telefax number.'</span> ),
<a href="#2623" id="2623" class="l"> 2623: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_URL,
<a href="#2624" id="2624" class="l"> 2624: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_URL'</span>,
<a href="#2625" id="2625" class="l"> 2625: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2626" id="2626" class="l"> 2626: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2627" id="2627" class="l"> 2627: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'URL'</span>,
<a href="#2628" id="2628" class="l"> 2628: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents an URL or internet web address.'</span> ),
<a href="#2629" id="2629" class="l"> 2629: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_ACRONYM,
<a href="#2630" id="2630" class="l"> 2630: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_ACRONYM'</span>,
<a href="#2631" id="2631" class="l"> 2631: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_ANY'</span>,
<a href="#2632" id="2632" class="l"> 2632: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2633" id="2633" class="l"> 2633: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Acronym'</span>,
<a href="#2634" id="2634" class="l"> 2634: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents an acronym or abbreviation.'</span> )
<a href="#2635" id="2635" class="l"> 2635: </a>        );
<a href="#2636" id="2636" class="l"> 2636: </a>        
<a href="#2637" id="2637" class="l"> 2637: </a>        <span class="php-comment">//</span>
<a href="#2638" id="2638" class="l"> 2638: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#2639" id="2639" class="l"> 2639: </a>        <span class="php-comment">//</span>
<a href="#2640" id="2640" class="l"> 2640: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#2641" id="2641" class="l"> 2641: </a>        
<a href="#2642" id="2642" class="l"> 2642: </a>        <span class="php-comment">//</span>
<a href="#2643" id="2643" class="l"> 2643: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#2644" id="2644" class="l"> 2644: </a>        <span class="php-comment">//</span>
<a href="#2645" id="2645" class="l"> 2645: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#2646" id="2646" class="l"> 2646: </a>        
<a href="#2647" id="2647" class="l"> 2647: </a>        <span class="php-comment">//</span>
<a href="#2648" id="2648" class="l"> 2648: </a>        <span class="php-comment">// Load terms.</span>
<a href="#2649" id="2649" class="l"> 2649: </a>        <span class="php-comment">//</span>
<a href="#2650" id="2650" class="l"> 2650: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#2651" id="2651" class="l"> 2651: </a>        {
<a href="#2652" id="2652" class="l"> 2652: </a>            <span class="php-comment">//</span>
<a href="#2653" id="2653" class="l"> 2653: </a>            <span class="php-comment">// Create term.</span>
<a href="#2654" id="2654" class="l"> 2654: </a>            <span class="php-comment">//</span>
<a href="#2655" id="2655" class="l"> 2655: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#2656" id="2656" class="l"> 2656: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#2657" id="2657" class="l"> 2657: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#2658" id="2658" class="l"> 2658: </a>            {
<a href="#2659" id="2659" class="l"> 2659: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#2660" id="2660" class="l"> 2660: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#2661" id="2661" class="l"> 2661: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#2662" id="2662" class="l"> 2662: </a>                <span class="php-var">$term</span>-&gt;Cardinality( <span class="php-var">$component</span>[ <span class="php-quote">'car'</span> ] );
<a href="#2663" id="2663" class="l"> 2663: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'typ'</span>, <span class="php-var">$component</span> ) )
<a href="#2664" id="2664" class="l"> 2664: </a>                    <span class="php-var">$term</span>-&gt;Type( <span class="php-var">$component</span>[ <span class="php-quote">'typ'</span> ] );
<a href="#2665" id="2665" class="l"> 2665: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#2666" id="2666" class="l"> 2666: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#2667" id="2667" class="l"> 2667: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#2668" id="2668" class="l"> 2668: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#2669" id="2669" class="l"> 2669: </a>                
<a href="#2670" id="2670" class="l"> 2670: </a>                <span class="php-comment">//</span>
<a href="#2671" id="2671" class="l"> 2671: </a>                <span class="php-comment">// Display.</span>
<a href="#2672" id="2672" class="l"> 2672: </a>                <span class="php-comment">//</span>
<a href="#2673" id="2673" class="l"> 2673: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#2674" id="2674" class="l"> 2674: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#2675" id="2675" class="l"> 2675: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#2676" id="2676" class="l"> 2676: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#2677" id="2677" class="l"> 2677: </a>            }
<a href="#2678" id="2678" class="l"> 2678: </a>        }
<a href="#2679" id="2679" class="l"> 2679: </a>    
<a href="#2680" id="2680" class="l"> 2680: </a>    } <span class="php-comment">// LoadPropertyTerms.</span>
<a href="#2681" id="2681" class="l"> 2681: </a>
<a href="#2682" id="2682" class="l"> 2682: </a>     
<a href="#2683" id="2683" class="l"> 2683: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#2684" id="2684" class="l"> 2684: </a><span class="php-comment">     *  LoadMailProperties                                                              *
</span><a href="#2685" id="2685" class="l"> 2685: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#2686" id="2686" class="l"> 2686: </a>
<a href="#2687" id="2687" class="l"> 2687: </a>    <span class="php-comment">/**
</span><a href="#2688" id="2688" class="l"> 2688: </a><span class="php-comment">     * Load mail property terms.
</span><a href="#2689" id="2689" class="l"> 2689: </a><span class="php-comment">     *
</span><a href="#2690" id="2690" class="l"> 2690: </a><span class="php-comment">     * This function will load all default mailing address property terms.
</span><a href="#2691" id="2691" class="l"> 2691: </a><span class="php-comment">     *
</span><a href="#2692" id="2692" class="l"> 2692: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#2693" id="2693" class="l"> 2693: </a><span class="php-comment">     * created terms.
</span><a href="#2694" id="2694" class="l"> 2694: </a><span class="php-comment">     *
</span><a href="#2695" id="2695" class="l"> 2695: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#2696" id="2696" class="l"> 2696: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#2697" id="2697" class="l"> 2697: </a><span class="php-comment">     *
</span><a href="#2698" id="2698" class="l"> 2698: </a><span class="php-comment">     * @access protected
</span><a href="#2699" id="2699" class="l"> 2699: </a><span class="php-comment">     */</span>
<a href="#2700" id="2700" class="l"> 2700: </a>    <span class="php-keyword1">function</span> LoadMailProperties( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#2701" id="2701" class="l"> 2701: </a>    {
<a href="#2702" id="2702" class="l"> 2702: </a>        <span class="php-comment">//</span>
<a href="#2703" id="2703" class="l"> 2703: </a>        <span class="php-comment">// Inform.</span>
<a href="#2704" id="2704" class="l"> 2704: </a>        <span class="php-comment">//</span>
<a href="#2705" id="2705" class="l"> 2705: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#2706" id="2706" class="l"> 2706: </a>        {
<a href="#2707" id="2707" class="l"> 2707: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#2708" id="2708" class="l"> 2708: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#2709" id="2709" class="l"> 2709: </a>        }
<a href="#2710" id="2710" class="l"> 2710: </a>        
<a href="#2711" id="2711" class="l"> 2711: </a>        <span class="php-comment">//</span>
<a href="#2712" id="2712" class="l"> 2712: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#2713" id="2713" class="l"> 2713: </a>        <span class="php-comment">//</span>
<a href="#2714" id="2714" class="l"> 2714: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#2715" id="2715" class="l"> 2715: </a>        (
<a href="#2716" id="2716" class="l"> 2716: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_PLACE,
<a href="#2717" id="2717" class="l"> 2717: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_PLACE'</span>,
<a href="#2718" id="2718" class="l"> 2718: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2719" id="2719" class="l"> 2719: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2720" id="2720" class="l"> 2720: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Place'</span>,
<a href="#2721" id="2721" class="l"> 2721: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a place or named location part '</span>
<a href="#2722" id="2722" class="l"> 2722: </a>                           .<span class="php-quote">'of a mailing address.'</span> ),
<a href="#2723" id="2723" class="l"> 2723: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_CARE,
<a href="#2724" id="2724" class="l"> 2724: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_CARE'</span>,
<a href="#2725" id="2725" class="l"> 2725: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2726" id="2726" class="l"> 2726: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2727" id="2727" class="l"> 2727: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Care of'</span>,
<a href="#2728" id="2728" class="l"> 2728: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the care of part of a mailing address.'</span> ),
<a href="#2729" id="2729" class="l"> 2729: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_STREET,
<a href="#2730" id="2730" class="l"> 2730: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_STREET'</span>,
<a href="#2731" id="2731" class="l"> 2731: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2732" id="2732" class="l"> 2732: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2733" id="2733" class="l"> 2733: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Street/P.O. Box'</span>,
<a href="#2734" id="2734" class="l"> 2734: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the street or P.O. Box part of a '</span>
<a href="#2735" id="2735" class="l"> 2735: </a>                           .<span class="php-quote">'mailing address.'</span> ),
<a href="#2736" id="2736" class="l"> 2736: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_ZIP_CODE,
<a href="#2737" id="2737" class="l"> 2737: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_ZIP_CODE'</span>,
<a href="#2738" id="2738" class="l"> 2738: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2739" id="2739" class="l"> 2739: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2740" id="2740" class="l"> 2740: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Zip'</span>,
<a href="#2741" id="2741" class="l"> 2741: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the zip code part of a mailing '</span>
<a href="#2742" id="2742" class="l"> 2742: </a>                           .<span class="php-quote">'address.'</span> ),
<a href="#2743" id="2743" class="l"> 2743: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_CITY,
<a href="#2744" id="2744" class="l"> 2744: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_CITY'</span>,
<a href="#2745" id="2745" class="l"> 2745: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2746" id="2746" class="l"> 2746: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2747" id="2747" class="l"> 2747: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'City'</span>,
<a href="#2748" id="2748" class="l"> 2748: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the city part of a mailing address.'</span> ),
<a href="#2749" id="2749" class="l"> 2749: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_PROVINCE,
<a href="#2750" id="2750" class="l"> 2750: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_PROVINCE'</span>,
<a href="#2751" id="2751" class="l"> 2751: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2752" id="2752" class="l"> 2752: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2753" id="2753" class="l"> 2753: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Province'</span>,
<a href="#2754" id="2754" class="l"> 2754: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the province part of a mailing '</span>
<a href="#2755" id="2755" class="l"> 2755: </a>                           .<span class="php-quote">'address.'</span> ),
<a href="#2756" id="2756" class="l"> 2756: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_COUNTRY,
<a href="#2757" id="2757" class="l"> 2757: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_COUNTRY'</span>,
<a href="#2758" id="2758" class="l"> 2758: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_1'</span>,
<a href="#2759" id="2759" class="l"> 2759: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_ENUM'</span>,
<a href="#2760" id="2760" class="l"> 2760: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Country'</span>,
<a href="#2761" id="2761" class="l"> 2761: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents the country of the mailing address, '</span>
<a href="#2762" id="2762" class="l"> 2762: </a>                           .<span class="php-quote">'in general it should be expressed as an enumerated value.'</span> ),
<a href="#2763" id="2763" class="l"> 2763: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kOFFSET_FULL,
<a href="#2764" id="2764" class="l"> 2764: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kOFFSET_FULL'</span>,
<a href="#2765" id="2765" class="l"> 2765: </a>                   <span class="php-quote">'car'</span> =&gt; <span class="php-quote">'kCARD_0_1'</span>,
<a href="#2766" id="2766" class="l"> 2766: </a>                   <span class="php-quote">'typ'</span> =&gt; <span class="php-quote">'kTYPE_STRING'</span>,
<a href="#2767" id="2767" class="l"> 2767: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Full mailing address'</span>,
<a href="#2768" id="2768" class="l"> 2768: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'This term represents a full mailing address in the '</span>
<a href="#2769" id="2769" class="l"> 2769: </a>                           .<span class="php-quote">'form of a string.'</span> )
<a href="#2770" id="2770" class="l"> 2770: </a>        );
<a href="#2771" id="2771" class="l"> 2771: </a>        
<a href="#2772" id="2772" class="l"> 2772: </a>        <span class="php-comment">//</span>
<a href="#2773" id="2773" class="l"> 2773: </a>        <span class="php-comment">// Save common namespace.</span>
<a href="#2774" id="2774" class="l"> 2774: </a>        <span class="php-comment">//</span>
<a href="#2775" id="2775" class="l"> 2775: </a>        <span class="php-var">$namespace</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#2776" id="2776" class="l"> 2776: </a>        
<a href="#2777" id="2777" class="l"> 2777: </a>        <span class="php-comment">//</span>
<a href="#2778" id="2778" class="l"> 2778: </a>        <span class="php-comment">// Get namespace length.</span>
<a href="#2779" id="2779" class="l"> 2779: </a>        <span class="php-comment">//</span>
<a href="#2780" id="2780" class="l"> 2780: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( <span class="php-var">$namespace</span> ) + <span class="php-num">1</span>;
<a href="#2781" id="2781" class="l"> 2781: </a>        
<a href="#2782" id="2782" class="l"> 2782: </a>        <span class="php-comment">//</span>
<a href="#2783" id="2783" class="l"> 2783: </a>        <span class="php-comment">// Load terms.</span>
<a href="#2784" id="2784" class="l"> 2784: </a>        <span class="php-comment">//</span>
<a href="#2785" id="2785" class="l"> 2785: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#2786" id="2786" class="l"> 2786: </a>        {
<a href="#2787" id="2787" class="l"> 2787: </a>            <span class="php-comment">//</span>
<a href="#2788" id="2788" class="l"> 2788: </a>            <span class="php-comment">// Create term.</span>
<a href="#2789" id="2789" class="l"> 2789: </a>            <span class="php-comment">//</span>
<a href="#2790" id="2790" class="l"> 2790: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#2791" id="2791" class="l"> 2791: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#2792" id="2792" class="l"> 2792: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#2793" id="2793" class="l"> 2793: </a>            {
<a href="#2794" id="2794" class="l"> 2794: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$namespace</span> );
<a href="#2795" id="2795" class="l"> 2795: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#2796" id="2796" class="l"> 2796: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#2797" id="2797" class="l"> 2797: </a>                <span class="php-var">$term</span>-&gt;Cardinality( <span class="php-var">$component</span>[ <span class="php-quote">'car'</span> ] );
<a href="#2798" id="2798" class="l"> 2798: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-quote">'typ'</span>, <span class="php-var">$component</span> ) )
<a href="#2799" id="2799" class="l"> 2799: </a>                    <span class="php-var">$term</span>-&gt;Type( <span class="php-var">$component</span>[ <span class="php-quote">'typ'</span> ] );
<a href="#2800" id="2800" class="l"> 2800: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#2801" id="2801" class="l"> 2801: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#2802" id="2802" class="l"> 2802: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#2803" id="2803" class="l"> 2803: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#2804" id="2804" class="l"> 2804: </a>                
<a href="#2805" id="2805" class="l"> 2805: </a>                <span class="php-comment">//</span>
<a href="#2806" id="2806" class="l"> 2806: </a>                <span class="php-comment">// Display.</span>
<a href="#2807" id="2807" class="l"> 2807: </a>                <span class="php-comment">//</span>
<a href="#2808" id="2808" class="l"> 2808: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#2809" id="2809" class="l"> 2809: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#2810" id="2810" class="l"> 2810: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#2811" id="2811" class="l"> 2811: </a>                         .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#2812" id="2812" class="l"> 2812: </a>            }
<a href="#2813" id="2813" class="l"> 2813: </a>        }
<a href="#2814" id="2814" class="l"> 2814: </a>    
<a href="#2815" id="2815" class="l"> 2815: </a>    } <span class="php-comment">// LoadMailProperties.</span>
<a href="#2816" id="2816" class="l"> 2816: </a>
<a href="#2817" id="2817" class="l"> 2817: </a>     
<a href="#2818" id="2818" class="l"> 2818: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#2819" id="2819" class="l"> 2819: </a><span class="php-comment">     *  LoadDefaultDomains                                                              *
</span><a href="#2820" id="2820" class="l"> 2820: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#2821" id="2821" class="l"> 2821: </a>
<a href="#2822" id="2822" class="l"> 2822: </a>    <span class="php-comment">/**
</span><a href="#2823" id="2823" class="l"> 2823: </a><span class="php-comment">     * Load default domains.
</span><a href="#2824" id="2824" class="l"> 2824: </a><span class="php-comment">     *
</span><a href="#2825" id="2825" class="l"> 2825: </a><span class="php-comment">     * This function will load the default domains ontology.
</span><a href="#2826" id="2826" class="l"> 2826: </a><span class="php-comment">     *
</span><a href="#2827" id="2827" class="l"> 2827: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#2828" id="2828" class="l"> 2828: </a><span class="php-comment">     * created terms.
</span><a href="#2829" id="2829" class="l"> 2829: </a><span class="php-comment">     *
</span><a href="#2830" id="2830" class="l"> 2830: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#2831" id="2831" class="l"> 2831: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#2832" id="2832" class="l"> 2832: </a><span class="php-comment">     *
</span><a href="#2833" id="2833" class="l"> 2833: </a><span class="php-comment">     * @access protected
</span><a href="#2834" id="2834" class="l"> 2834: </a><span class="php-comment">     */</span>
<a href="#2835" id="2835" class="l"> 2835: </a>    <span class="php-keyword1">function</span> LoadDefaultDomains( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#2836" id="2836" class="l"> 2836: </a>    {
<a href="#2837" id="2837" class="l"> 2837: </a>        <span class="php-comment">//</span>
<a href="#2838" id="2838" class="l"> 2838: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#2839" id="2839" class="l"> 2839: </a>        <span class="php-comment">//</span>
<a href="#2840" id="2840" class="l"> 2840: </a>        <span class="php-var">$nodes</span> = <span class="php-keyword1">Array</span>();
<a href="#2841" id="2841" class="l"> 2841: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#2842" id="2842" class="l"> 2842: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#2843" id="2843" class="l"> 2843: </a>        
<a href="#2844" id="2844" class="l"> 2844: </a>        <span class="php-comment">//</span>
<a href="#2845" id="2845" class="l"> 2845: </a>        <span class="php-comment">// Inform.</span>
<a href="#2846" id="2846" class="l"> 2846: </a>        <span class="php-comment">//</span>
<a href="#2847" id="2847" class="l"> 2847: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#2848" id="2848" class="l"> 2848: </a>        {
<a href="#2849" id="2849" class="l"> 2849: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#2850" id="2850" class="l"> 2850: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#2851" id="2851" class="l"> 2851: </a>        }
<a href="#2852" id="2852" class="l"> 2852: </a>        
<a href="#2853" id="2853" class="l"> 2853: </a>        <span class="php-comment">//</span>
<a href="#2854" id="2854" class="l"> 2854: </a>        <span class="php-comment">// ENUM-OF.</span>
<a href="#2855" id="2855" class="l"> 2855: </a>        <span class="php-comment">//</span>
<a href="#2856" id="2856" class="l"> 2856: </a>        <span class="php-var">$enum_of</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#2857" id="2857" class="l"> 2857: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_ENUM_OF ) );
<a href="#2858" id="2858" class="l"> 2858: </a>        
<a href="#2859" id="2859" class="l"> 2859: </a>        <span class="php-comment">//</span>
<a href="#2860" id="2860" class="l"> 2860: </a>        <span class="php-comment">// Get default namespace.</span>
<a href="#2861" id="2861" class="l"> 2861: </a>        <span class="php-comment">//</span>
<a href="#2862" id="2862" class="l"> 2862: </a>        <span class="php-var">$ns</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#2863" id="2863" class="l"> 2863: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( (string) <span class="php-var">$ns</span> ) + <span class="php-num">1</span>;
<a href="#2864" id="2864" class="l"> 2864: </a>        
<a href="#2865" id="2865" class="l"> 2865: </a>        <span class="php-comment">//</span>
<a href="#2866" id="2866" class="l"> 2866: </a>        <span class="php-comment">// Handle kDEF_DOMAIN term.</span>
<a href="#2867" id="2867" class="l"> 2867: </a>        <span class="php-comment">//</span>
<a href="#2868" id="2868" class="l"> 2868: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#2869" id="2869" class="l"> 2869: </a>                                   COntologyTerm::HashIndex( kDEF_DOMAIN ) );
<a href="#2870" id="2870" class="l"> 2870: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#2871" id="2871" class="l"> 2871: </a>        {
<a href="#2872" id="2872" class="l"> 2872: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#2873" id="2873" class="l"> 2873: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( kDEF_DOMAIN, <span class="php-var">$len</span> ) );
<a href="#2874" id="2874" class="l"> 2874: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#2875" id="2875" class="l"> 2875: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Domain'</span>, kDEFAULT_LANGUAGE );
<a href="#2876" id="2876" class="l"> 2876: </a>            <span class="php-var">$term</span>-&gt;Definition( <span class="php-quote">'Default domain.'</span>, kDEFAULT_LANGUAGE );
<a href="#2877" id="2877" class="l"> 2877: </a>            <span class="php-var">$term</span>-&gt;Synonym( kDEF_DOMAIN, kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#2878" id="2878" class="l"> 2878: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#2879" id="2879" class="l"> 2879: </a>        }
<a href="#2880" id="2880" class="l"> 2880: </a>        <span class="php-comment">//</span>
<a href="#2881" id="2881" class="l"> 2881: </a>        <span class="php-comment">// Handle node.</span>
<a href="#2882" id="2882" class="l"> 2882: </a>        <span class="php-comment">//</span>
<a href="#2883" id="2883" class="l"> 2883: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#2884" id="2884" class="l"> 2884: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#2885" id="2885" class="l"> 2885: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_ROOT, <span class="php-keyword1">TRUE</span> );
<a href="#2886" id="2886" class="l"> 2886: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#2887" id="2887" class="l"> 2887: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#2888" id="2888" class="l"> 2888: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#2889" id="2889" class="l"> 2889: </a>        <span class="php-comment">//</span>
<a href="#2890" id="2890" class="l"> 2890: </a>        <span class="php-comment">// Save node.</span>
<a href="#2891" id="2891" class="l"> 2891: </a>        <span class="php-comment">//</span>
<a href="#2892" id="2892" class="l"> 2892: </a>        <span class="php-var">$nodes</span>[ kDEF_DOMAIN ] = <span class="php-var">$node</span>;
<a href="#2893" id="2893" class="l"> 2893: </a>        <span class="php-comment">//</span>
<a href="#2894" id="2894" class="l"> 2894: </a>        <span class="php-comment">// Display.</span>
<a href="#2895" id="2895" class="l"> 2895: </a>        <span class="php-comment">//</span>
<a href="#2896" id="2896" class="l"> 2896: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#2897" id="2897" class="l"> 2897: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kDEF_DOMAIN) &quot;</span>
<a href="#2898" id="2898" class="l"> 2898: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#2899" id="2899" class="l"> 2899: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#2900" id="2900" class="l"> 2900: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#2901" id="2901" class="l"> 2901: </a>        
<a href="#2902" id="2902" class="l"> 2902: </a>        <span class="php-comment">//</span>
<a href="#2903" id="2903" class="l"> 2903: </a>        <span class="php-comment">// Change namespace.</span>
<a href="#2904" id="2904" class="l"> 2904: </a>        <span class="php-comment">//</span>
<a href="#2905" id="2905" class="l"> 2905: </a>        <span class="php-var">$ns</span> = <span class="php-var">$term</span>;
<a href="#2906" id="2906" class="l"> 2906: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( (string) <span class="php-var">$ns</span> ) + <span class="php-num">1</span>;
<a href="#2907" id="2907" class="l"> 2907: </a>        
<a href="#2908" id="2908" class="l"> 2908: </a>        <span class="php-comment">//</span>
<a href="#2909" id="2909" class="l"> 2909: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#2910" id="2910" class="l"> 2910: </a>        <span class="php-comment">//</span>
<a href="#2911" id="2911" class="l"> 2911: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#2912" id="2912" class="l"> 2912: </a>        (
<a href="#2913" id="2913" class="l"> 2913: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kDOMAIN_GERMPLASM,
<a href="#2914" id="2914" class="l"> 2914: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kDOMAIN_GERMPLASM'</span>,
<a href="#2915" id="2915" class="l"> 2915: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Germplasm'</span>,
<a href="#2916" id="2916" class="l"> 2916: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Germplasm, it is a generalised domain comprising all '</span>
<a href="#2917" id="2917" class="l"> 2917: </a>                           .<span class="php-quote">'kinds of germplasms.'</span> ),
<a href="#2918" id="2918" class="l"> 2918: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kDOMAIN_GEOGRAPHY,
<a href="#2919" id="2919" class="l"> 2919: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kDOMAIN_GEOGRAPHY'</span>,
<a href="#2920" id="2920" class="l"> 2920: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Geography'</span>,
<a href="#2921" id="2921" class="l"> 2921: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Geography, it is a generalised domain comprising all '</span>
<a href="#2922" id="2922" class="l"> 2922: </a>                           .<span class="php-quote">'descriptors related to geographic data.'</span> ),
<a href="#2923" id="2923" class="l"> 2923: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kDOMAIN_LANGUAGE,
<a href="#2924" id="2924" class="l"> 2924: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kDOMAIN_LANGUAGE'</span>,
<a href="#2925" id="2925" class="l"> 2925: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Language'</span>,
<a href="#2926" id="2926" class="l"> 2926: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Language, it is a generalised domain comprising all '</span>
<a href="#2927" id="2927" class="l"> 2927: </a>                           .<span class="php-quote">'descriptors related to languages.'</span> ),
<a href="#2928" id="2928" class="l"> 2928: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kDOMAIN_TAXONOMY,
<a href="#2929" id="2929" class="l"> 2929: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kDOMAIN_TAXONOMY'</span>,
<a href="#2930" id="2930" class="l"> 2930: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Taxonomy'</span>,
<a href="#2931" id="2931" class="l"> 2931: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Taxonomy, it is a generalised domain comprising all '</span>
<a href="#2932" id="2932" class="l"> 2932: </a>                           .<span class="php-quote">'descriptors related to taxonomy.'</span> )
<a href="#2933" id="2933" class="l"> 2933: </a>        );
<a href="#2934" id="2934" class="l"> 2934: </a>        
<a href="#2935" id="2935" class="l"> 2935: </a>        <span class="php-comment">//</span>
<a href="#2936" id="2936" class="l"> 2936: </a>        <span class="php-comment">// Load data.</span>
<a href="#2937" id="2937" class="l"> 2937: </a>        <span class="php-comment">//</span>
<a href="#2938" id="2938" class="l"> 2938: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#2939" id="2939" class="l"> 2939: </a>        {
<a href="#2940" id="2940" class="l"> 2940: </a>            <span class="php-comment">//</span>
<a href="#2941" id="2941" class="l"> 2941: </a>            <span class="php-comment">// Handle term.</span>
<a href="#2942" id="2942" class="l"> 2942: </a>            <span class="php-comment">//</span>
<a href="#2943" id="2943" class="l"> 2943: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#2944" id="2944" class="l"> 2944: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#2945" id="2945" class="l"> 2945: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#2946" id="2946" class="l"> 2946: </a>            {
<a href="#2947" id="2947" class="l"> 2947: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#2948" id="2948" class="l"> 2948: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#2949" id="2949" class="l"> 2949: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#2950" id="2950" class="l"> 2950: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#2951" id="2951" class="l"> 2951: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#2952" id="2952" class="l"> 2952: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#2953" id="2953" class="l"> 2953: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#2954" id="2954" class="l"> 2954: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#2955" id="2955" class="l"> 2955: </a>            }
<a href="#2956" id="2956" class="l"> 2956: </a>            <span class="php-comment">//</span>
<a href="#2957" id="2957" class="l"> 2957: </a>            <span class="php-comment">// Handle node.</span>
<a href="#2958" id="2958" class="l"> 2958: </a>            <span class="php-comment">//</span>
<a href="#2959" id="2959" class="l"> 2959: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#2960" id="2960" class="l"> 2960: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#2961" id="2961" class="l"> 2961: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#2962" id="2962" class="l"> 2962: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM );
<a href="#2963" id="2963" class="l"> 2963: </a>            <span class="php-var">$node</span>-&gt;Domain( <span class="php-var">$ns</span>, <span class="php-keyword1">TRUE</span> );
<a href="#2964" id="2964" class="l"> 2964: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#2965" id="2965" class="l"> 2965: </a>            <span class="php-comment">//</span>
<a href="#2966" id="2966" class="l"> 2966: </a>            <span class="php-comment">// Save node.</span>
<a href="#2967" id="2967" class="l"> 2967: </a>            <span class="php-comment">//</span>
<a href="#2968" id="2968" class="l"> 2968: </a>            <span class="php-var">$nodes</span>[ <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ] = <span class="php-var">$node</span>;
<a href="#2969" id="2969" class="l"> 2969: </a>            <span class="php-comment">//</span>
<a href="#2970" id="2970" class="l"> 2970: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#2971" id="2971" class="l"> 2971: </a>            <span class="php-comment">//</span>
<a href="#2972" id="2972" class="l"> 2972: </a>            <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$nodes</span>[ kDEF_DOMAIN ] );
<a href="#2973" id="2973" class="l"> 2973: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#2974" id="2974" class="l"> 2974: </a>            <span class="php-comment">//</span>
<a href="#2975" id="2975" class="l"> 2975: </a>            <span class="php-comment">// Display.</span>
<a href="#2976" id="2976" class="l"> 2976: </a>            <span class="php-comment">//</span>
<a href="#2977" id="2977" class="l"> 2977: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#2978" id="2978" class="l"> 2978: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#2979" id="2979" class="l"> 2979: </a>                     .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#2980" id="2980" class="l"> 2980: </a>                     .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#2981" id="2981" class="l"> 2981: </a>                     .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#2982" id="2982" class="l"> 2982: </a>        }
<a href="#2983" id="2983" class="l"> 2983: </a>        
<a href="#2984" id="2984" class="l"> 2984: </a>        <span class="php-comment">//</span>
<a href="#2985" id="2985" class="l"> 2985: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#2986" id="2986" class="l"> 2986: </a>        <span class="php-comment">//</span>
<a href="#2987" id="2987" class="l"> 2987: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#2988" id="2988" class="l"> 2988: </a>        (
<a href="#2989" id="2989" class="l"> 2989: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kDOMAIN_SAMPLE,
<a href="#2990" id="2990" class="l"> 2990: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kDOMAIN_SAMPLE'</span>,
<a href="#2991" id="2991" class="l"> 2991: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Sample'</span>,
<a href="#2992" id="2992" class="l"> 2992: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Germplasm sample, it is a generalised domain comprising '</span>
<a href="#2993" id="2993" class="l"> 2993: </a>                           .<span class="php-quote">'all descriptors related to germplasm samples.'</span> ),
<a href="#2994" id="2994" class="l"> 2994: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kDOMAIN_ACCESSION,
<a href="#2995" id="2995" class="l"> 2995: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kDOMAIN_ACCESSION'</span>,
<a href="#2996" id="2996" class="l"> 2996: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Accession'</span>,
<a href="#2997" id="2997" class="l"> 2997: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Accession, it is a generalised domain comprising all '</span>
<a href="#2998" id="2998" class="l"> 2998: </a>                           .<span class="php-quote">'descriptors related to germplasm accessions.'</span> ),
<a href="#2999" id="2999" class="l"> 2999: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kDOMAIN_SPECIMEN,
<a href="#3000" id="3000" class="l"> 3000: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kDOMAIN_SPECIMEN'</span>,
<a href="#3001" id="3001" class="l"> 3001: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Specimen'</span>,
<a href="#3002" id="3002" class="l"> 3002: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Specimen, it is a generalised domain comprising all '</span>
<a href="#3003" id="3003" class="l"> 3003: </a>                           .<span class="php-quote">'descriptors related to germplasm specimens; in general '</span>
<a href="#3004" id="3004" class="l"> 3004: </a>                           .<span class="php-quote">'these will not be living material.'</span> ),
<a href="#3005" id="3005" class="l"> 3005: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kDOMAIN_LANDRACE,
<a href="#3006" id="3006" class="l"> 3006: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kDOMAIN_LANDRACE'</span>,
<a href="#3007" id="3007" class="l"> 3007: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Land-race'</span>,
<a href="#3008" id="3008" class="l"> 3008: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Landrace, it is a generalised domain comprising all '</span>
<a href="#3009" id="3009" class="l"> 3009: </a>                           .<span class="php-quote">'descriptors related to farmer varieties.'</span> ),
<a href="#3010" id="3010" class="l"> 3010: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kDOMAIN_POPULATION,
<a href="#3011" id="3011" class="l"> 3011: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kDOMAIN_POPULATION'</span>,
<a href="#3012" id="3012" class="l"> 3012: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Population'</span>,
<a href="#3013" id="3013" class="l"> 3013: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Population, it is a generalised domain comprising all '</span>
<a href="#3014" id="3014" class="l"> 3014: </a>                           .<span class="php-quote">'descriptors related to in-situ germplasm populations.'</span> )
<a href="#3015" id="3015" class="l"> 3015: </a>        );
<a href="#3016" id="3016" class="l"> 3016: </a>        
<a href="#3017" id="3017" class="l"> 3017: </a>        <span class="php-comment">//</span>
<a href="#3018" id="3018" class="l"> 3018: </a>        <span class="php-comment">// Load data.</span>
<a href="#3019" id="3019" class="l"> 3019: </a>        <span class="php-comment">//</span>
<a href="#3020" id="3020" class="l"> 3020: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#3021" id="3021" class="l"> 3021: </a>        {
<a href="#3022" id="3022" class="l"> 3022: </a>            <span class="php-comment">//</span>
<a href="#3023" id="3023" class="l"> 3023: </a>            <span class="php-comment">// Handle term.</span>
<a href="#3024" id="3024" class="l"> 3024: </a>            <span class="php-comment">//</span>
<a href="#3025" id="3025" class="l"> 3025: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#3026" id="3026" class="l"> 3026: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#3027" id="3027" class="l"> 3027: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3028" id="3028" class="l"> 3028: </a>            {
<a href="#3029" id="3029" class="l"> 3029: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#3030" id="3030" class="l"> 3030: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#3031" id="3031" class="l"> 3031: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#3032" id="3032" class="l"> 3032: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#3033" id="3033" class="l"> 3033: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#3034" id="3034" class="l"> 3034: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#3035" id="3035" class="l"> 3035: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#3036" id="3036" class="l"> 3036: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3037" id="3037" class="l"> 3037: </a>            }
<a href="#3038" id="3038" class="l"> 3038: </a>            <span class="php-comment">//</span>
<a href="#3039" id="3039" class="l"> 3039: </a>            <span class="php-comment">// Handle node.</span>
<a href="#3040" id="3040" class="l"> 3040: </a>            <span class="php-comment">//</span>
<a href="#3041" id="3041" class="l"> 3041: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3042" id="3042" class="l"> 3042: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3043" id="3043" class="l"> 3043: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#3044" id="3044" class="l"> 3044: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM );
<a href="#3045" id="3045" class="l"> 3045: </a>            <span class="php-var">$node</span>-&gt;Domain( <span class="php-var">$ns</span>, <span class="php-keyword1">TRUE</span> );
<a href="#3046" id="3046" class="l"> 3046: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3047" id="3047" class="l"> 3047: </a>            <span class="php-comment">//</span>
<a href="#3048" id="3048" class="l"> 3048: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#3049" id="3049" class="l"> 3049: </a>            <span class="php-comment">//</span>
<a href="#3050" id="3050" class="l"> 3050: </a>            <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$nodes</span>[ kDOMAIN_GERMPLASM ] );
<a href="#3051" id="3051" class="l"> 3051: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3052" id="3052" class="l"> 3052: </a>            <span class="php-comment">//</span>
<a href="#3053" id="3053" class="l"> 3053: </a>            <span class="php-comment">// Display.</span>
<a href="#3054" id="3054" class="l"> 3054: </a>            <span class="php-comment">//</span>
<a href="#3055" id="3055" class="l"> 3055: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3056" id="3056" class="l"> 3056: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#3057" id="3057" class="l"> 3057: </a>                     .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#3058" id="3058" class="l"> 3058: </a>                     .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#3059" id="3059" class="l"> 3059: </a>                     .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3060" id="3060" class="l"> 3060: </a>        }
<a href="#3061" id="3061" class="l"> 3061: </a>        
<a href="#3062" id="3062" class="l"> 3062: </a>    } <span class="php-comment">// LoadDefaultDomains.</span>
<a href="#3063" id="3063" class="l"> 3063: </a>
<a href="#3064" id="3064" class="l"> 3064: </a>     
<a href="#3065" id="3065" class="l"> 3065: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#3066" id="3066" class="l"> 3066: </a><span class="php-comment">     *  LoadDefaultCategories                                                           *
</span><a href="#3067" id="3067" class="l"> 3067: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#3068" id="3068" class="l"> 3068: </a>
<a href="#3069" id="3069" class="l"> 3069: </a>    <span class="php-comment">/**
</span><a href="#3070" id="3070" class="l"> 3070: </a><span class="php-comment">     * Load default categories.
</span><a href="#3071" id="3071" class="l"> 3071: </a><span class="php-comment">     *
</span><a href="#3072" id="3072" class="l"> 3072: </a><span class="php-comment">     * This function will load the default categories ontology.
</span><a href="#3073" id="3073" class="l"> 3073: </a><span class="php-comment">     *
</span><a href="#3074" id="3074" class="l"> 3074: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#3075" id="3075" class="l"> 3075: </a><span class="php-comment">     * created terms.
</span><a href="#3076" id="3076" class="l"> 3076: </a><span class="php-comment">     *
</span><a href="#3077" id="3077" class="l"> 3077: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#3078" id="3078" class="l"> 3078: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#3079" id="3079" class="l"> 3079: </a><span class="php-comment">     *
</span><a href="#3080" id="3080" class="l"> 3080: </a><span class="php-comment">     * @access protected
</span><a href="#3081" id="3081" class="l"> 3081: </a><span class="php-comment">     */</span>
<a href="#3082" id="3082" class="l"> 3082: </a>    <span class="php-keyword1">function</span> LoadDefaultCategories( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#3083" id="3083" class="l"> 3083: </a>    {
<a href="#3084" id="3084" class="l"> 3084: </a>        <span class="php-comment">//</span>
<a href="#3085" id="3085" class="l"> 3085: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#3086" id="3086" class="l"> 3086: </a>        <span class="php-comment">//</span>
<a href="#3087" id="3087" class="l"> 3087: </a>        <span class="php-var">$nodes</span> = <span class="php-keyword1">Array</span>();
<a href="#3088" id="3088" class="l"> 3088: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#3089" id="3089" class="l"> 3089: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#3090" id="3090" class="l"> 3090: </a>        
<a href="#3091" id="3091" class="l"> 3091: </a>        <span class="php-comment">//</span>
<a href="#3092" id="3092" class="l"> 3092: </a>        <span class="php-comment">// Inform.</span>
<a href="#3093" id="3093" class="l"> 3093: </a>        <span class="php-comment">//</span>
<a href="#3094" id="3094" class="l"> 3094: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3095" id="3095" class="l"> 3095: </a>        {
<a href="#3096" id="3096" class="l"> 3096: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3097" id="3097" class="l"> 3097: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#3098" id="3098" class="l"> 3098: </a>        }
<a href="#3099" id="3099" class="l"> 3099: </a>        
<a href="#3100" id="3100" class="l"> 3100: </a>        <span class="php-comment">//</span>
<a href="#3101" id="3101" class="l"> 3101: </a>        <span class="php-comment">// ENUM-OF.</span>
<a href="#3102" id="3102" class="l"> 3102: </a>        <span class="php-comment">//</span>
<a href="#3103" id="3103" class="l"> 3103: </a>        <span class="php-var">$enum_of</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#3104" id="3104" class="l"> 3104: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_ENUM_OF ) );
<a href="#3105" id="3105" class="l"> 3105: </a>        
<a href="#3106" id="3106" class="l"> 3106: </a>        <span class="php-comment">//</span>
<a href="#3107" id="3107" class="l"> 3107: </a>        <span class="php-comment">// Get default namespace.</span>
<a href="#3108" id="3108" class="l"> 3108: </a>        <span class="php-comment">//</span>
<a href="#3109" id="3109" class="l"> 3109: </a>        <span class="php-var">$ns</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#3110" id="3110" class="l"> 3110: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( (string) <span class="php-var">$ns</span> ) + <span class="php-num">1</span>;
<a href="#3111" id="3111" class="l"> 3111: </a>        
<a href="#3112" id="3112" class="l"> 3112: </a>        <span class="php-comment">//</span>
<a href="#3113" id="3113" class="l"> 3113: </a>        <span class="php-comment">// Handle kDEF_CATEGORY term.</span>
<a href="#3114" id="3114" class="l"> 3114: </a>        <span class="php-comment">//</span>
<a href="#3115" id="3115" class="l"> 3115: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#3116" id="3116" class="l"> 3116: </a>                                   COntologyTerm::HashIndex( kDEF_CATEGORY ) );
<a href="#3117" id="3117" class="l"> 3117: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3118" id="3118" class="l"> 3118: </a>        {
<a href="#3119" id="3119" class="l"> 3119: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#3120" id="3120" class="l"> 3120: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( kDEF_CATEGORY, <span class="php-var">$len</span> ) );
<a href="#3121" id="3121" class="l"> 3121: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#3122" id="3122" class="l"> 3122: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Categories'</span>, kDEFAULT_LANGUAGE );
<a href="#3123" id="3123" class="l"> 3123: </a>            <span class="php-var">$term</span>-&gt;Definition( <span class="php-quote">'Default categories.'</span>, kDEFAULT_LANGUAGE );
<a href="#3124" id="3124" class="l"> 3124: </a>            <span class="php-var">$term</span>-&gt;Synonym( kDEF_CATEGORY, kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#3125" id="3125" class="l"> 3125: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3126" id="3126" class="l"> 3126: </a>        }
<a href="#3127" id="3127" class="l"> 3127: </a>        <span class="php-comment">//</span>
<a href="#3128" id="3128" class="l"> 3128: </a>        <span class="php-comment">// Handle node.</span>
<a href="#3129" id="3129" class="l"> 3129: </a>        <span class="php-comment">//</span>
<a href="#3130" id="3130" class="l"> 3130: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3131" id="3131" class="l"> 3131: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3132" id="3132" class="l"> 3132: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_ROOT, <span class="php-keyword1">TRUE</span> );
<a href="#3133" id="3133" class="l"> 3133: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#3134" id="3134" class="l"> 3134: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#3135" id="3135" class="l"> 3135: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3136" id="3136" class="l"> 3136: </a>        <span class="php-comment">//</span>
<a href="#3137" id="3137" class="l"> 3137: </a>        <span class="php-comment">// Save node.</span>
<a href="#3138" id="3138" class="l"> 3138: </a>        <span class="php-comment">//</span>
<a href="#3139" id="3139" class="l"> 3139: </a>        <span class="php-var">$nodes</span>[ kDEF_CATEGORY ] = <span class="php-var">$node</span>;
<a href="#3140" id="3140" class="l"> 3140: </a>        <span class="php-comment">//</span>
<a href="#3141" id="3141" class="l"> 3141: </a>        <span class="php-comment">// Display.</span>
<a href="#3142" id="3142" class="l"> 3142: </a>        <span class="php-comment">//</span>
<a href="#3143" id="3143" class="l"> 3143: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3144" id="3144" class="l"> 3144: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kDEF_CATEGORY) &quot;</span>
<a href="#3145" id="3145" class="l"> 3145: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#3146" id="3146" class="l"> 3146: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#3147" id="3147" class="l"> 3147: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3148" id="3148" class="l"> 3148: </a>        
<a href="#3149" id="3149" class="l"> 3149: </a>        <span class="php-comment">//</span>
<a href="#3150" id="3150" class="l"> 3150: </a>        <span class="php-comment">// Change namespace.</span>
<a href="#3151" id="3151" class="l"> 3151: </a>        <span class="php-comment">//</span>
<a href="#3152" id="3152" class="l"> 3152: </a>        <span class="php-var">$ns</span> = <span class="php-var">$term</span>;
<a href="#3153" id="3153" class="l"> 3153: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( (string) <span class="php-var">$ns</span> ) + <span class="php-num">1</span>;
<a href="#3154" id="3154" class="l"> 3154: </a>        
<a href="#3155" id="3155" class="l"> 3155: </a>        <span class="php-comment">//</span>
<a href="#3156" id="3156" class="l"> 3156: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#3157" id="3157" class="l"> 3157: </a>        <span class="php-comment">//</span>
<a href="#3158" id="3158" class="l"> 3158: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#3159" id="3159" class="l"> 3159: </a>        (
<a href="#3160" id="3160" class="l"> 3160: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kCATEGORY_PASSPORT,
<a href="#3161" id="3161" class="l"> 3161: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kCATEGORY_PASSPORT'</span>,
<a href="#3162" id="3162" class="l"> 3162: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Passport'</span>,
<a href="#3163" id="3163" class="l"> 3163: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Passport category, it is a generalised category comprising '</span>
<a href="#3164" id="3164" class="l"> 3164: </a>                           .<span class="php-quote">'all descriptors related to germplasm passport datasets.'</span> ),
<a href="#3165" id="3165" class="l"> 3165: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kCATEGORY_CHAR,
<a href="#3166" id="3166" class="l"> 3166: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kCATEGORY_CHAR'</span>,
<a href="#3167" id="3167" class="l"> 3167: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Characterisation'</span>,
<a href="#3168" id="3168" class="l"> 3168: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Characterisation category, it is a generalised category '</span>
<a href="#3169" id="3169" class="l"> 3169: </a>                           .<span class="php-quote">'comprising all descriptors related to germplasm '</span>
<a href="#3170" id="3170" class="l"> 3170: </a>                           .<span class="php-quote">'characterisation datasets.'</span> ),
<a href="#3171" id="3171" class="l"> 3171: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kCATEGORY_EVAL,
<a href="#3172" id="3172" class="l"> 3172: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kCATEGORY_EVAL'</span>,
<a href="#3173" id="3173" class="l"> 3173: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Evaluation'</span>,
<a href="#3174" id="3174" class="l"> 3174: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Evaluation category, it is a generalised category '</span>
<a href="#3175" id="3175" class="l"> 3175: </a>                           .<span class="php-quote">'comprising all descriptors related to germplasm evaluation '</span>
<a href="#3176" id="3176" class="l"> 3176: </a>                           .<span class="php-quote">'trial datasets.'</span> ),
<a href="#3177" id="3177" class="l"> 3177: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kCATEGORY_ADMIN,
<a href="#3178" id="3178" class="l"> 3178: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kCATEGORY_ADMIN'</span>,
<a href="#3179" id="3179" class="l"> 3179: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Administrative units'</span>,
<a href="#3180" id="3180" class="l"> 3180: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Administrative units category, it is a generalised '</span>
<a href="#3181" id="3181" class="l"> 3181: </a>                           .<span class="php-quote">'category comprising all descriptors related to '</span>
<a href="#3182" id="3182" class="l"> 3182: </a>                           .<span class="php-quote">'administrative units.'</span> ),
<a href="#3183" id="3183" class="l"> 3183: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kCATEGORY_GEO,
<a href="#3184" id="3184" class="l"> 3184: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kCATEGORY_GEO'</span>,
<a href="#3185" id="3185" class="l"> 3185: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Geographic units'</span>,
<a href="#3186" id="3186" class="l"> 3186: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Geographic units category, it is a generalised category '</span>
<a href="#3187" id="3187" class="l"> 3187: </a>                           .<span class="php-quote">'comprising all descriptors related to geographic units.'</span> ),
<a href="#3188" id="3188" class="l"> 3188: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kCATEGORY_EPITHET,
<a href="#3189" id="3189" class="l"> 3189: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kCATEGORY_EPITHET'</span>,
<a href="#3190" id="3190" class="l"> 3190: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Epithet'</span>,
<a href="#3191" id="3191" class="l"> 3191: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Epithet category, it is a generalised category comprising all '</span>
<a href="#3192" id="3192" class="l"> 3192: </a>                           .<span class="php-quote">'descriptors related to epithets.'</span> ),
<a href="#3193" id="3193" class="l"> 3193: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; kCATEGORY_AUTH,
<a href="#3194" id="3194" class="l"> 3194: </a>                   <span class="php-quote">'syn'</span> =&gt; <span class="php-quote">'kCATEGORY_AUTH'</span>,
<a href="#3195" id="3195" class="l"> 3195: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Authority'</span>,
<a href="#3196" id="3196" class="l"> 3196: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Authority category, it is a generalised category comprising '</span>
<a href="#3197" id="3197" class="l"> 3197: </a>                           .<span class="php-quote">'all descriptors related to authorities.'</span> )
<a href="#3198" id="3198" class="l"> 3198: </a>        );
<a href="#3199" id="3199" class="l"> 3199: </a>        
<a href="#3200" id="3200" class="l"> 3200: </a>        <span class="php-comment">//</span>
<a href="#3201" id="3201" class="l"> 3201: </a>        <span class="php-comment">// Load data.</span>
<a href="#3202" id="3202" class="l"> 3202: </a>        <span class="php-comment">//</span>
<a href="#3203" id="3203" class="l"> 3203: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#3204" id="3204" class="l"> 3204: </a>        {
<a href="#3205" id="3205" class="l"> 3205: </a>            <span class="php-comment">//</span>
<a href="#3206" id="3206" class="l"> 3206: </a>            <span class="php-comment">// Handle term.</span>
<a href="#3207" id="3207" class="l"> 3207: </a>            <span class="php-comment">//</span>
<a href="#3208" id="3208" class="l"> 3208: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#3209" id="3209" class="l"> 3209: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#3210" id="3210" class="l"> 3210: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3211" id="3211" class="l"> 3211: </a>            {
<a href="#3212" id="3212" class="l"> 3212: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#3213" id="3213" class="l"> 3213: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ], <span class="php-var">$len</span> ) );
<a href="#3214" id="3214" class="l"> 3214: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#3215" id="3215" class="l"> 3215: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#3216" id="3216" class="l"> 3216: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#3217" id="3217" class="l"> 3217: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#3218" id="3218" class="l"> 3218: </a>                <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#3219" id="3219" class="l"> 3219: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3220" id="3220" class="l"> 3220: </a>            }
<a href="#3221" id="3221" class="l"> 3221: </a>            <span class="php-comment">//</span>
<a href="#3222" id="3222" class="l"> 3222: </a>            <span class="php-comment">// Handle node.</span>
<a href="#3223" id="3223" class="l"> 3223: </a>            <span class="php-comment">//</span>
<a href="#3224" id="3224" class="l"> 3224: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3225" id="3225" class="l"> 3225: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3226" id="3226" class="l"> 3226: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#3227" id="3227" class="l"> 3227: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM );
<a href="#3228" id="3228" class="l"> 3228: </a>            <span class="php-var">$node</span>-&gt;Domain( <span class="php-var">$ns</span>, <span class="php-keyword1">TRUE</span> );
<a href="#3229" id="3229" class="l"> 3229: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3230" id="3230" class="l"> 3230: </a>            <span class="php-comment">//</span>
<a href="#3231" id="3231" class="l"> 3231: </a>            <span class="php-comment">// Save nodes.</span>
<a href="#3232" id="3232" class="l"> 3232: </a>            <span class="php-comment">//</span>
<a href="#3233" id="3233" class="l"> 3233: </a>            <span class="php-var">$nodes</span>[ <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ] = <span class="php-var">$node</span>;
<a href="#3234" id="3234" class="l"> 3234: </a>            <span class="php-comment">//</span>
<a href="#3235" id="3235" class="l"> 3235: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#3236" id="3236" class="l"> 3236: </a>            <span class="php-comment">//</span>
<a href="#3237" id="3237" class="l"> 3237: </a>            <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$nodes</span>[ kDEF_CATEGORY ] );
<a href="#3238" id="3238" class="l"> 3238: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3239" id="3239" class="l"> 3239: </a>            <span class="php-comment">//</span>
<a href="#3240" id="3240" class="l"> 3240: </a>            <span class="php-comment">// Display.</span>
<a href="#3241" id="3241" class="l"> 3241: </a>            <span class="php-comment">//</span>
<a href="#3242" id="3242" class="l"> 3242: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3243" id="3243" class="l"> 3243: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (&quot;</span>.<span class="php-var">$component</span>[ <span class="php-quote">'syn'</span> ].<span class="php-quote">&quot;) &quot;</span>
<a href="#3244" id="3244" class="l"> 3244: </a>                     .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#3245" id="3245" class="l"> 3245: </a>                     .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#3246" id="3246" class="l"> 3246: </a>                     .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3247" id="3247" class="l"> 3247: </a>        }
<a href="#3248" id="3248" class="l"> 3248: </a>        
<a href="#3249" id="3249" class="l"> 3249: </a>    } <span class="php-comment">// LoadDefaultCategories.</span>
<a href="#3250" id="3250" class="l"> 3250: </a>
<a href="#3251" id="3251" class="l"> 3251: </a>     
<a href="#3252" id="3252" class="l"> 3252: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#3253" id="3253" class="l"> 3253: </a><span class="php-comment">     *  LoadCropGroupDescriptors                                                            *
</span><a href="#3254" id="3254" class="l"> 3254: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#3255" id="3255" class="l"> 3255: </a>
<a href="#3256" id="3256" class="l"> 3256: </a>    <span class="php-comment">/**
</span><a href="#3257" id="3257" class="l"> 3257: </a><span class="php-comment">     * Load crop groups and codes.
</span><a href="#3258" id="3258" class="l"> 3258: </a><span class="php-comment">     *
</span><a href="#3259" id="3259" class="l"> 3259: </a><span class="php-comment">     * This function will load the default Annex 1 crop groups and codes.
</span><a href="#3260" id="3260" class="l"> 3260: </a><span class="php-comment">     *
</span><a href="#3261" id="3261" class="l"> 3261: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#3262" id="3262" class="l"> 3262: </a><span class="php-comment">     * created terms.
</span><a href="#3263" id="3263" class="l"> 3263: </a><span class="php-comment">     *
</span><a href="#3264" id="3264" class="l"> 3264: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#3265" id="3265" class="l"> 3265: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#3266" id="3266" class="l"> 3266: </a><span class="php-comment">     *
</span><a href="#3267" id="3267" class="l"> 3267: </a><span class="php-comment">     * @access protected
</span><a href="#3268" id="3268" class="l"> 3268: </a><span class="php-comment">     */</span>
<a href="#3269" id="3269" class="l"> 3269: </a>    <span class="php-keyword1">function</span> LoadCropGroupDescriptors( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#3270" id="3270" class="l"> 3270: </a>    {
<a href="#3271" id="3271" class="l"> 3271: </a>        <span class="php-comment">//</span>
<a href="#3272" id="3272" class="l"> 3272: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#3273" id="3273" class="l"> 3273: </a>        <span class="php-comment">//</span>
<a href="#3274" id="3274" class="l"> 3274: </a>        <span class="php-var">$nodes</span> = <span class="php-keyword1">Array</span>();
<a href="#3275" id="3275" class="l"> 3275: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#3276" id="3276" class="l"> 3276: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#3277" id="3277" class="l"> 3277: </a>        
<a href="#3278" id="3278" class="l"> 3278: </a>        <span class="php-comment">//</span>
<a href="#3279" id="3279" class="l"> 3279: </a>        <span class="php-comment">// Open MySQL connection.</span>
<a href="#3280" id="3280" class="l"> 3280: </a>        <span class="php-comment">//</span>
<a href="#3281" id="3281" class="l"> 3281: </a>        <span class="php-var">$mysql</span> = NewADOConnection( DEFAULT_ANCILLARY_HOST );
<a href="#3282" id="3282" class="l"> 3282: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$mysql</span> )
<a href="#3283" id="3283" class="l"> 3283: </a>            <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> Exception( <span class="php-quote">'Unable to connect to MySQL.'</span> );               <span class="php-comment">// !@! ==&gt;</span>
<a href="#3284" id="3284" class="l"> 3284: </a>        <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-quote">&quot;SET CHARACTER SET 'utf8'&quot;</span> );
<a href="#3285" id="3285" class="l"> 3285: </a>        <span class="php-var">$mysql</span>-&gt;setFetchMode( ADODB_FETCH_ASSOC );
<a href="#3286" id="3286" class="l"> 3286: </a>        
<a href="#3287" id="3287" class="l"> 3287: </a>        <span class="php-comment">//</span>
<a href="#3288" id="3288" class="l"> 3288: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#3289" id="3289" class="l"> 3289: </a>        <span class="php-comment">//</span>
<a href="#3290" id="3290" class="l"> 3290: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#3291" id="3291" class="l"> 3291: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#3292" id="3292" class="l"> 3292: </a>        
<a href="#3293" id="3293" class="l"> 3293: </a>        <span class="php-comment">//</span>
<a href="#3294" id="3294" class="l"> 3294: </a>        <span class="php-comment">// Inform.</span>
<a href="#3295" id="3295" class="l"> 3295: </a>        <span class="php-comment">//</span>
<a href="#3296" id="3296" class="l"> 3296: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3297" id="3297" class="l"> 3297: </a>        {
<a href="#3298" id="3298" class="l"> 3298: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3299" id="3299" class="l"> 3299: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#3300" id="3300" class="l"> 3300: </a>        }
<a href="#3301" id="3301" class="l"> 3301: </a>        
<a href="#3302" id="3302" class="l"> 3302: </a>        <span class="php-comment">//</span>
<a href="#3303" id="3303" class="l"> 3303: </a>        <span class="php-comment">// IS-A.</span>
<a href="#3304" id="3304" class="l"> 3304: </a>        <span class="php-comment">//</span>
<a href="#3305" id="3305" class="l"> 3305: </a>        <span class="php-var">$is_a</span>
<a href="#3306" id="3306" class="l"> 3306: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#3307" id="3307" class="l"> 3307: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_IS_A ) );
<a href="#3308" id="3308" class="l"> 3308: </a>        
<a href="#3309" id="3309" class="l"> 3309: </a>        <span class="php-comment">//</span>
<a href="#3310" id="3310" class="l"> 3310: </a>        <span class="php-comment">// ENUM-OF.</span>
<a href="#3311" id="3311" class="l"> 3311: </a>        <span class="php-comment">//</span>
<a href="#3312" id="3312" class="l"> 3312: </a>        <span class="php-var">$enum_of</span>
<a href="#3313" id="3313" class="l"> 3313: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#3314" id="3314" class="l"> 3314: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_ENUM_OF ) );
<a href="#3315" id="3315" class="l"> 3315: </a>        
<a href="#3316" id="3316" class="l"> 3316: </a>        <span class="php-comment">//</span>
<a href="#3317" id="3317" class="l"> 3317: </a>        <span class="php-comment">// PART-OF.</span>
<a href="#3318" id="3318" class="l"> 3318: </a>        <span class="php-comment">//</span>
<a href="#3319" id="3319" class="l"> 3319: </a>        <span class="php-var">$part_of</span>
<a href="#3320" id="3320" class="l"> 3320: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#3321" id="3321" class="l"> 3321: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_PART_OF ) );
<a href="#3322" id="3322" class="l"> 3322: </a>        
<a href="#3323" id="3323" class="l"> 3323: </a>        <span class="php-comment">//</span>
<a href="#3324" id="3324" class="l"> 3324: </a>        <span class="php-comment">// International Treaty on Plant Genetic Resources for Food and Agriculture.</span>
<a href="#3325" id="3325" class="l"> 3325: </a>        <span class="php-comment">//</span>
<a href="#3326" id="3326" class="l"> 3326: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#3327" id="3327" class="l"> 3327: </a>                                   COntologyTerm::HashIndex( <span class="php-quote">'ITPGRFA'</span> ) );
<a href="#3328" id="3328" class="l"> 3328: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3329" id="3329" class="l"> 3329: </a>        {
<a href="#3330" id="3330" class="l"> 3330: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ITPGRFA'</span> );
<a href="#3331" id="3331" class="l"> 3331: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#3332" id="3332" class="l"> 3332: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#3333" id="3333" class="l"> 3333: </a>            ( <span class="php-quote">'International Treaty on Plant Genetic Resources descriptor'</span>,
<a href="#3334" id="3334" class="l"> 3334: </a>              kDEFAULT_LANGUAGE );
<a href="#3335" id="3335" class="l"> 3335: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#3336" id="3336" class="l"> 3336: </a>            ( <span class="php-quote">'International Treaty on Plant Genetic Resources for Food and Agriculture '</span>
<a href="#3337" id="3337" class="l"> 3337: </a>             .<span class="php-quote">'descriptor.'</span>,
<a href="#3338" id="3338" class="l"> 3338: </a>              kDEFAULT_LANGUAGE );
<a href="#3339" id="3339" class="l"> 3339: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3340" id="3340" class="l"> 3340: </a>        }
<a href="#3341" id="3341" class="l"> 3341: </a>        <span class="php-comment">//</span>
<a href="#3342" id="3342" class="l"> 3342: </a>        <span class="php-comment">// Handle node.</span>
<a href="#3343" id="3343" class="l"> 3343: </a>        <span class="php-comment">//</span>
<a href="#3344" id="3344" class="l"> 3344: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3345" id="3345" class="l"> 3345: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3346" id="3346" class="l"> 3346: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_ROOT, <span class="php-keyword1">TRUE</span> );
<a href="#3347" id="3347" class="l"> 3347: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3348" id="3348" class="l"> 3348: </a>        <span class="php-comment">//</span>
<a href="#3349" id="3349" class="l"> 3349: </a>        <span class="php-comment">// Save node.</span>
<a href="#3350" id="3350" class="l"> 3350: </a>        <span class="php-comment">//</span>
<a href="#3351" id="3351" class="l"> 3351: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ITPGRFA'</span> ] = <span class="php-var">$node</span>;
<a href="#3352" id="3352" class="l"> 3352: </a>        <span class="php-comment">//</span>
<a href="#3353" id="3353" class="l"> 3353: </a>        <span class="php-comment">// Display.</span>
<a href="#3354" id="3354" class="l"> 3354: </a>        <span class="php-comment">//</span>
<a href="#3355" id="3355" class="l"> 3355: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3356" id="3356" class="l"> 3356: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#3357" id="3357" class="l"> 3357: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#3358" id="3358" class="l"> 3358: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#3359" id="3359" class="l"> 3359: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3360" id="3360" class="l"> 3360: </a>        
<a href="#3361" id="3361" class="l"> 3361: </a>        <span class="php-comment">//</span>
<a href="#3362" id="3362" class="l"> 3362: </a>        <span class="php-comment">// GROUP - Crop group codes.</span>
<a href="#3363" id="3363" class="l"> 3363: </a>        <span class="php-comment">//</span>
<a href="#3364" id="3364" class="l"> 3364: </a>        <span class="php-var">$term</span>
<a href="#3365" id="3365" class="l"> 3365: </a>            = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#3366" id="3366" class="l"> 3366: </a>                    <span class="php-var">$theContainer</span>, 
<a href="#3367" id="3367" class="l"> 3367: </a>                    COntologyTerm::HashIndex(
<a href="#3368" id="3368" class="l"> 3368: </a>                        <span class="php-quote">'ITPGRFA'</span>.kTOKEN_NAMESPACE_SEPARATOR.<span class="php-quote">'ANNEX1-CROP-GROUP'</span> ) );
<a href="#3369" id="3369" class="l"> 3369: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3370" id="3370" class="l"> 3370: </a>        {
<a href="#3371" id="3371" class="l"> 3371: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ITPGRFA'</span> ]-&gt;Term() );
<a href="#3372" id="3372" class="l"> 3372: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ANNEX1-CROP-GROUP'</span> );
<a href="#3373" id="3373" class="l"> 3373: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#3374" id="3374" class="l"> 3374: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[0-9]{3}'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#3375" id="3375" class="l"> 3375: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#3376" id="3376" class="l"> 3376: </a>            ( <span class="php-quote">'Crop group code'</span>,
<a href="#3377" id="3377" class="l"> 3377: </a>              kDEFAULT_LANGUAGE );
<a href="#3378" id="3378" class="l"> 3378: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#3379" id="3379" class="l"> 3379: </a>            ( <span class="php-quote">'Annex 1 crop group code.'</span>,
<a href="#3380" id="3380" class="l"> 3380: </a>              kDEFAULT_LANGUAGE );
<a href="#3381" id="3381" class="l"> 3381: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3382" id="3382" class="l"> 3382: </a>        }
<a href="#3383" id="3383" class="l"> 3383: </a>        <span class="php-comment">//</span>
<a href="#3384" id="3384" class="l"> 3384: </a>        <span class="php-comment">// Handle node.</span>
<a href="#3385" id="3385" class="l"> 3385: </a>        <span class="php-comment">//</span>
<a href="#3386" id="3386" class="l"> 3386: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3387" id="3387" class="l"> 3387: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3388" id="3388" class="l"> 3388: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#3389" id="3389" class="l"> 3389: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#3390" id="3390" class="l"> 3390: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3391" id="3391" class="l"> 3391: </a>        <span class="php-comment">//</span>
<a href="#3392" id="3392" class="l"> 3392: </a>        <span class="php-comment">// Save node.</span>
<a href="#3393" id="3393" class="l"> 3393: </a>        <span class="php-comment">//</span>
<a href="#3394" id="3394" class="l"> 3394: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP-GROUP'</span> ] = <span class="php-var">$node</span>;
<a href="#3395" id="3395" class="l"> 3395: </a>        <span class="php-comment">//</span>
<a href="#3396" id="3396" class="l"> 3396: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#3397" id="3397" class="l"> 3397: </a>        <span class="php-comment">//</span>
<a href="#3398" id="3398" class="l"> 3398: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ITPGRFA'</span> ] );
<a href="#3399" id="3399" class="l"> 3399: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3400" id="3400" class="l"> 3400: </a>        <span class="php-comment">//</span>
<a href="#3401" id="3401" class="l"> 3401: </a>        <span class="php-comment">// Display.</span>
<a href="#3402" id="3402" class="l"> 3402: </a>        <span class="php-comment">//</span>
<a href="#3403" id="3403" class="l"> 3403: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3404" id="3404" class="l"> 3404: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#3405" id="3405" class="l"> 3405: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#3406" id="3406" class="l"> 3406: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#3407" id="3407" class="l"> 3407: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3408" id="3408" class="l"> 3408: </a>        
<a href="#3409" id="3409" class="l"> 3409: </a>        <span class="php-comment">//</span>
<a href="#3410" id="3410" class="l"> 3410: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#3411" id="3411" class="l"> 3411: </a>        <span class="php-comment">//</span>
<a href="#3412" id="3412" class="l"> 3412: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#3413" id="3413" class="l"> 3413: </a>        (
<a href="#3414" id="3414" class="l"> 3414: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'IncludedGenus'</span>,
<a href="#3415" id="3415" class="l"> 3415: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Included genera'</span>,
<a href="#3416" id="3416" class="l"> 3416: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Genera included in crop definition.'</span> ),
<a href="#3417" id="3417" class="l"> 3417: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'IncludedSpecies'</span>,
<a href="#3418" id="3418" class="l"> 3418: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Included species'</span>,
<a href="#3419" id="3419" class="l"> 3419: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Species included in crop definition.'</span> ),
<a href="#3420" id="3420" class="l"> 3420: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'ExcludedSpecies'</span>,
<a href="#3421" id="3421" class="l"> 3421: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Excluded species'</span>,
<a href="#3422" id="3422" class="l"> 3422: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Species excluded in crop definition.'</span> )
<a href="#3423" id="3423" class="l"> 3423: </a>        );
<a href="#3424" id="3424" class="l"> 3424: </a>        
<a href="#3425" id="3425" class="l"> 3425: </a>        <span class="php-comment">//</span>
<a href="#3426" id="3426" class="l"> 3426: </a>        <span class="php-comment">// Load data.</span>
<a href="#3427" id="3427" class="l"> 3427: </a>        <span class="php-comment">//</span>
<a href="#3428" id="3428" class="l"> 3428: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#3429" id="3429" class="l"> 3429: </a>        {
<a href="#3430" id="3430" class="l"> 3430: </a>            <span class="php-comment">//</span>
<a href="#3431" id="3431" class="l"> 3431: </a>            <span class="php-comment">// Handle term.</span>
<a href="#3432" id="3432" class="l"> 3432: </a>            <span class="php-comment">//</span>
<a href="#3433" id="3433" class="l"> 3433: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#3434" id="3434" class="l"> 3434: </a>                                       COntologyTerm::HashIndex( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#3435" id="3435" class="l"> 3435: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3436" id="3436" class="l"> 3436: </a>            {
<a href="#3437" id="3437" class="l"> 3437: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ITPGRFA'</span> ]-&gt;Term() );
<a href="#3438" id="3438" class="l"> 3438: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#3439" id="3439" class="l"> 3439: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#3440" id="3440" class="l"> 3440: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#3441" id="3441" class="l"> 3441: </a>                <span class="php-var">$term</span>-&gt;Cardinality( kCARD_ANY );
<a href="#3442" id="3442" class="l"> 3442: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#3443" id="3443" class="l"> 3443: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#3444" id="3444" class="l"> 3444: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3445" id="3445" class="l"> 3445: </a>            }
<a href="#3446" id="3446" class="l"> 3446: </a>            
<a href="#3447" id="3447" class="l"> 3447: </a>            <span class="php-comment">//</span>
<a href="#3448" id="3448" class="l"> 3448: </a>            <span class="php-comment">// Display.</span>
<a href="#3449" id="3449" class="l"> 3449: </a>            <span class="php-comment">//</span>
<a href="#3450" id="3450" class="l"> 3450: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3451" id="3451" class="l"> 3451: </a>                <span class="php-keyword1">echo</span>( <span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#3452" id="3452" class="l"> 3452: </a>                     .<span class="php-quote">&quot; [</span><span class="php-var">$term</span><span class="php-quote">]\n&quot;</span> );
<a href="#3453" id="3453" class="l"> 3453: </a>        }
<a href="#3454" id="3454" class="l"> 3454: </a>
<a href="#3455" id="3455" class="l"> 3455: </a>        <span class="php-comment">//</span>
<a href="#3456" id="3456" class="l"> 3456: </a>        <span class="php-comment">// Load crop group codes.</span>
<a href="#3457" id="3457" class="l"> 3457: </a>        <span class="php-comment">//</span>
<a href="#3458" id="3458" class="l"> 3458: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#3459" id="3459" class="l"> 3459: </a><span class="php-quote">SELECT
</span><a href="#3460" id="3460" class="l"> 3460: </a><span class="php-quote">    `Code_Annex1_Groups`.`Code`,
</span><a href="#3461" id="3461" class="l"> 3461: </a><span class="php-quote">    `Code_Annex1_Groups`.`Label`
</span><a href="#3462" id="3462" class="l"> 3462: </a><span class="php-quote">FROM
</span><a href="#3463" id="3463" class="l"> 3463: </a><span class="php-quote">    `Code_Annex1_Groups`
</span><a href="#3464" id="3464" class="l"> 3464: </a><span class="php-quote">ORDER BY
</span><a href="#3465" id="3465" class="l"> 3465: </a><span class="php-quote">    `Code_Annex1_Groups`.`Code`
</span><a href="#3466" id="3466" class="l"> 3466: </a><span class="php-quote">EOT;
</span><a href="#3467" id="3467" class="l"> 3467: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#3468" id="3468" class="l"> 3468: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#3469" id="3469" class="l"> 3469: </a>        {
<a href="#3470" id="3470" class="l"> 3470: </a>            <span class="php-comment">//</span>
<a href="#3471" id="3471" class="l"> 3471: </a>            <span class="php-comment">// Create crop groups.</span>
<a href="#3472" id="3472" class="l"> 3472: </a>            <span class="php-comment">//</span>
<a href="#3473" id="3473" class="l"> 3473: </a>            <span class="php-var">$term</span>
<a href="#3474" id="3474" class="l"> 3474: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#3475" id="3475" class="l"> 3475: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#3476" id="3476" class="l"> 3476: </a>                        COntologyTerm::HashIndex(
<a href="#3477" id="3477" class="l"> 3477: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP-GROUP'</span> ]-&gt;Term()-&gt;GID()
<a href="#3478" id="3478" class="l"> 3478: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#3479" id="3479" class="l"> 3479: </a>                           .<span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ) );
<a href="#3480" id="3480" class="l"> 3480: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3481" id="3481" class="l"> 3481: </a>            {
<a href="#3482" id="3482" class="l"> 3482: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP-GROUP'</span> ]-&gt;Term() );
<a href="#3483" id="3483" class="l"> 3483: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] );
<a href="#3484" id="3484" class="l"> 3484: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#3485" id="3485" class="l"> 3485: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#3486" id="3486" class="l"> 3486: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Label'</span> ], kDEFAULT_LANGUAGE );
<a href="#3487" id="3487" class="l"> 3487: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3488" id="3488" class="l"> 3488: </a>            }
<a href="#3489" id="3489" class="l"> 3489: </a>            <span class="php-comment">//</span>
<a href="#3490" id="3490" class="l"> 3490: </a>            <span class="php-comment">// Handle node.</span>
<a href="#3491" id="3491" class="l"> 3491: </a>            <span class="php-comment">//</span>
<a href="#3492" id="3492" class="l"> 3492: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3493" id="3493" class="l"> 3493: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3494" id="3494" class="l"> 3494: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#3495" id="3495" class="l"> 3495: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM );
<a href="#3496" id="3496" class="l"> 3496: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3497" id="3497" class="l"> 3497: </a>            <span class="php-comment">//</span>
<a href="#3498" id="3498" class="l"> 3498: </a>            <span class="php-comment">// Save node.</span>
<a href="#3499" id="3499" class="l"> 3499: </a>            <span class="php-comment">//</span>
<a href="#3500" id="3500" class="l"> 3500: </a>            <span class="php-var">$nodes</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ] = <span class="php-var">$node</span>;
<a href="#3501" id="3501" class="l"> 3501: </a>            <span class="php-comment">//</span>
<a href="#3502" id="3502" class="l"> 3502: </a>            <span class="php-comment">// Display.</span>
<a href="#3503" id="3503" class="l"> 3503: </a>            <span class="php-comment">//</span>
<a href="#3504" id="3504" class="l"> 3504: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3505" id="3505" class="l"> 3505: </a>                <span class="php-keyword1">echo</span>( <span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#3506" id="3506" class="l"> 3506: </a>                     .<span class="php-quote">&quot; [</span><span class="php-var">$term</span><span class="php-quote">] [&quot;</span>.<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;]\n&quot;</span> );
<a href="#3507" id="3507" class="l"> 3507: </a>        
<a href="#3508" id="3508" class="l"> 3508: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#3509" id="3509" class="l"> 3509: </a>        
<a href="#3510" id="3510" class="l"> 3510: </a>        <span class="php-comment">//</span>
<a href="#3511" id="3511" class="l"> 3511: </a>        <span class="php-comment">// Handle crop group hierarchy.</span>
<a href="#3512" id="3512" class="l"> 3512: </a>        <span class="php-comment">//</span>
<a href="#3513" id="3513" class="l"> 3513: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#3514" id="3514" class="l"> 3514: </a><span class="php-quote">SELECT
</span><a href="#3515" id="3515" class="l"> 3515: </a><span class="php-quote">    `Code_Annex1_Groups`.`Code`,
</span><a href="#3516" id="3516" class="l"> 3516: </a><span class="php-quote">    `Code_Annex1_Groups`.`Parent`,
</span><a href="#3517" id="3517" class="l"> 3517: </a><span class="php-quote">    `Code_Annex1_Groups`.`Label`
</span><a href="#3518" id="3518" class="l"> 3518: </a><span class="php-quote">FROM
</span><a href="#3519" id="3519" class="l"> 3519: </a><span class="php-quote">    `Code_Annex1_Groups`
</span><a href="#3520" id="3520" class="l"> 3520: </a><span class="php-quote">ORDER BY
</span><a href="#3521" id="3521" class="l"> 3521: </a><span class="php-quote">    `Code_Annex1_Groups`.`Parent`
</span><a href="#3522" id="3522" class="l"> 3522: </a><span class="php-quote">EOT;
</span><a href="#3523" id="3523" class="l"> 3523: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#3524" id="3524" class="l"> 3524: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#3525" id="3525" class="l"> 3525: </a>        {
<a href="#3526" id="3526" class="l"> 3526: </a>            <span class="php-comment">//</span>
<a href="#3527" id="3527" class="l"> 3527: </a>            <span class="php-comment">// Get parent and child terms.</span>
<a href="#3528" id="3528" class="l"> 3528: </a>            <span class="php-comment">//</span>
<a href="#3529" id="3529" class="l"> 3529: </a>            <span class="php-var">$child_term</span>
<a href="#3530" id="3530" class="l"> 3530: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#3531" id="3531" class="l"> 3531: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#3532" id="3532" class="l"> 3532: </a>                        COntologyTerm::HashIndex(
<a href="#3533" id="3533" class="l"> 3533: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP-GROUP'</span> ]-&gt;Term()-&gt;GID()
<a href="#3534" id="3534" class="l"> 3534: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#3535" id="3535" class="l"> 3535: </a>                           .<span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ) );
<a href="#3536" id="3536" class="l"> 3536: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#3537" id="3537" class="l"> 3537: </a>                <span class="php-var">$parent_term</span>
<a href="#3538" id="3538" class="l"> 3538: </a>                    = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#3539" id="3539" class="l"> 3539: </a>                            <span class="php-var">$theContainer</span>, 
<a href="#3540" id="3540" class="l"> 3540: </a>                            COntologyTerm::HashIndex(
<a href="#3541" id="3541" class="l"> 3541: </a>                                <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP-GROUP'</span> ]-&gt;Term()-&gt;GID()
<a href="#3542" id="3542" class="l"> 3542: </a>                               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#3543" id="3543" class="l"> 3543: </a>                               .<span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] ) );
<a href="#3544" id="3544" class="l"> 3544: </a>            <span class="php-keyword1">else</span>
<a href="#3545" id="3545" class="l"> 3545: </a>                <span class="php-var">$parent_term</span>
<a href="#3546" id="3546" class="l"> 3546: </a>                    = <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP-GROUP'</span> ]-&gt;Term();
<a href="#3547" id="3547" class="l"> 3547: </a>            
<a href="#3548" id="3548" class="l"> 3548: </a>            <span class="php-comment">//</span>
<a href="#3549" id="3549" class="l"> 3549: </a>            <span class="php-comment">// Get parent node.</span>
<a href="#3550" id="3550" class="l"> 3550: </a>            <span class="php-comment">//</span>
<a href="#3551" id="3551" class="l"> 3551: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#3552" id="3552" class="l"> 3552: </a>                <span class="php-var">$parent_node</span> = <span class="php-var">$nodes</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] ];
<a href="#3553" id="3553" class="l"> 3553: </a>            <span class="php-keyword1">else</span>
<a href="#3554" id="3554" class="l"> 3554: </a>                <span class="php-var">$parent_node</span> = <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP-GROUP'</span> ];
<a href="#3555" id="3555" class="l"> 3555: </a>            
<a href="#3556" id="3556" class="l"> 3556: </a>            <span class="php-comment">//</span>
<a href="#3557" id="3557" class="l"> 3557: </a>            <span class="php-comment">// Get child node.</span>
<a href="#3558" id="3558" class="l"> 3558: </a>            <span class="php-comment">//</span>
<a href="#3559" id="3559" class="l"> 3559: </a>            <span class="php-var">$child_node</span> = <span class="php-var">$nodes</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ];
<a href="#3560" id="3560" class="l"> 3560: </a>            
<a href="#3561" id="3561" class="l"> 3561: </a>            <span class="php-comment">//</span>
<a href="#3562" id="3562" class="l"> 3562: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#3563" id="3563" class="l"> 3563: </a>            <span class="php-comment">//</span>
<a href="#3564" id="3564" class="l"> 3564: </a>            <span class="php-var">$edge</span> = <span class="php-var">$child_node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent_node</span> );
<a href="#3565" id="3565" class="l"> 3565: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3566" id="3566" class="l"> 3566: </a>            
<a href="#3567" id="3567" class="l"> 3567: </a>            <span class="php-comment">//</span>
<a href="#3568" id="3568" class="l"> 3568: </a>            <span class="php-comment">// Display.</span>
<a href="#3569" id="3569" class="l"> 3569: </a>            <span class="php-comment">//</span>
<a href="#3570" id="3570" class="l"> 3570: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3571" id="3571" class="l"> 3571: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$child_term</span><span class="php-quote">] ==&gt; [</span><span class="php-var">$parent_term</span><span class="php-quote">]\n&quot;</span> );
<a href="#3572" id="3572" class="l"> 3572: </a>        
<a href="#3573" id="3573" class="l"> 3573: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#3574" id="3574" class="l"> 3574: </a>        
<a href="#3575" id="3575" class="l"> 3575: </a>        <span class="php-comment">//</span>
<a href="#3576" id="3576" class="l"> 3576: </a>        <span class="php-comment">// CROP - Crop codes.</span>
<a href="#3577" id="3577" class="l"> 3577: </a>        <span class="php-comment">//</span>
<a href="#3578" id="3578" class="l"> 3578: </a>        <span class="php-var">$term</span>
<a href="#3579" id="3579" class="l"> 3579: </a>            = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#3580" id="3580" class="l"> 3580: </a>                    <span class="php-var">$theContainer</span>, 
<a href="#3581" id="3581" class="l"> 3581: </a>                    COntologyTerm::HashIndex(
<a href="#3582" id="3582" class="l"> 3582: </a>                        <span class="php-quote">'ITPGRFA'</span>.kTOKEN_NAMESPACE_SEPARATOR.<span class="php-quote">'ANNEX1-CROP'</span> ) );
<a href="#3583" id="3583" class="l"> 3583: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3584" id="3584" class="l"> 3584: </a>        {
<a href="#3585" id="3585" class="l"> 3585: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ITPGRFA'</span> ]-&gt;Term() );
<a href="#3586" id="3586" class="l"> 3586: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ANNEX1-CROP'</span> );
<a href="#3587" id="3587" class="l"> 3587: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#3588" id="3588" class="l"> 3588: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[0-9]{1,2}'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#3589" id="3589" class="l"> 3589: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#3590" id="3590" class="l"> 3590: </a>            ( <span class="php-quote">'Crop code'</span>,
<a href="#3591" id="3591" class="l"> 3591: </a>              kDEFAULT_LANGUAGE );
<a href="#3592" id="3592" class="l"> 3592: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#3593" id="3593" class="l"> 3593: </a>            ( <span class="php-quote">'Annex 1 crop code.'</span>,
<a href="#3594" id="3594" class="l"> 3594: </a>              kDEFAULT_LANGUAGE );
<a href="#3595" id="3595" class="l"> 3595: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3596" id="3596" class="l"> 3596: </a>        }
<a href="#3597" id="3597" class="l"> 3597: </a>        <span class="php-comment">//</span>
<a href="#3598" id="3598" class="l"> 3598: </a>        <span class="php-comment">// Handle node.</span>
<a href="#3599" id="3599" class="l"> 3599: </a>        <span class="php-comment">//</span>
<a href="#3600" id="3600" class="l"> 3600: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3601" id="3601" class="l"> 3601: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3602" id="3602" class="l"> 3602: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#3603" id="3603" class="l"> 3603: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#3604" id="3604" class="l"> 3604: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3605" id="3605" class="l"> 3605: </a>        <span class="php-comment">//</span>
<a href="#3606" id="3606" class="l"> 3606: </a>        <span class="php-comment">// Save node.</span>
<a href="#3607" id="3607" class="l"> 3607: </a>        <span class="php-comment">//</span>
<a href="#3608" id="3608" class="l"> 3608: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP'</span> ] = <span class="php-var">$node</span>;
<a href="#3609" id="3609" class="l"> 3609: </a>        <span class="php-comment">//</span>
<a href="#3610" id="3610" class="l"> 3610: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#3611" id="3611" class="l"> 3611: </a>        <span class="php-comment">//</span>
<a href="#3612" id="3612" class="l"> 3612: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ITPGRFA'</span> ] );
<a href="#3613" id="3613" class="l"> 3613: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3614" id="3614" class="l"> 3614: </a>        <span class="php-comment">//</span>
<a href="#3615" id="3615" class="l"> 3615: </a>        <span class="php-comment">// Display.</span>
<a href="#3616" id="3616" class="l"> 3616: </a>        <span class="php-comment">//</span>
<a href="#3617" id="3617" class="l"> 3617: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3618" id="3618" class="l"> 3618: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#3619" id="3619" class="l"> 3619: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#3620" id="3620" class="l"> 3620: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#3621" id="3621" class="l"> 3621: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3622" id="3622" class="l"> 3622: </a>        
<a href="#3623" id="3623" class="l"> 3623: </a>        <span class="php-comment">//</span>
<a href="#3624" id="3624" class="l"> 3624: </a>        <span class="php-comment">// Load crop codes.</span>
<a href="#3625" id="3625" class="l"> 3625: </a>        <span class="php-comment">//</span>
<a href="#3626" id="3626" class="l"> 3626: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#3627" id="3627" class="l"> 3627: </a><span class="php-quote">SELECT
</span><a href="#3628" id="3628" class="l"> 3628: </a><span class="php-quote">    `Code_Annex1_Crops`.`Code`,
</span><a href="#3629" id="3629" class="l"> 3629: </a><span class="php-quote">    `Code_Annex1_Crops`.`Label`,
</span><a href="#3630" id="3630" class="l"> 3630: </a><span class="php-quote">    `Code_Annex1_Crops`.`Group`,
</span><a href="#3631" id="3631" class="l"> 3631: </a><span class="php-quote">    `Code_Annex1_Species`.`Genus`,
</span><a href="#3632" id="3632" class="l"> 3632: </a><span class="php-quote">    `Code_Annex1_Species`.`Species`,
</span><a href="#3633" id="3633" class="l"> 3633: </a><span class="php-quote">    `Code_Annex1_Species`.`ExcludedSpecies`,
</span><a href="#3634" id="3634" class="l"> 3634: </a><span class="php-quote">    `Code_Annex1_Species`.`Observations`,
</span><a href="#3635" id="3635" class="l"> 3635: </a><span class="php-quote">    `Code_Annex1_Species`.`Subgroup`
</span><a href="#3636" id="3636" class="l"> 3636: </a><span class="php-quote">FROM
</span><a href="#3637" id="3637" class="l"> 3637: </a><span class="php-quote">    `Code_Annex1_Crops`
</span><a href="#3638" id="3638" class="l"> 3638: </a><span class="php-quote">        LEFT JOIN `Code_Annex1_Species`
</span><a href="#3639" id="3639" class="l"> 3639: </a><span class="php-quote">            ON( `Code_Annex1_Species`.`Code` = `Code_Annex1_Crops`.`Code` )
</span><a href="#3640" id="3640" class="l"> 3640: </a><span class="php-quote">ORDER BY
</span><a href="#3641" id="3641" class="l"> 3641: </a><span class="php-quote">    `Code_Annex1_Crops`.`Code`
</span><a href="#3642" id="3642" class="l"> 3642: </a><span class="php-quote">EOT;
</span><a href="#3643" id="3643" class="l"> 3643: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#3644" id="3644" class="l"> 3644: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#3645" id="3645" class="l"> 3645: </a>        {
<a href="#3646" id="3646" class="l"> 3646: </a>            <span class="php-comment">//</span>
<a href="#3647" id="3647" class="l"> 3647: </a>            <span class="php-comment">// Create crop term.</span>
<a href="#3648" id="3648" class="l"> 3648: </a>            <span class="php-comment">//</span>
<a href="#3649" id="3649" class="l"> 3649: </a>            <span class="php-var">$term</span>
<a href="#3650" id="3650" class="l"> 3650: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#3651" id="3651" class="l"> 3651: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#3652" id="3652" class="l"> 3652: </a>                        COntologyTerm::HashIndex(
<a href="#3653" id="3653" class="l"> 3653: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP'</span> ]-&gt;Term()-&gt;GID()
<a href="#3654" id="3654" class="l"> 3654: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#3655" id="3655" class="l"> 3655: </a>                           .<span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ) );
<a href="#3656" id="3656" class="l"> 3656: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3657" id="3657" class="l"> 3657: </a>            {
<a href="#3658" id="3658" class="l"> 3658: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP'</span> ]-&gt;Term() );
<a href="#3659" id="3659" class="l"> 3659: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] );
<a href="#3660" id="3660" class="l"> 3660: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#3661" id="3661" class="l"> 3661: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#3662" id="3662" class="l"> 3662: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Label'</span> ], kDEFAULT_LANGUAGE );
<a href="#3663" id="3663" class="l"> 3663: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Observations'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#3664" id="3664" class="l"> 3664: </a>                    <span class="php-var">$term</span>-&gt;Description( <span class="php-var">$record</span>[ <span class="php-quote">'Observations'</span> ], kDEFAULT_LANGUAGE );
<a href="#3665" id="3665" class="l"> 3665: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Genus'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#3666" id="3666" class="l"> 3666: </a>                {
<a href="#3667" id="3667" class="l"> 3667: </a>                    <span class="php-var">$list</span> = <span class="php-keyword1">Array</span>();
<a href="#3668" id="3668" class="l"> 3668: </a>                    <span class="php-var">$tmp</span> = <span class="php-keyword2">explode</span>( <span class="php-quote">','</span>, <span class="php-var">$record</span>[ <span class="php-quote">'Genus'</span> ] );
<a href="#3669" id="3669" class="l"> 3669: </a>                    <span class="php-keyword1">foreach</span>( <span class="php-var">$tmp</span> <span class="php-keyword1">as</span> <span class="php-var">$element</span> )
<a href="#3670" id="3670" class="l"> 3670: </a>                    {
<a href="#3671" id="3671" class="l"> 3671: </a>                        <span class="php-keyword1">if</span>( <span class="php-keyword2">strlen</span>( <span class="php-var">$string</span> = <span class="php-keyword2">trim</span>( <span class="php-var">$element</span> ) ) )
<a href="#3672" id="3672" class="l"> 3672: </a>                            <span class="php-var">$list</span>[] = <span class="php-var">$string</span>;
<a href="#3673" id="3673" class="l"> 3673: </a>                    }
<a href="#3674" id="3674" class="l"> 3674: </a>                    <span class="php-var">$term</span>[ <span class="php-quote">'ITPGRFA'</span>
<a href="#3675" id="3675" class="l"> 3675: </a>                          .kTOKEN_NAMESPACE_SEPARATOR
<a href="#3676" id="3676" class="l"> 3676: </a>                          .<span class="php-quote">'IncludedGenus'</span> ] = <span class="php-var">$list</span>;
<a href="#3677" id="3677" class="l"> 3677: </a>                }
<a href="#3678" id="3678" class="l"> 3678: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Species'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#3679" id="3679" class="l"> 3679: </a>                {
<a href="#3680" id="3680" class="l"> 3680: </a>                    <span class="php-var">$list</span> = <span class="php-keyword1">Array</span>();
<a href="#3681" id="3681" class="l"> 3681: </a>                    <span class="php-var">$tmp</span> = <span class="php-keyword2">explode</span>( <span class="php-quote">','</span>, <span class="php-var">$record</span>[ <span class="php-quote">'Species'</span> ] );
<a href="#3682" id="3682" class="l"> 3682: </a>                    <span class="php-keyword1">foreach</span>( <span class="php-var">$tmp</span> <span class="php-keyword1">as</span> <span class="php-var">$element</span> )
<a href="#3683" id="3683" class="l"> 3683: </a>                    {
<a href="#3684" id="3684" class="l"> 3684: </a>                        <span class="php-keyword1">if</span>( <span class="php-keyword2">strlen</span>( <span class="php-var">$string</span> = <span class="php-keyword2">trim</span>( <span class="php-var">$element</span> ) ) )
<a href="#3685" id="3685" class="l"> 3685: </a>                            <span class="php-var">$list</span>[] = <span class="php-var">$string</span>;
<a href="#3686" id="3686" class="l"> 3686: </a>                    }
<a href="#3687" id="3687" class="l"> 3687: </a>                    <span class="php-var">$term</span>[ <span class="php-quote">'ITPGRFA'</span>
<a href="#3688" id="3688" class="l"> 3688: </a>                          .kTOKEN_NAMESPACE_SEPARATOR
<a href="#3689" id="3689" class="l"> 3689: </a>                          .<span class="php-quote">'IncludedSpecies'</span> ] = <span class="php-var">$list</span>;
<a href="#3690" id="3690" class="l"> 3690: </a>                }
<a href="#3691" id="3691" class="l"> 3691: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'ExcludedSpecies'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#3692" id="3692" class="l"> 3692: </a>                {
<a href="#3693" id="3693" class="l"> 3693: </a>                    <span class="php-var">$list</span> = <span class="php-keyword1">Array</span>();
<a href="#3694" id="3694" class="l"> 3694: </a>                    <span class="php-var">$tmp</span> = <span class="php-keyword2">explode</span>( <span class="php-quote">','</span>, <span class="php-var">$record</span>[ <span class="php-quote">'ExcludedSpecies'</span> ] );
<a href="#3695" id="3695" class="l"> 3695: </a>                    <span class="php-keyword1">foreach</span>( <span class="php-var">$tmp</span> <span class="php-keyword1">as</span> <span class="php-var">$element</span> )
<a href="#3696" id="3696" class="l"> 3696: </a>                    {
<a href="#3697" id="3697" class="l"> 3697: </a>                        <span class="php-keyword1">if</span>( <span class="php-keyword2">strlen</span>( <span class="php-var">$string</span> = <span class="php-keyword2">trim</span>( <span class="php-var">$element</span> ) ) )
<a href="#3698" id="3698" class="l"> 3698: </a>                            <span class="php-var">$list</span>[] = <span class="php-var">$string</span>;
<a href="#3699" id="3699" class="l"> 3699: </a>                    }
<a href="#3700" id="3700" class="l"> 3700: </a>                    <span class="php-var">$term</span>[ <span class="php-quote">'ITPGRFA'</span>
<a href="#3701" id="3701" class="l"> 3701: </a>                          .kTOKEN_NAMESPACE_SEPARATOR
<a href="#3702" id="3702" class="l"> 3702: </a>                          .<span class="php-quote">'ExcludedSpecies'</span> ] = <span class="php-var">$list</span>;
<a href="#3703" id="3703" class="l"> 3703: </a>                }
<a href="#3704" id="3704" class="l"> 3704: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3705" id="3705" class="l"> 3705: </a>            }
<a href="#3706" id="3706" class="l"> 3706: </a>            <span class="php-comment">//</span>
<a href="#3707" id="3707" class="l"> 3707: </a>            <span class="php-comment">// Handle node.</span>
<a href="#3708" id="3708" class="l"> 3708: </a>            <span class="php-comment">//</span>
<a href="#3709" id="3709" class="l"> 3709: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3710" id="3710" class="l"> 3710: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3711" id="3711" class="l"> 3711: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#3712" id="3712" class="l"> 3712: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM );
<a href="#3713" id="3713" class="l"> 3713: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3714" id="3714" class="l"> 3714: </a>            <span class="php-comment">//</span>
<a href="#3715" id="3715" class="l"> 3715: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#3716" id="3716" class="l"> 3716: </a>            <span class="php-comment">//</span>
<a href="#3717" id="3717" class="l"> 3717: </a>            <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ANNEX1-CROP'</span> ] );
<a href="#3718" id="3718" class="l"> 3718: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3719" id="3719" class="l"> 3719: </a>            
<a href="#3720" id="3720" class="l"> 3720: </a>            <span class="php-comment">//</span>
<a href="#3721" id="3721" class="l"> 3721: </a>            <span class="php-comment">// Relate group.</span>
<a href="#3722" id="3722" class="l"> 3722: </a>            <span class="php-comment">//</span>
<a href="#3723" id="3723" class="l"> 3723: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Group'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#3724" id="3724" class="l"> 3724: </a>            {
<a href="#3725" id="3725" class="l"> 3725: </a>                <span class="php-var">$edge</span>
<a href="#3726" id="3726" class="l"> 3726: </a>                    = <span class="php-var">$node</span>-&gt;RelateTo(
<a href="#3727" id="3727" class="l"> 3727: </a>                        <span class="php-var">$container</span>, <span class="php-var">$part_of</span>, <span class="php-var">$nodes</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Group'</span> ] ] );
<a href="#3728" id="3728" class="l"> 3728: </a>                <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3729" id="3729" class="l"> 3729: </a>            }
<a href="#3730" id="3730" class="l"> 3730: </a>            
<a href="#3731" id="3731" class="l"> 3731: </a>            <span class="php-comment">//</span>
<a href="#3732" id="3732" class="l"> 3732: </a>            <span class="php-comment">// Display.</span>
<a href="#3733" id="3733" class="l"> 3733: </a>            <span class="php-comment">//</span>
<a href="#3734" id="3734" class="l"> 3734: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3735" id="3735" class="l"> 3735: </a>                <span class="php-keyword1">echo</span>( <span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#3736" id="3736" class="l"> 3736: </a>                     .<span class="php-quote">&quot; [</span><span class="php-var">$term</span><span class="php-quote">] [&quot;</span>.<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;]\n&quot;</span> );
<a href="#3737" id="3737" class="l"> 3737: </a>        
<a href="#3738" id="3738" class="l"> 3738: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#3739" id="3739" class="l"> 3739: </a>        
<a href="#3740" id="3740" class="l"> 3740: </a>    } <span class="php-comment">// LoadCropGroupDescriptors.</span>
<a href="#3741" id="3741" class="l"> 3741: </a>
<a href="#3742" id="3742" class="l"> 3742: </a>     
<a href="#3743" id="3743" class="l"> 3743: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#3744" id="3744" class="l"> 3744: </a><span class="php-comment">     *  LoadUnStatsRegions                                                              *
</span><a href="#3745" id="3745" class="l"> 3745: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#3746" id="3746" class="l"> 3746: </a>
<a href="#3747" id="3747" class="l"> 3747: </a>    <span class="php-comment">/**
</span><a href="#3748" id="3748" class="l"> 3748: </a><span class="php-comment">     * Load United Nations Statistics Division regions.
</span><a href="#3749" id="3749" class="l"> 3749: </a><span class="php-comment">     *
</span><a href="#3750" id="3750" class="l"> 3750: </a><span class="php-comment">     * This function will load the United Nations Statistics Division regions enumeration
</span><a href="#3751" id="3751" class="l"> 3751: </a><span class="php-comment">     * terms.
</span><a href="#3752" id="3752" class="l"> 3752: </a><span class="php-comment">     *
</span><a href="#3753" id="3753" class="l"> 3753: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#3754" id="3754" class="l"> 3754: </a><span class="php-comment">     * created terms.
</span><a href="#3755" id="3755" class="l"> 3755: </a><span class="php-comment">     *
</span><a href="#3756" id="3756" class="l"> 3756: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#3757" id="3757" class="l"> 3757: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#3758" id="3758" class="l"> 3758: </a><span class="php-comment">     *
</span><a href="#3759" id="3759" class="l"> 3759: </a><span class="php-comment">     * @access protected
</span><a href="#3760" id="3760" class="l"> 3760: </a><span class="php-comment">     */</span>
<a href="#3761" id="3761" class="l"> 3761: </a>    <span class="php-keyword1">function</span> LoadUnStatsRegions( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#3762" id="3762" class="l"> 3762: </a>    {
<a href="#3763" id="3763" class="l"> 3763: </a>        <span class="php-comment">//</span>
<a href="#3764" id="3764" class="l"> 3764: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#3765" id="3765" class="l"> 3765: </a>        <span class="php-comment">//</span>
<a href="#3766" id="3766" class="l"> 3766: </a>        <span class="php-var">$nodes</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'REGIONS'</span> ] = <span class="php-keyword1">Array</span>();
<a href="#3767" id="3767" class="l"> 3767: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#3768" id="3768" class="l"> 3768: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#3769" id="3769" class="l"> 3769: </a>        
<a href="#3770" id="3770" class="l"> 3770: </a>        <span class="php-comment">//</span>
<a href="#3771" id="3771" class="l"> 3771: </a>        <span class="php-comment">// Open MySQL connection.</span>
<a href="#3772" id="3772" class="l"> 3772: </a>        <span class="php-comment">//</span>
<a href="#3773" id="3773" class="l"> 3773: </a>        <span class="php-var">$mysql</span> = NewADOConnection( DEFAULT_ANCILLARY_HOST );
<a href="#3774" id="3774" class="l"> 3774: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$mysql</span> )
<a href="#3775" id="3775" class="l"> 3775: </a>            <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> Exception( <span class="php-quote">'Unable to connect to MySQL.'</span> );               <span class="php-comment">// !@! ==&gt;</span>
<a href="#3776" id="3776" class="l"> 3776: </a>        <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-quote">&quot;SET CHARACTER SET 'utf8'&quot;</span> );
<a href="#3777" id="3777" class="l"> 3777: </a>        <span class="php-var">$mysql</span>-&gt;setFetchMode( ADODB_FETCH_ASSOC );
<a href="#3778" id="3778" class="l"> 3778: </a>        
<a href="#3779" id="3779" class="l"> 3779: </a>        <span class="php-comment">//</span>
<a href="#3780" id="3780" class="l"> 3780: </a>        <span class="php-comment">// Inform.</span>
<a href="#3781" id="3781" class="l"> 3781: </a>        <span class="php-comment">//</span>
<a href="#3782" id="3782" class="l"> 3782: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3783" id="3783" class="l"> 3783: </a>        {
<a href="#3784" id="3784" class="l"> 3784: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3785" id="3785" class="l"> 3785: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#3786" id="3786" class="l"> 3786: </a>        }
<a href="#3787" id="3787" class="l"> 3787: </a>        
<a href="#3788" id="3788" class="l"> 3788: </a>        <span class="php-comment">//</span>
<a href="#3789" id="3789" class="l"> 3789: </a>        <span class="php-comment">// IS-A.</span>
<a href="#3790" id="3790" class="l"> 3790: </a>        <span class="php-comment">//</span>
<a href="#3791" id="3791" class="l"> 3791: </a>        <span class="php-var">$is_a</span>
<a href="#3792" id="3792" class="l"> 3792: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#3793" id="3793" class="l"> 3793: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_IS_A ) );
<a href="#3794" id="3794" class="l"> 3794: </a>        
<a href="#3795" id="3795" class="l"> 3795: </a>        <span class="php-comment">//</span>
<a href="#3796" id="3796" class="l"> 3796: </a>        <span class="php-comment">// ENUM-OF.</span>
<a href="#3797" id="3797" class="l"> 3797: </a>        <span class="php-comment">//</span>
<a href="#3798" id="3798" class="l"> 3798: </a>        <span class="php-var">$enum_of</span>
<a href="#3799" id="3799" class="l"> 3799: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#3800" id="3800" class="l"> 3800: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_ENUM_OF ) );
<a href="#3801" id="3801" class="l"> 3801: </a>        
<a href="#3802" id="3802" class="l"> 3802: </a>        <span class="php-comment">//</span>
<a href="#3803" id="3803" class="l"> 3803: </a>        <span class="php-comment">// United Nations Statistics Division.</span>
<a href="#3804" id="3804" class="l"> 3804: </a>        <span class="php-comment">//</span>
<a href="#3805" id="3805" class="l"> 3805: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#3806" id="3806" class="l"> 3806: </a>                                   COntologyTerm::HashIndex( <span class="php-quote">'UNSTATS'</span> ) );
<a href="#3807" id="3807" class="l"> 3807: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3808" id="3808" class="l"> 3808: </a>        {
<a href="#3809" id="3809" class="l"> 3809: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'UNSTATS'</span> );
<a href="#3810" id="3810" class="l"> 3810: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#3811" id="3811" class="l"> 3811: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#3812" id="3812" class="l"> 3812: </a>            ( <span class="php-quote">'UN Statistics Division'</span>,
<a href="#3813" id="3813" class="l"> 3813: </a>              kDEFAULT_LANGUAGE );
<a href="#3814" id="3814" class="l"> 3814: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#3815" id="3815" class="l"> 3815: </a>            ( <span class="php-quote">'United Nations Statistics Division.'</span>,
<a href="#3816" id="3816" class="l"> 3816: </a>              kDEFAULT_LANGUAGE );
<a href="#3817" id="3817" class="l"> 3817: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3818" id="3818" class="l"> 3818: </a>        }
<a href="#3819" id="3819" class="l"> 3819: </a>        <span class="php-comment">//</span>
<a href="#3820" id="3820" class="l"> 3820: </a>        <span class="php-comment">// Handle node.</span>
<a href="#3821" id="3821" class="l"> 3821: </a>        <span class="php-comment">//</span>
<a href="#3822" id="3822" class="l"> 3822: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3823" id="3823" class="l"> 3823: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3824" id="3824" class="l"> 3824: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_ROOT, <span class="php-keyword1">TRUE</span> );
<a href="#3825" id="3825" class="l"> 3825: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3826" id="3826" class="l"> 3826: </a>        <span class="php-comment">//</span>
<a href="#3827" id="3827" class="l"> 3827: </a>        <span class="php-comment">// Save node.</span>
<a href="#3828" id="3828" class="l"> 3828: </a>        <span class="php-comment">//</span>
<a href="#3829" id="3829" class="l"> 3829: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'UNSTATS'</span> ] = <span class="php-var">$node</span>;
<a href="#3830" id="3830" class="l"> 3830: </a>        <span class="php-comment">//</span>
<a href="#3831" id="3831" class="l"> 3831: </a>        <span class="php-comment">// Display.</span>
<a href="#3832" id="3832" class="l"> 3832: </a>        <span class="php-comment">//</span>
<a href="#3833" id="3833" class="l"> 3833: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3834" id="3834" class="l"> 3834: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#3835" id="3835" class="l"> 3835: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#3836" id="3836" class="l"> 3836: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#3837" id="3837" class="l"> 3837: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3838" id="3838" class="l"> 3838: </a>        
<a href="#3839" id="3839" class="l"> 3839: </a>        <span class="php-comment">//</span>
<a href="#3840" id="3840" class="l"> 3840: </a>        <span class="php-comment">// UNSTATS - Region codes.</span>
<a href="#3841" id="3841" class="l"> 3841: </a>        <span class="php-comment">//</span>
<a href="#3842" id="3842" class="l"> 3842: </a>        <span class="php-var">$term</span>
<a href="#3843" id="3843" class="l"> 3843: </a>            = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#3844" id="3844" class="l"> 3844: </a>                    <span class="php-var">$theContainer</span>, 
<a href="#3845" id="3845" class="l"> 3845: </a>                    COntologyTerm::HashIndex(
<a href="#3846" id="3846" class="l"> 3846: </a>                        <span class="php-quote">'UNSTATS'</span>.kTOKEN_NAMESPACE_SEPARATOR.<span class="php-quote">'REGIONS'</span> ) );
<a href="#3847" id="3847" class="l"> 3847: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3848" id="3848" class="l"> 3848: </a>        {
<a href="#3849" id="3849" class="l"> 3849: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'UNSTATS'</span> ]-&gt;Term() );
<a href="#3850" id="3850" class="l"> 3850: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'REGIONS'</span> );
<a href="#3851" id="3851" class="l"> 3851: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#3852" id="3852" class="l"> 3852: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[0-9]{3}'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#3853" id="3853" class="l"> 3853: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#3854" id="3854" class="l"> 3854: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#3855" id="3855" class="l"> 3855: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#3856" id="3856" class="l"> 3856: </a>            ( <span class="php-quote">'Region codes'</span>,
<a href="#3857" id="3857" class="l"> 3857: </a>              kDEFAULT_LANGUAGE );
<a href="#3858" id="3858" class="l"> 3858: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#3859" id="3859" class="l"> 3859: </a>            ( <span class="php-quote">'United Nations Statistics Division composition of macro geographical '</span>
<a href="#3860" id="3860" class="l"> 3860: </a>             .<span class="php-quote">'(continental) regions, geographical sub-regions, and selected economic '</span>
<a href="#3861" id="3861" class="l"> 3861: </a>             .<span class="php-quote">'and other groupings.'</span>,
<a href="#3862" id="3862" class="l"> 3862: </a>              kDEFAULT_LANGUAGE );
<a href="#3863" id="3863" class="l"> 3863: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3864" id="3864" class="l"> 3864: </a>        }
<a href="#3865" id="3865" class="l"> 3865: </a>        <span class="php-comment">//</span>
<a href="#3866" id="3866" class="l"> 3866: </a>        <span class="php-comment">// Handle node.</span>
<a href="#3867" id="3867" class="l"> 3867: </a>        <span class="php-comment">//</span>
<a href="#3868" id="3868" class="l"> 3868: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3869" id="3869" class="l"> 3869: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3870" id="3870" class="l"> 3870: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#3871" id="3871" class="l"> 3871: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#3872" id="3872" class="l"> 3872: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#3873" id="3873" class="l"> 3873: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#3874" id="3874" class="l"> 3874: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3875" id="3875" class="l"> 3875: </a>        <span class="php-comment">//</span>
<a href="#3876" id="3876" class="l"> 3876: </a>        <span class="php-comment">// Save node.</span>
<a href="#3877" id="3877" class="l"> 3877: </a>        <span class="php-comment">//</span>
<a href="#3878" id="3878" class="l"> 3878: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'REGIONS'</span> ] = <span class="php-var">$node</span>;
<a href="#3879" id="3879" class="l"> 3879: </a>        <span class="php-comment">//</span>
<a href="#3880" id="3880" class="l"> 3880: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#3881" id="3881" class="l"> 3881: </a>        <span class="php-comment">//</span>
<a href="#3882" id="3882" class="l"> 3882: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'UNSTATS'</span> ] );
<a href="#3883" id="3883" class="l"> 3883: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3884" id="3884" class="l"> 3884: </a>        <span class="php-comment">//</span>
<a href="#3885" id="3885" class="l"> 3885: </a>        <span class="php-comment">// Display.</span>
<a href="#3886" id="3886" class="l"> 3886: </a>        <span class="php-comment">//</span>
<a href="#3887" id="3887" class="l"> 3887: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3888" id="3888" class="l"> 3888: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#3889" id="3889" class="l"> 3889: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#3890" id="3890" class="l"> 3890: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#3891" id="3891" class="l"> 3891: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#3892" id="3892" class="l"> 3892: </a>        
<a href="#3893" id="3893" class="l"> 3893: </a>        <span class="php-comment">//</span>
<a href="#3894" id="3894" class="l"> 3894: </a>        <span class="php-comment">// Load region terms.</span>
<a href="#3895" id="3895" class="l"> 3895: </a>        <span class="php-comment">//</span>
<a href="#3896" id="3896" class="l"> 3896: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#3897" id="3897" class="l"> 3897: </a><span class="php-quote">SELECT
</span><a href="#3898" id="3898" class="l"> 3898: </a><span class="php-quote">    `Code_ISO_3166_Regions`.`Code`,
</span><a href="#3899" id="3899" class="l"> 3899: </a><span class="php-quote">    `Code_ISO_3166_Regions`.`Name`
</span><a href="#3900" id="3900" class="l"> 3900: </a><span class="php-quote">FROM
</span><a href="#3901" id="3901" class="l"> 3901: </a><span class="php-quote">    `Code_ISO_3166_Regions`
</span><a href="#3902" id="3902" class="l"> 3902: </a><span class="php-quote">ORDER BY
</span><a href="#3903" id="3903" class="l"> 3903: </a><span class="php-quote">    `Code_ISO_3166_Regions`.`Code`
</span><a href="#3904" id="3904" class="l"> 3904: </a><span class="php-quote">EOT;
</span><a href="#3905" id="3905" class="l"> 3905: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#3906" id="3906" class="l"> 3906: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#3907" id="3907" class="l"> 3907: </a>        {
<a href="#3908" id="3908" class="l"> 3908: </a>            <span class="php-comment">//</span>
<a href="#3909" id="3909" class="l"> 3909: </a>            <span class="php-comment">// Create region term.</span>
<a href="#3910" id="3910" class="l"> 3910: </a>            <span class="php-comment">//</span>
<a href="#3911" id="3911" class="l"> 3911: </a>            <span class="php-var">$term</span>
<a href="#3912" id="3912" class="l"> 3912: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#3913" id="3913" class="l"> 3913: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#3914" id="3914" class="l"> 3914: </a>                        COntologyTerm::HashIndex(
<a href="#3915" id="3915" class="l"> 3915: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'REGIONS'</span> ]-&gt;Term()-&gt;GID()
<a href="#3916" id="3916" class="l"> 3916: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#3917" id="3917" class="l"> 3917: </a>                           .<span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ) );
<a href="#3918" id="3918" class="l"> 3918: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#3919" id="3919" class="l"> 3919: </a>            {
<a href="#3920" id="3920" class="l"> 3920: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'REGIONS'</span> ]-&gt;Term() );
<a href="#3921" id="3921" class="l"> 3921: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] );
<a href="#3922" id="3922" class="l"> 3922: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#3923" id="3923" class="l"> 3923: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#3924" id="3924" class="l"> 3924: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Name'</span> ], kDEFAULT_LANGUAGE );
<a href="#3925" id="3925" class="l"> 3925: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#3926" id="3926" class="l"> 3926: </a>            }
<a href="#3927" id="3927" class="l"> 3927: </a>            <span class="php-comment">//</span>
<a href="#3928" id="3928" class="l"> 3928: </a>            <span class="php-comment">// Handle node.</span>
<a href="#3929" id="3929" class="l"> 3929: </a>            <span class="php-comment">//</span>
<a href="#3930" id="3930" class="l"> 3930: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#3931" id="3931" class="l"> 3931: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#3932" id="3932" class="l"> 3932: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#3933" id="3933" class="l"> 3933: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM );
<a href="#3934" id="3934" class="l"> 3934: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#3935" id="3935" class="l"> 3935: </a>            <span class="php-comment">//</span>
<a href="#3936" id="3936" class="l"> 3936: </a>            <span class="php-comment">// Save node.</span>
<a href="#3937" id="3937" class="l"> 3937: </a>            <span class="php-comment">//</span>
<a href="#3938" id="3938" class="l"> 3938: </a>            <span class="php-var">$nodes</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ] = <span class="php-var">$node</span>;
<a href="#3939" id="3939" class="l"> 3939: </a>            <span class="php-var">$_SESSION</span>[ <span class="php-quote">'REGIONS'</span> ][ <span class="php-var">$term</span>-&gt;Code() ] = <span class="php-var">$node</span>;
<a href="#3940" id="3940" class="l"> 3940: </a>            <span class="php-comment">//</span>
<a href="#3941" id="3941" class="l"> 3941: </a>            <span class="php-comment">// Display.</span>
<a href="#3942" id="3942" class="l"> 3942: </a>            <span class="php-comment">//</span>
<a href="#3943" id="3943" class="l"> 3943: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#3944" id="3944" class="l"> 3944: </a>                <span class="php-keyword1">echo</span>( <span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#3945" id="3945" class="l"> 3945: </a>                     .<span class="php-quote">&quot; [</span><span class="php-var">$term</span><span class="php-quote">] [&quot;</span>.<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;]\n&quot;</span> );
<a href="#3946" id="3946" class="l"> 3946: </a>        
<a href="#3947" id="3947" class="l"> 3947: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#3948" id="3948" class="l"> 3948: </a>        
<a href="#3949" id="3949" class="l"> 3949: </a>        <span class="php-comment">//</span>
<a href="#3950" id="3950" class="l"> 3950: </a>        <span class="php-comment">// Handle hierarchy.</span>
<a href="#3951" id="3951" class="l"> 3951: </a>        <span class="php-comment">//</span>
<a href="#3952" id="3952" class="l"> 3952: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#3953" id="3953" class="l"> 3953: </a><span class="php-quote">SELECT
</span><a href="#3954" id="3954" class="l"> 3954: </a><span class="php-quote">    `Code_ISO_3166_Regions`.`Code`,
</span><a href="#3955" id="3955" class="l"> 3955: </a><span class="php-quote">    `Code_ISO_3166_Regions`.`Parent`,
</span><a href="#3956" id="3956" class="l"> 3956: </a><span class="php-quote">    `Code_ISO_3166_Regions`.`Name`
</span><a href="#3957" id="3957" class="l"> 3957: </a><span class="php-quote">FROM
</span><a href="#3958" id="3958" class="l"> 3958: </a><span class="php-quote">    `Code_ISO_3166_Regions`
</span><a href="#3959" id="3959" class="l"> 3959: </a><span class="php-quote">ORDER BY
</span><a href="#3960" id="3960" class="l"> 3960: </a><span class="php-quote">    `Code_ISO_3166_Regions`.`Parent`
</span><a href="#3961" id="3961" class="l"> 3961: </a><span class="php-quote">EOT;
</span><a href="#3962" id="3962" class="l"> 3962: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#3963" id="3963" class="l"> 3963: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#3964" id="3964" class="l"> 3964: </a>        {
<a href="#3965" id="3965" class="l"> 3965: </a>            <span class="php-comment">//</span>
<a href="#3966" id="3966" class="l"> 3966: </a>            <span class="php-comment">// Get parent and child terms.</span>
<a href="#3967" id="3967" class="l"> 3967: </a>            <span class="php-comment">//</span>
<a href="#3968" id="3968" class="l"> 3968: </a>            <span class="php-var">$child_term</span>
<a href="#3969" id="3969" class="l"> 3969: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#3970" id="3970" class="l"> 3970: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#3971" id="3971" class="l"> 3971: </a>                        COntologyTerm::HashIndex(
<a href="#3972" id="3972" class="l"> 3972: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'REGIONS'</span> ]-&gt;Term()-&gt;GID()
<a href="#3973" id="3973" class="l"> 3973: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#3974" id="3974" class="l"> 3974: </a>                           .<span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ) );
<a href="#3975" id="3975" class="l"> 3975: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#3976" id="3976" class="l"> 3976: </a>                <span class="php-var">$parent_term</span>
<a href="#3977" id="3977" class="l"> 3977: </a>                    = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#3978" id="3978" class="l"> 3978: </a>                            <span class="php-var">$theContainer</span>, 
<a href="#3979" id="3979" class="l"> 3979: </a>                            COntologyTerm::HashIndex(
<a href="#3980" id="3980" class="l"> 3980: </a>                                <span class="php-var">$nodes</span>[ <span class="php-quote">'REGIONS'</span> ]-&gt;Term()-&gt;GID()
<a href="#3981" id="3981" class="l"> 3981: </a>                               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#3982" id="3982" class="l"> 3982: </a>                               .<span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] ) );
<a href="#3983" id="3983" class="l"> 3983: </a>            <span class="php-keyword1">else</span>
<a href="#3984" id="3984" class="l"> 3984: </a>                <span class="php-var">$parent_term</span>
<a href="#3985" id="3985" class="l"> 3985: </a>                    = <span class="php-var">$nodes</span>[ <span class="php-quote">'REGIONS'</span> ]-&gt;Term();
<a href="#3986" id="3986" class="l"> 3986: </a>            
<a href="#3987" id="3987" class="l"> 3987: </a>            <span class="php-comment">//</span>
<a href="#3988" id="3988" class="l"> 3988: </a>            <span class="php-comment">// Get parent node.</span>
<a href="#3989" id="3989" class="l"> 3989: </a>            <span class="php-comment">//</span>
<a href="#3990" id="3990" class="l"> 3990: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#3991" id="3991" class="l"> 3991: </a>                <span class="php-var">$parent_node</span> = <span class="php-var">$nodes</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] ];
<a href="#3992" id="3992" class="l"> 3992: </a>            <span class="php-keyword1">else</span>
<a href="#3993" id="3993" class="l"> 3993: </a>                <span class="php-var">$parent_node</span> = <span class="php-var">$nodes</span>[ <span class="php-quote">'REGIONS'</span> ];
<a href="#3994" id="3994" class="l"> 3994: </a>            
<a href="#3995" id="3995" class="l"> 3995: </a>            <span class="php-comment">//</span>
<a href="#3996" id="3996" class="l"> 3996: </a>            <span class="php-comment">// Get child node.</span>
<a href="#3997" id="3997" class="l"> 3997: </a>            <span class="php-comment">//</span>
<a href="#3998" id="3998" class="l"> 3998: </a>            <span class="php-var">$child_node</span> = <span class="php-var">$nodes</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ];
<a href="#3999" id="3999" class="l"> 3999: </a>            
<a href="#4000" id="4000" class="l"> 4000: </a>            <span class="php-comment">//</span>
<a href="#4001" id="4001" class="l"> 4001: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#4002" id="4002" class="l"> 4002: </a>            <span class="php-comment">//</span>
<a href="#4003" id="4003" class="l"> 4003: </a>            <span class="php-var">$edge</span> = <span class="php-var">$child_node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent_node</span> );
<a href="#4004" id="4004" class="l"> 4004: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4005" id="4005" class="l"> 4005: </a>            
<a href="#4006" id="4006" class="l"> 4006: </a>            <span class="php-comment">//</span>
<a href="#4007" id="4007" class="l"> 4007: </a>            <span class="php-comment">// Display.</span>
<a href="#4008" id="4008" class="l"> 4008: </a>            <span class="php-comment">//</span>
<a href="#4009" id="4009" class="l"> 4009: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4010" id="4010" class="l"> 4010: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$child_term</span><span class="php-quote">] ==&gt; [</span><span class="php-var">$parent_term</span><span class="php-quote">]\n&quot;</span> );
<a href="#4011" id="4011" class="l"> 4011: </a>        
<a href="#4012" id="4012" class="l"> 4012: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#4013" id="4013" class="l"> 4013: </a>        
<a href="#4014" id="4014" class="l"> 4014: </a>    } <span class="php-comment">// LoadUnStatsRegions.</span>
<a href="#4015" id="4015" class="l"> 4015: </a>
<a href="#4016" id="4016" class="l"> 4016: </a>     
<a href="#4017" id="4017" class="l"> 4017: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#4018" id="4018" class="l"> 4018: </a><span class="php-comment">     *  LoadISO                                                                         *
</span><a href="#4019" id="4019" class="l"> 4019: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#4020" id="4020" class="l"> 4020: </a>
<a href="#4021" id="4021" class="l"> 4021: </a>    <span class="php-comment">/**
</span><a href="#4022" id="4022" class="l"> 4022: </a><span class="php-comment">     * Load ISO.
</span><a href="#4023" id="4023" class="l"> 4023: </a><span class="php-comment">     *
</span><a href="#4024" id="4024" class="l"> 4024: </a><span class="php-comment">     * This function will load the ISO enumeration terms.
</span><a href="#4025" id="4025" class="l"> 4025: </a><span class="php-comment">     *
</span><a href="#4026" id="4026" class="l"> 4026: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#4027" id="4027" class="l"> 4027: </a><span class="php-comment">     * created terms.
</span><a href="#4028" id="4028" class="l"> 4028: </a><span class="php-comment">     *
</span><a href="#4029" id="4029" class="l"> 4029: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#4030" id="4030" class="l"> 4030: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#4031" id="4031" class="l"> 4031: </a><span class="php-comment">     *
</span><a href="#4032" id="4032" class="l"> 4032: </a><span class="php-comment">     * @access protected
</span><a href="#4033" id="4033" class="l"> 4033: </a><span class="php-comment">     */</span>
<a href="#4034" id="4034" class="l"> 4034: </a>    <span class="php-keyword1">function</span> LoadISO( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#4035" id="4035" class="l"> 4035: </a>    {
<a href="#4036" id="4036" class="l"> 4036: </a>        <span class="php-comment">//</span>
<a href="#4037" id="4037" class="l"> 4037: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#4038" id="4038" class="l"> 4038: </a>        <span class="php-comment">//</span>
<a href="#4039" id="4039" class="l"> 4039: </a>        <span class="php-var">$nodes</span> = <span class="php-keyword1">Array</span>();
<a href="#4040" id="4040" class="l"> 4040: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#4041" id="4041" class="l"> 4041: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#4042" id="4042" class="l"> 4042: </a>        
<a href="#4043" id="4043" class="l"> 4043: </a>        <span class="php-comment">//</span>
<a href="#4044" id="4044" class="l"> 4044: </a>        <span class="php-comment">// Open MySQL connection.</span>
<a href="#4045" id="4045" class="l"> 4045: </a>        <span class="php-comment">//</span>
<a href="#4046" id="4046" class="l"> 4046: </a>        <span class="php-var">$mysql</span> = NewADOConnection( DEFAULT_ANCILLARY_HOST );
<a href="#4047" id="4047" class="l"> 4047: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$mysql</span> )
<a href="#4048" id="4048" class="l"> 4048: </a>            <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> Exception( <span class="php-quote">'Unable to connect to MySQL.'</span> );               <span class="php-comment">// !@! ==&gt;</span>
<a href="#4049" id="4049" class="l"> 4049: </a>        <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-quote">&quot;SET CHARACTER SET 'utf8'&quot;</span> );
<a href="#4050" id="4050" class="l"> 4050: </a>        <span class="php-var">$mysql</span>-&gt;setFetchMode( ADODB_FETCH_ASSOC );
<a href="#4051" id="4051" class="l"> 4051: </a>        
<a href="#4052" id="4052" class="l"> 4052: </a>        <span class="php-comment">//</span>
<a href="#4053" id="4053" class="l"> 4053: </a>        <span class="php-comment">// Inform.</span>
<a href="#4054" id="4054" class="l"> 4054: </a>        <span class="php-comment">//</span>
<a href="#4055" id="4055" class="l"> 4055: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4056" id="4056" class="l"> 4056: </a>        {
<a href="#4057" id="4057" class="l"> 4057: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#4058" id="4058" class="l"> 4058: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#4059" id="4059" class="l"> 4059: </a>        }
<a href="#4060" id="4060" class="l"> 4060: </a>        
<a href="#4061" id="4061" class="l"> 4061: </a>        <span class="php-comment">//</span>
<a href="#4062" id="4062" class="l"> 4062: </a>        <span class="php-comment">// IS-A.</span>
<a href="#4063" id="4063" class="l"> 4063: </a>        <span class="php-comment">//</span>
<a href="#4064" id="4064" class="l"> 4064: </a>        <span class="php-var">$is_a</span>
<a href="#4065" id="4065" class="l"> 4065: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#4066" id="4066" class="l"> 4066: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_IS_A ) );
<a href="#4067" id="4067" class="l"> 4067: </a>        
<a href="#4068" id="4068" class="l"> 4068: </a>        <span class="php-comment">//</span>
<a href="#4069" id="4069" class="l"> 4069: </a>        <span class="php-comment">// ENUM-OF.</span>
<a href="#4070" id="4070" class="l"> 4070: </a>        <span class="php-comment">//</span>
<a href="#4071" id="4071" class="l"> 4071: </a>        <span class="php-var">$enum_of</span>
<a href="#4072" id="4072" class="l"> 4072: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#4073" id="4073" class="l"> 4073: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_ENUM_OF ) );
<a href="#4074" id="4074" class="l"> 4074: </a>        
<a href="#4075" id="4075" class="l"> 4075: </a>        <span class="php-comment">//</span>
<a href="#4076" id="4076" class="l"> 4076: </a>        <span class="php-comment">// PART-OF.</span>
<a href="#4077" id="4077" class="l"> 4077: </a>        <span class="php-comment">//</span>
<a href="#4078" id="4078" class="l"> 4078: </a>        <span class="php-var">$part_of</span>
<a href="#4079" id="4079" class="l"> 4079: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#4080" id="4080" class="l"> 4080: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_PART_OF ) );
<a href="#4081" id="4081" class="l"> 4081: </a>        
<a href="#4082" id="4082" class="l"> 4082: </a>        <span class="php-comment">//</span>
<a href="#4083" id="4083" class="l"> 4083: </a>        <span class="php-comment">// ISO.</span>
<a href="#4084" id="4084" class="l"> 4084: </a>        <span class="php-comment">//</span>
<a href="#4085" id="4085" class="l"> 4085: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#4086" id="4086" class="l"> 4086: </a>                                   COntologyTerm::HashIndex( <span class="php-quote">'ISO'</span> ) );
<a href="#4087" id="4087" class="l"> 4087: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4088" id="4088" class="l"> 4088: </a>        {
<a href="#4089" id="4089" class="l"> 4089: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ISO'</span> );
<a href="#4090" id="4090" class="l"> 4090: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#4091" id="4091" class="l"> 4091: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4092" id="4092" class="l"> 4092: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#4093" id="4093" class="l"> 4093: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#4094" id="4094" class="l"> 4094: </a>            ( <span class="php-quote">'International Organization for Standardization'</span>,
<a href="#4095" id="4095" class="l"> 4095: </a>              kDEFAULT_LANGUAGE );
<a href="#4096" id="4096" class="l"> 4096: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#4097" id="4097" class="l"> 4097: </a>            ( <span class="php-quote">'Organisation internationale de normalisation'</span>,
<a href="#4098" id="4098" class="l"> 4098: </a>              <span class="php-quote">'fr'</span> );
<a href="#4099" id="4099" class="l"> 4099: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#4100" id="4100" class="l"> 4100: </a>            ( <span class="php-quote">'Международная организация по стандартизации'</span>,
<a href="#4101" id="4101" class="l"> 4101: </a>              <span class="php-quote">'ru'</span> );
<a href="#4102" id="4102" class="l"> 4102: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#4103" id="4103" class="l"> 4103: </a>            ( <span class="php-quote">'Collection of industrial and commercial standards and codes.'</span>,
<a href="#4104" id="4104" class="l"> 4104: </a>              kDEFAULT_LANGUAGE );
<a href="#4105" id="4105" class="l"> 4105: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4106" id="4106" class="l"> 4106: </a>        }
<a href="#4107" id="4107" class="l"> 4107: </a>        <span class="php-comment">//</span>
<a href="#4108" id="4108" class="l"> 4108: </a>        <span class="php-comment">// Handle node.</span>
<a href="#4109" id="4109" class="l"> 4109: </a>        <span class="php-comment">//</span>
<a href="#4110" id="4110" class="l"> 4110: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4111" id="4111" class="l"> 4111: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4112" id="4112" class="l"> 4112: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_ROOT, <span class="php-keyword1">TRUE</span> );
<a href="#4113" id="4113" class="l"> 4113: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4114" id="4114" class="l"> 4114: </a>        <span class="php-comment">//</span>
<a href="#4115" id="4115" class="l"> 4115: </a>        <span class="php-comment">// Save node.</span>
<a href="#4116" id="4116" class="l"> 4116: </a>        <span class="php-comment">//</span>
<a href="#4117" id="4117" class="l"> 4117: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO'</span> ] = <span class="php-var">$node</span>;
<a href="#4118" id="4118" class="l"> 4118: </a>        <span class="php-comment">//</span>
<a href="#4119" id="4119" class="l"> 4119: </a>        <span class="php-comment">// Display.</span>
<a href="#4120" id="4120" class="l"> 4120: </a>        <span class="php-comment">//</span>
<a href="#4121" id="4121" class="l"> 4121: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4122" id="4122" class="l"> 4122: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4123" id="4123" class="l"> 4123: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#4124" id="4124" class="l"> 4124: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#4125" id="4125" class="l"> 4125: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#4126" id="4126" class="l"> 4126: </a>        
<a href="#4127" id="4127" class="l"> 4127: </a>        <span class="php-comment">//</span>
<a href="#4128" id="4128" class="l"> 4128: </a>        <span class="php-comment">// ISO 639.</span>
<a href="#4129" id="4129" class="l"> 4129: </a>        <span class="php-comment">//</span>
<a href="#4130" id="4130" class="l"> 4130: </a>        <span class="php-var">$term</span>
<a href="#4131" id="4131" class="l"> 4131: </a>            = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4132" id="4132" class="l"> 4132: </a>                    <span class="php-var">$theContainer</span>, 
<a href="#4133" id="4133" class="l"> 4133: </a>                    COntologyTerm::HashIndex(
<a href="#4134" id="4134" class="l"> 4134: </a>                        <span class="php-quote">'ISO'</span>.kTOKEN_NAMESPACE_SEPARATOR.<span class="php-quote">'639'</span> ) );
<a href="#4135" id="4135" class="l"> 4135: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4136" id="4136" class="l"> 4136: </a>        {
<a href="#4137" id="4137" class="l"> 4137: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO'</span> ]-&gt;Term() );
<a href="#4138" id="4138" class="l"> 4138: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'639'</span> );
<a href="#4139" id="4139" class="l"> 4139: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#4140" id="4140" class="l"> 4140: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4141" id="4141" class="l"> 4141: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#4142" id="4142" class="l"> 4142: </a>            ( <span class="php-quote">'ISO 639'</span>,
<a href="#4143" id="4143" class="l"> 4143: </a>              kDEFAULT_LANGUAGE );
<a href="#4144" id="4144" class="l"> 4144: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#4145" id="4145" class="l"> 4145: </a>            ( <span class="php-quote">'ISO 639 is a set of standards by the International Organization for '</span>
<a href="#4146" id="4146" class="l"> 4146: </a>             .<span class="php-quote">'Standardization that is concerned with representation of names for '</span>
<a href="#4147" id="4147" class="l"> 4147: </a>             .<span class="php-quote">'language and language groups.'</span>,
<a href="#4148" id="4148" class="l"> 4148: </a>              kDEFAULT_LANGUAGE );
<a href="#4149" id="4149" class="l"> 4149: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4150" id="4150" class="l"> 4150: </a>        }
<a href="#4151" id="4151" class="l"> 4151: </a>        <span class="php-comment">//</span>
<a href="#4152" id="4152" class="l"> 4152: </a>        <span class="php-comment">// Handle node.</span>
<a href="#4153" id="4153" class="l"> 4153: </a>        <span class="php-comment">//</span>
<a href="#4154" id="4154" class="l"> 4154: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4155" id="4155" class="l"> 4155: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4156" id="4156" class="l"> 4156: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4157" id="4157" class="l"> 4157: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4158" id="4158" class="l"> 4158: </a>        <span class="php-comment">//</span>
<a href="#4159" id="4159" class="l"> 4159: </a>        <span class="php-comment">// Save node.</span>
<a href="#4160" id="4160" class="l"> 4160: </a>        <span class="php-comment">//</span>
<a href="#4161" id="4161" class="l"> 4161: </a>        <span class="php-var">$nodes</span>[ <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO'</span> ]-&gt;Term()-&gt;GID()
<a href="#4162" id="4162" class="l"> 4162: </a>               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4163" id="4163" class="l"> 4163: </a>               .<span class="php-quote">'639'</span> ] = <span class="php-var">$node</span>;
<a href="#4164" id="4164" class="l"> 4164: </a>        <span class="php-comment">//</span>
<a href="#4165" id="4165" class="l"> 4165: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#4166" id="4166" class="l"> 4166: </a>        <span class="php-comment">//</span>
<a href="#4167" id="4167" class="l"> 4167: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO'</span> ] );
<a href="#4168" id="4168" class="l"> 4168: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4169" id="4169" class="l"> 4169: </a>        <span class="php-comment">//</span>
<a href="#4170" id="4170" class="l"> 4170: </a>        <span class="php-comment">// Display.</span>
<a href="#4171" id="4171" class="l"> 4171: </a>        <span class="php-comment">//</span>
<a href="#4172" id="4172" class="l"> 4172: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4173" id="4173" class="l"> 4173: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4174" id="4174" class="l"> 4174: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#4175" id="4175" class="l"> 4175: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#4176" id="4176" class="l"> 4176: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#4177" id="4177" class="l"> 4177: </a>        
<a href="#4178" id="4178" class="l"> 4178: </a>        <span class="php-comment">//</span>
<a href="#4179" id="4179" class="l"> 4179: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#4180" id="4180" class="l"> 4180: </a>        <span class="php-comment">//</span>
<a href="#4181" id="4181" class="l"> 4181: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#4182" id="4182" class="l"> 4182: </a>        (
<a href="#4183" id="4183" class="l"> 4183: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'PrintName'</span>,
<a href="#4184" id="4184" class="l"> 4184: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Name associated with the language'</span>,
<a href="#4185" id="4185" class="l"> 4185: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'One of the names associated with the language.'</span> ),
<a href="#4186" id="4186" class="l"> 4186: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'InvertedName'</span>,
<a href="#4187" id="4187" class="l"> 4187: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Name associated with the language'</span>,
<a href="#4188" id="4188" class="l"> 4188: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'One of the names associated with the language.'</span> )
<a href="#4189" id="4189" class="l"> 4189: </a>        );
<a href="#4190" id="4190" class="l"> 4190: </a>        
<a href="#4191" id="4191" class="l"> 4191: </a>        <span class="php-comment">//</span>
<a href="#4192" id="4192" class="l"> 4192: </a>        <span class="php-comment">// Load data.</span>
<a href="#4193" id="4193" class="l"> 4193: </a>        <span class="php-comment">//</span>
<a href="#4194" id="4194" class="l"> 4194: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#4195" id="4195" class="l"> 4195: </a>        {
<a href="#4196" id="4196" class="l"> 4196: </a>            <span class="php-comment">//</span>
<a href="#4197" id="4197" class="l"> 4197: </a>            <span class="php-comment">// Handle term.</span>
<a href="#4198" id="4198" class="l"> 4198: </a>            <span class="php-comment">//</span>
<a href="#4199" id="4199" class="l"> 4199: </a>            <span class="php-var">$term</span>
<a href="#4200" id="4200" class="l"> 4200: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4201" id="4201" class="l"> 4201: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#4202" id="4202" class="l"> 4202: </a>                        COntologyTerm::HashIndex(
<a href="#4203" id="4203" class="l"> 4203: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639'</span> ]-&gt;Term()-&gt;GID()
<a href="#4204" id="4204" class="l"> 4204: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4205" id="4205" class="l"> 4205: </a>                           .<span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#4206" id="4206" class="l"> 4206: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4207" id="4207" class="l"> 4207: </a>            {
<a href="#4208" id="4208" class="l"> 4208: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639'</span> ]-&gt;Term() );
<a href="#4209" id="4209" class="l"> 4209: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#4210" id="4210" class="l"> 4210: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#4211" id="4211" class="l"> 4211: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#4212" id="4212" class="l"> 4212: </a>                <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#4213" id="4213" class="l"> 4213: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#4214" id="4214" class="l"> 4214: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#4215" id="4215" class="l"> 4215: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4216" id="4216" class="l"> 4216: </a>            }
<a href="#4217" id="4217" class="l"> 4217: </a>            
<a href="#4218" id="4218" class="l"> 4218: </a>            <span class="php-comment">//</span>
<a href="#4219" id="4219" class="l"> 4219: </a>            <span class="php-comment">// Display.</span>
<a href="#4220" id="4220" class="l"> 4220: </a>            <span class="php-comment">//</span>
<a href="#4221" id="4221" class="l"> 4221: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4222" id="4222" class="l"> 4222: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>.<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot;\n&quot;</span> );
<a href="#4223" id="4223" class="l"> 4223: </a>        }
<a href="#4224" id="4224" class="l"> 4224: </a>        
<a href="#4225" id="4225" class="l"> 4225: </a>        <span class="php-comment">//</span>
<a href="#4226" id="4226" class="l"> 4226: </a>        <span class="php-comment">// ISO 639-3.</span>
<a href="#4227" id="4227" class="l"> 4227: </a>        <span class="php-comment">//</span>
<a href="#4228" id="4228" class="l"> 4228: </a>        <span class="php-var">$term</span>
<a href="#4229" id="4229" class="l"> 4229: </a>            = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4230" id="4230" class="l"> 4230: </a>                    <span class="php-var">$theContainer</span>, 
<a href="#4231" id="4231" class="l"> 4231: </a>                    COntologyTerm::HashIndex(
<a href="#4232" id="4232" class="l"> 4232: </a>                        <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639'</span> ]-&gt;Term()-&gt;GID()
<a href="#4233" id="4233" class="l"> 4233: </a>                       .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4234" id="4234" class="l"> 4234: </a>                       .<span class="php-quote">'3'</span> ) );
<a href="#4235" id="4235" class="l"> 4235: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4236" id="4236" class="l"> 4236: </a>        {
<a href="#4237" id="4237" class="l"> 4237: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639'</span> ]-&gt;Term() );
<a href="#4238" id="4238" class="l"> 4238: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'3'</span> );
<a href="#4239" id="4239" class="l"> 4239: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#4240" id="4240" class="l"> 4240: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4241" id="4241" class="l"> 4241: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#4242" id="4242" class="l"> 4242: </a>            ( <span class="php-quote">'Part 3 alpha-3 codes'</span>,
<a href="#4243" id="4243" class="l"> 4243: </a>              kDEFAULT_LANGUAGE );
<a href="#4244" id="4244" class="l"> 4244: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#4245" id="4245" class="l"> 4245: </a>            ( <span class="php-quote">'The standard describes three‐letter codes for identifying languages. '</span>
<a href="#4246" id="4246" class="l"> 4246: </a>             .<span class="php-quote">'It extends the ISO 639-2 alpha-3 codes with an aim to cover all known '</span>
<a href="#4247" id="4247" class="l"> 4247: </a>             .<span class="php-quote">'natural languages. The standard was published by ISO on 2007-02-05.'</span>,
<a href="#4248" id="4248" class="l"> 4248: </a>              kDEFAULT_LANGUAGE );
<a href="#4249" id="4249" class="l"> 4249: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4250" id="4250" class="l"> 4250: </a>        }
<a href="#4251" id="4251" class="l"> 4251: </a>        <span class="php-comment">//</span>
<a href="#4252" id="4252" class="l"> 4252: </a>        <span class="php-comment">// Handle node.</span>
<a href="#4253" id="4253" class="l"> 4253: </a>        <span class="php-comment">//</span>
<a href="#4254" id="4254" class="l"> 4254: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4255" id="4255" class="l"> 4255: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4256" id="4256" class="l"> 4256: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4257" id="4257" class="l"> 4257: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4258" id="4258" class="l"> 4258: </a>        <span class="php-comment">//</span>
<a href="#4259" id="4259" class="l"> 4259: </a>        <span class="php-comment">// Save node.</span>
<a href="#4260" id="4260" class="l"> 4260: </a>        <span class="php-comment">//</span>
<a href="#4261" id="4261" class="l"> 4261: </a>        <span class="php-var">$nodes</span>[ <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639'</span> ]-&gt;Term()-&gt;GID()
<a href="#4262" id="4262" class="l"> 4262: </a>               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4263" id="4263" class="l"> 4263: </a>               .<span class="php-quote">'3'</span> ] = <span class="php-var">$node</span>;
<a href="#4264" id="4264" class="l"> 4264: </a>        <span class="php-comment">//</span>
<a href="#4265" id="4265" class="l"> 4265: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#4266" id="4266" class="l"> 4266: </a>        <span class="php-comment">//</span>
<a href="#4267" id="4267" class="l"> 4267: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639'</span> ] );
<a href="#4268" id="4268" class="l"> 4268: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4269" id="4269" class="l"> 4269: </a>        <span class="php-comment">//</span>
<a href="#4270" id="4270" class="l"> 4270: </a>        <span class="php-comment">// Display.</span>
<a href="#4271" id="4271" class="l"> 4271: </a>        <span class="php-comment">//</span>
<a href="#4272" id="4272" class="l"> 4272: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4273" id="4273" class="l"> 4273: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4274" id="4274" class="l"> 4274: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#4275" id="4275" class="l"> 4275: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#4276" id="4276" class="l"> 4276: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#4277" id="4277" class="l"> 4277: </a>        
<a href="#4278" id="4278" class="l"> 4278: </a>        <span class="php-comment">//</span>
<a href="#4279" id="4279" class="l"> 4279: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#4280" id="4280" class="l"> 4280: </a>        <span class="php-comment">//</span>
<a href="#4281" id="4281" class="l"> 4281: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#4282" id="4282" class="l"> 4282: </a>        (
<a href="#4283" id="4283" class="l"> 4283: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'Part3'</span>,
<a href="#4284" id="4284" class="l"> 4284: </a>                   <span class="php-quote">'pat'</span> =&gt; <span class="php-quote">'[A-Z]{3}'</span>,
<a href="#4285" id="4285" class="l"> 4285: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'3-letter ISO 639-3 identifier'</span>,
<a href="#4286" id="4286" class="l"> 4286: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'ISO 639-3 3 character code identifying a language.'</span> ),
<a href="#4287" id="4287" class="l"> 4287: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'Part2B'</span>,
<a href="#4288" id="4288" class="l"> 4288: </a>                   <span class="php-quote">'pat'</span> =&gt; <span class="php-quote">'[0-9]{3}'</span>,
<a href="#4289" id="4289" class="l"> 4289: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Bibliographic applications 639-2 identifier'</span>,
<a href="#4290" id="4290" class="l"> 4290: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'ISO 639-2 identifier of the bibliographic applications '</span>
<a href="#4291" id="4291" class="l"> 4291: </a>                           .<span class="php-quote">'code set.'</span> ),
<a href="#4292" id="4292" class="l"> 4292: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'Part2T'</span>,
<a href="#4293" id="4293" class="l"> 4293: </a>                   <span class="php-quote">'pat'</span> =&gt; <span class="php-quote">'[0-9]{3}'</span>,
<a href="#4294" id="4294" class="l"> 4294: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Terminology applications 639-2 identifier'</span>,
<a href="#4295" id="4295" class="l"> 4295: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'ISO 639-2 identifier of the terminology applications '</span>
<a href="#4296" id="4296" class="l"> 4296: </a>                           .<span class="php-quote">'code set.'</span> ),
<a href="#4297" id="4297" class="l"> 4297: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'Part1'</span>,
<a href="#4298" id="4298" class="l"> 4298: </a>                   <span class="php-quote">'pat'</span> =&gt; <span class="php-quote">'[0-9]{2}'</span>,
<a href="#4299" id="4299" class="l"> 4299: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'639-1 identifier'</span>,
<a href="#4300" id="4300" class="l"> 4300: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'ISO 639-1 identifier.'</span> )
<a href="#4301" id="4301" class="l"> 4301: </a>        );
<a href="#4302" id="4302" class="l"> 4302: </a>        
<a href="#4303" id="4303" class="l"> 4303: </a>        <span class="php-comment">//</span>
<a href="#4304" id="4304" class="l"> 4304: </a>        <span class="php-comment">// Load data.</span>
<a href="#4305" id="4305" class="l"> 4305: </a>        <span class="php-comment">//</span>
<a href="#4306" id="4306" class="l"> 4306: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#4307" id="4307" class="l"> 4307: </a>        {
<a href="#4308" id="4308" class="l"> 4308: </a>            <span class="php-comment">//</span>
<a href="#4309" id="4309" class="l"> 4309: </a>            <span class="php-comment">// Handle term.</span>
<a href="#4310" id="4310" class="l"> 4310: </a>            <span class="php-comment">//</span>
<a href="#4311" id="4311" class="l"> 4311: </a>            <span class="php-var">$term</span>
<a href="#4312" id="4312" class="l"> 4312: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4313" id="4313" class="l"> 4313: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#4314" id="4314" class="l"> 4314: </a>                        COntologyTerm::HashIndex(
<a href="#4315" id="4315" class="l"> 4315: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ]-&gt;Term()-&gt;GID()
<a href="#4316" id="4316" class="l"> 4316: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4317" id="4317" class="l"> 4317: </a>                           .<span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#4318" id="4318" class="l"> 4318: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4319" id="4319" class="l"> 4319: </a>            {
<a href="#4320" id="4320" class="l"> 4320: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ]-&gt;Term() );
<a href="#4321" id="4321" class="l"> 4321: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#4322" id="4322" class="l"> 4322: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#4323" id="4323" class="l"> 4323: </a>                <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-var">$component</span>[ <span class="php-quote">'pat'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4324" id="4324" class="l"> 4324: </a>                <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4325" id="4325" class="l"> 4325: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#4326" id="4326" class="l"> 4326: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#4327" id="4327" class="l"> 4327: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4328" id="4328" class="l"> 4328: </a>            }
<a href="#4329" id="4329" class="l"> 4329: </a>            
<a href="#4330" id="4330" class="l"> 4330: </a>            <span class="php-comment">//</span>
<a href="#4331" id="4331" class="l"> 4331: </a>            <span class="php-comment">// Handle node.</span>
<a href="#4332" id="4332" class="l"> 4332: </a>            <span class="php-comment">//</span>
<a href="#4333" id="4333" class="l"> 4333: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4334" id="4334" class="l"> 4334: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4335" id="4335" class="l"> 4335: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#4336" id="4336" class="l"> 4336: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#4337" id="4337" class="l"> 4337: </a>            <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4338" id="4338" class="l"> 4338: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4339" id="4339" class="l"> 4339: </a>            
<a href="#4340" id="4340" class="l"> 4340: </a>            <span class="php-comment">//</span>
<a href="#4341" id="4341" class="l"> 4341: </a>            <span class="php-comment">// Save node.</span>
<a href="#4342" id="4342" class="l"> 4342: </a>            <span class="php-comment">//</span>
<a href="#4343" id="4343" class="l"> 4343: </a>            <span class="php-var">$nodes</span>[ <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ]-&gt;Term()-&gt;GID()
<a href="#4344" id="4344" class="l"> 4344: </a>                   .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4345" id="4345" class="l"> 4345: </a>                   .<span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ] = <span class="php-var">$node</span>;
<a href="#4346" id="4346" class="l"> 4346: </a>            
<a href="#4347" id="4347" class="l"> 4347: </a>            <span class="php-comment">//</span>
<a href="#4348" id="4348" class="l"> 4348: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#4349" id="4349" class="l"> 4349: </a>            <span class="php-comment">//</span>
<a href="#4350" id="4350" class="l"> 4350: </a>            <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ] );
<a href="#4351" id="4351" class="l"> 4351: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4352" id="4352" class="l"> 4352: </a>            
<a href="#4353" id="4353" class="l"> 4353: </a>            <span class="php-comment">//</span>
<a href="#4354" id="4354" class="l"> 4354: </a>            <span class="php-comment">// Display.</span>
<a href="#4355" id="4355" class="l"> 4355: </a>            <span class="php-comment">//</span>
<a href="#4356" id="4356" class="l"> 4356: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4357" id="4357" class="l"> 4357: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4358" id="4358" class="l"> 4358: </a>                     .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#4359" id="4359" class="l"> 4359: </a>                     .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#4360" id="4360" class="l"> 4360: </a>                     .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#4361" id="4361" class="l"> 4361: </a>        }
<a href="#4362" id="4362" class="l"> 4362: </a>
<a href="#4363" id="4363" class="l"> 4363: </a>        <span class="php-comment">//</span>
<a href="#4364" id="4364" class="l"> 4364: </a>        <span class="php-comment">// ISO 639-3 - Scope.</span>
<a href="#4365" id="4365" class="l"> 4365: </a>        <span class="php-comment">//</span>
<a href="#4366" id="4366" class="l"> 4366: </a>        <span class="php-var">$term</span>
<a href="#4367" id="4367" class="l"> 4367: </a>            = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4368" id="4368" class="l"> 4368: </a>                    <span class="php-var">$theContainer</span>, 
<a href="#4369" id="4369" class="l"> 4369: </a>                    COntologyTerm::HashIndex(
<a href="#4370" id="4370" class="l"> 4370: </a>                        <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ]-&gt;Term()-&gt;GID()
<a href="#4371" id="4371" class="l"> 4371: </a>                       .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4372" id="4372" class="l"> 4372: </a>                       .<span class="php-quote">'Scope'</span> ) );
<a href="#4373" id="4373" class="l"> 4373: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4374" id="4374" class="l"> 4374: </a>        {
<a href="#4375" id="4375" class="l"> 4375: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ]-&gt;Term() );
<a href="#4376" id="4376" class="l"> 4376: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'Scope'</span> );
<a href="#4377" id="4377" class="l"> 4377: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#4378" id="4378" class="l"> 4378: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4379" id="4379" class="l"> 4379: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#4380" id="4380" class="l"> 4380: </a>            ( <span class="php-quote">'Language scope'</span>,
<a href="#4381" id="4381" class="l"> 4381: </a>              kDEFAULT_LANGUAGE );
<a href="#4382" id="4382" class="l"> 4382: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#4383" id="4383" class="l"> 4383: </a>            ( <span class="php-quote">'ISO 639-3 language scope.'</span>,
<a href="#4384" id="4384" class="l"> 4384: </a>              kDEFAULT_LANGUAGE );
<a href="#4385" id="4385" class="l"> 4385: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4386" id="4386" class="l"> 4386: </a>        }
<a href="#4387" id="4387" class="l"> 4387: </a>        <span class="php-comment">//</span>
<a href="#4388" id="4388" class="l"> 4388: </a>        <span class="php-comment">// Handle node.</span>
<a href="#4389" id="4389" class="l"> 4389: </a>        <span class="php-comment">//</span>
<a href="#4390" id="4390" class="l"> 4390: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4391" id="4391" class="l"> 4391: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4392" id="4392" class="l"> 4392: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#4393" id="4393" class="l"> 4393: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#4394" id="4394" class="l"> 4394: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4395" id="4395" class="l"> 4395: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4396" id="4396" class="l"> 4396: </a>        <span class="php-comment">//</span>
<a href="#4397" id="4397" class="l"> 4397: </a>        <span class="php-comment">// Save node.</span>
<a href="#4398" id="4398" class="l"> 4398: </a>        <span class="php-comment">//</span>
<a href="#4399" id="4399" class="l"> 4399: </a>        <span class="php-var">$nodes</span>[ <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ]-&gt;Term()-&gt;GID()
<a href="#4400" id="4400" class="l"> 4400: </a>               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4401" id="4401" class="l"> 4401: </a>               .<span class="php-quote">'Scope'</span> ] = <span class="php-var">$node</span>;
<a href="#4402" id="4402" class="l"> 4402: </a>        <span class="php-comment">//</span>
<a href="#4403" id="4403" class="l"> 4403: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#4404" id="4404" class="l"> 4404: </a>        <span class="php-comment">//</span>
<a href="#4405" id="4405" class="l"> 4405: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ] );
<a href="#4406" id="4406" class="l"> 4406: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4407" id="4407" class="l"> 4407: </a>        <span class="php-comment">//</span>
<a href="#4408" id="4408" class="l"> 4408: </a>        <span class="php-comment">// Display.</span>
<a href="#4409" id="4409" class="l"> 4409: </a>        <span class="php-comment">//</span>
<a href="#4410" id="4410" class="l"> 4410: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4411" id="4411" class="l"> 4411: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4412" id="4412" class="l"> 4412: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#4413" id="4413" class="l"> 4413: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#4414" id="4414" class="l"> 4414: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#4415" id="4415" class="l"> 4415: </a>        
<a href="#4416" id="4416" class="l"> 4416: </a>        <span class="php-comment">//</span>
<a href="#4417" id="4417" class="l"> 4417: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#4418" id="4418" class="l"> 4418: </a>        <span class="php-comment">//</span>
<a href="#4419" id="4419" class="l"> 4419: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#4420" id="4420" class="l"> 4420: </a>        (
<a href="#4421" id="4421" class="l"> 4421: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'I'</span>,
<a href="#4422" id="4422" class="l"> 4422: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Individual'</span>,
<a href="#4423" id="4423" class="l"> 4423: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Individual language scope.'</span> ),
<a href="#4424" id="4424" class="l"> 4424: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'M'</span>,
<a href="#4425" id="4425" class="l"> 4425: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Macrolanguage'</span>,
<a href="#4426" id="4426" class="l"> 4426: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Macro-language scope.'</span> ),
<a href="#4427" id="4427" class="l"> 4427: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'S'</span>,
<a href="#4428" id="4428" class="l"> 4428: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Special'</span>,
<a href="#4429" id="4429" class="l"> 4429: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Special language scope.'</span> )
<a href="#4430" id="4430" class="l"> 4430: </a>        );
<a href="#4431" id="4431" class="l"> 4431: </a>        
<a href="#4432" id="4432" class="l"> 4432: </a>        <span class="php-comment">//</span>
<a href="#4433" id="4433" class="l"> 4433: </a>        <span class="php-comment">// Load data.</span>
<a href="#4434" id="4434" class="l"> 4434: </a>        <span class="php-comment">//</span>
<a href="#4435" id="4435" class="l"> 4435: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#4436" id="4436" class="l"> 4436: </a>        {
<a href="#4437" id="4437" class="l"> 4437: </a>            <span class="php-comment">//</span>
<a href="#4438" id="4438" class="l"> 4438: </a>            <span class="php-comment">// Handle term.</span>
<a href="#4439" id="4439" class="l"> 4439: </a>            <span class="php-comment">//</span>
<a href="#4440" id="4440" class="l"> 4440: </a>            <span class="php-var">$term</span>
<a href="#4441" id="4441" class="l"> 4441: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4442" id="4442" class="l"> 4442: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#4443" id="4443" class="l"> 4443: </a>                        COntologyTerm::HashIndex(
<a href="#4444" id="4444" class="l"> 4444: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Scope'</span> ]-&gt;Term()-&gt;GID()
<a href="#4445" id="4445" class="l"> 4445: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4446" id="4446" class="l"> 4446: </a>                           .<span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#4447" id="4447" class="l"> 4447: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4448" id="4448" class="l"> 4448: </a>            {
<a href="#4449" id="4449" class="l"> 4449: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Scope'</span> ]-&gt;Term() );
<a href="#4450" id="4450" class="l"> 4450: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#4451" id="4451" class="l"> 4451: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4452" id="4452" class="l"> 4452: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#4453" id="4453" class="l"> 4453: </a>                <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#4454" id="4454" class="l"> 4454: </a>                <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4455" id="4455" class="l"> 4455: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#4456" id="4456" class="l"> 4456: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#4457" id="4457" class="l"> 4457: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4458" id="4458" class="l"> 4458: </a>            }
<a href="#4459" id="4459" class="l"> 4459: </a>            
<a href="#4460" id="4460" class="l"> 4460: </a>            <span class="php-comment">//</span>
<a href="#4461" id="4461" class="l"> 4461: </a>            <span class="php-comment">// Handle node.</span>
<a href="#4462" id="4462" class="l"> 4462: </a>            <span class="php-comment">//</span>
<a href="#4463" id="4463" class="l"> 4463: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4464" id="4464" class="l"> 4464: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4465" id="4465" class="l"> 4465: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4466" id="4466" class="l"> 4466: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#4467" id="4467" class="l"> 4467: </a>            <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4468" id="4468" class="l"> 4468: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4469" id="4469" class="l"> 4469: </a>            
<a href="#4470" id="4470" class="l"> 4470: </a>            <span class="php-comment">//</span>
<a href="#4471" id="4471" class="l"> 4471: </a>            <span class="php-comment">// Save node.</span>
<a href="#4472" id="4472" class="l"> 4472: </a>            <span class="php-comment">//</span>
<a href="#4473" id="4473" class="l"> 4473: </a>            <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Scope'</span>
<a href="#4474" id="4474" class="l"> 4474: </a>                   .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4475" id="4475" class="l"> 4475: </a>                   .<span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ] = <span class="php-var">$node</span>;
<a href="#4476" id="4476" class="l"> 4476: </a>            
<a href="#4477" id="4477" class="l"> 4477: </a>            <span class="php-comment">//</span>
<a href="#4478" id="4478" class="l"> 4478: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#4479" id="4479" class="l"> 4479: </a>            <span class="php-comment">//</span>
<a href="#4480" id="4480" class="l"> 4480: </a>            <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Scope'</span> ] );
<a href="#4481" id="4481" class="l"> 4481: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4482" id="4482" class="l"> 4482: </a>            
<a href="#4483" id="4483" class="l"> 4483: </a>            <span class="php-comment">//</span>
<a href="#4484" id="4484" class="l"> 4484: </a>            <span class="php-comment">// Display.</span>
<a href="#4485" id="4485" class="l"> 4485: </a>            <span class="php-comment">//</span>
<a href="#4486" id="4486" class="l"> 4486: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4487" id="4487" class="l"> 4487: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4488" id="4488" class="l"> 4488: </a>                     .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#4489" id="4489" class="l"> 4489: </a>                     .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#4490" id="4490" class="l"> 4490: </a>                     .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#4491" id="4491" class="l"> 4491: </a>        }
<a href="#4492" id="4492" class="l"> 4492: </a>
<a href="#4493" id="4493" class="l"> 4493: </a>        <span class="php-comment">//</span>
<a href="#4494" id="4494" class="l"> 4494: </a>        <span class="php-comment">// ISO 639-3 - Type.</span>
<a href="#4495" id="4495" class="l"> 4495: </a>        <span class="php-comment">//</span>
<a href="#4496" id="4496" class="l"> 4496: </a>        <span class="php-var">$term</span>
<a href="#4497" id="4497" class="l"> 4497: </a>            = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4498" id="4498" class="l"> 4498: </a>                    <span class="php-var">$theContainer</span>, 
<a href="#4499" id="4499" class="l"> 4499: </a>                    COntologyTerm::HashIndex(
<a href="#4500" id="4500" class="l"> 4500: </a>                        <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ]-&gt;Term()-&gt;GID()
<a href="#4501" id="4501" class="l"> 4501: </a>                       .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4502" id="4502" class="l"> 4502: </a>                       .<span class="php-quote">'Type'</span> ) );
<a href="#4503" id="4503" class="l"> 4503: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4504" id="4504" class="l"> 4504: </a>        {
<a href="#4505" id="4505" class="l"> 4505: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ]-&gt;Term() );
<a href="#4506" id="4506" class="l"> 4506: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'Type'</span> );
<a href="#4507" id="4507" class="l"> 4507: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#4508" id="4508" class="l"> 4508: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4509" id="4509" class="l"> 4509: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#4510" id="4510" class="l"> 4510: </a>            ( <span class="php-quote">'Language type'</span>,
<a href="#4511" id="4511" class="l"> 4511: </a>              kDEFAULT_LANGUAGE );
<a href="#4512" id="4512" class="l"> 4512: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#4513" id="4513" class="l"> 4513: </a>            ( <span class="php-quote">'ISO 639-3 language type.'</span>,
<a href="#4514" id="4514" class="l"> 4514: </a>              kDEFAULT_LANGUAGE );
<a href="#4515" id="4515" class="l"> 4515: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4516" id="4516" class="l"> 4516: </a>        }
<a href="#4517" id="4517" class="l"> 4517: </a>        <span class="php-comment">//</span>
<a href="#4518" id="4518" class="l"> 4518: </a>        <span class="php-comment">// Handle node.</span>
<a href="#4519" id="4519" class="l"> 4519: </a>        <span class="php-comment">//</span>
<a href="#4520" id="4520" class="l"> 4520: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4521" id="4521" class="l"> 4521: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4522" id="4522" class="l"> 4522: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#4523" id="4523" class="l"> 4523: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#4524" id="4524" class="l"> 4524: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4525" id="4525" class="l"> 4525: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4526" id="4526" class="l"> 4526: </a>        <span class="php-comment">//</span>
<a href="#4527" id="4527" class="l"> 4527: </a>        <span class="php-comment">// Save node.</span>
<a href="#4528" id="4528" class="l"> 4528: </a>        <span class="php-comment">//</span>
<a href="#4529" id="4529" class="l"> 4529: </a>        <span class="php-var">$nodes</span>[ <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ]-&gt;Term()-&gt;GID()
<a href="#4530" id="4530" class="l"> 4530: </a>               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4531" id="4531" class="l"> 4531: </a>               .<span class="php-quote">'Type'</span> ] = <span class="php-var">$node</span>;
<a href="#4532" id="4532" class="l"> 4532: </a>        <span class="php-comment">//</span>
<a href="#4533" id="4533" class="l"> 4533: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#4534" id="4534" class="l"> 4534: </a>        <span class="php-comment">//</span>
<a href="#4535" id="4535" class="l"> 4535: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3'</span> ] );
<a href="#4536" id="4536" class="l"> 4536: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4537" id="4537" class="l"> 4537: </a>        <span class="php-comment">//</span>
<a href="#4538" id="4538" class="l"> 4538: </a>        <span class="php-comment">// Display.</span>
<a href="#4539" id="4539" class="l"> 4539: </a>        <span class="php-comment">//</span>
<a href="#4540" id="4540" class="l"> 4540: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4541" id="4541" class="l"> 4541: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4542" id="4542" class="l"> 4542: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#4543" id="4543" class="l"> 4543: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#4544" id="4544" class="l"> 4544: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#4545" id="4545" class="l"> 4545: </a>
<a href="#4546" id="4546" class="l"> 4546: </a>        <span class="php-comment">//</span>
<a href="#4547" id="4547" class="l"> 4547: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#4548" id="4548" class="l"> 4548: </a>        <span class="php-comment">//</span>
<a href="#4549" id="4549" class="l"> 4549: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#4550" id="4550" class="l"> 4550: </a>        (
<a href="#4551" id="4551" class="l"> 4551: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'A'</span>,
<a href="#4552" id="4552" class="l"> 4552: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Ancient'</span>,
<a href="#4553" id="4553" class="l"> 4553: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Ancient language type.'</span> ),
<a href="#4554" id="4554" class="l"> 4554: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'C'</span>,
<a href="#4555" id="4555" class="l"> 4555: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Constructed'</span>,
<a href="#4556" id="4556" class="l"> 4556: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Constructed language type.'</span> ),
<a href="#4557" id="4557" class="l"> 4557: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'E'</span>,
<a href="#4558" id="4558" class="l"> 4558: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Extinct'</span>,
<a href="#4559" id="4559" class="l"> 4559: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Extinct language type.'</span> ),
<a href="#4560" id="4560" class="l"> 4560: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'H'</span>,
<a href="#4561" id="4561" class="l"> 4561: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Historical'</span>,
<a href="#4562" id="4562" class="l"> 4562: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Historical language type.'</span> ),
<a href="#4563" id="4563" class="l"> 4563: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'L'</span>,
<a href="#4564" id="4564" class="l"> 4564: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Living'</span>,
<a href="#4565" id="4565" class="l"> 4565: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Living language type.'</span> ),
<a href="#4566" id="4566" class="l"> 4566: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'S'</span>,
<a href="#4567" id="4567" class="l"> 4567: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'Special'</span>,
<a href="#4568" id="4568" class="l"> 4568: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'Special language type.'</span> )
<a href="#4569" id="4569" class="l"> 4569: </a>        );
<a href="#4570" id="4570" class="l"> 4570: </a>        
<a href="#4571" id="4571" class="l"> 4571: </a>        <span class="php-comment">//</span>
<a href="#4572" id="4572" class="l"> 4572: </a>        <span class="php-comment">// Load data.</span>
<a href="#4573" id="4573" class="l"> 4573: </a>        <span class="php-comment">//</span>
<a href="#4574" id="4574" class="l"> 4574: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#4575" id="4575" class="l"> 4575: </a>        {
<a href="#4576" id="4576" class="l"> 4576: </a>            <span class="php-comment">//</span>
<a href="#4577" id="4577" class="l"> 4577: </a>            <span class="php-comment">// Handle term.</span>
<a href="#4578" id="4578" class="l"> 4578: </a>            <span class="php-comment">//</span>
<a href="#4579" id="4579" class="l"> 4579: </a>            <span class="php-var">$term</span>
<a href="#4580" id="4580" class="l"> 4580: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4581" id="4581" class="l"> 4581: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#4582" id="4582" class="l"> 4582: </a>                        COntologyTerm::HashIndex(
<a href="#4583" id="4583" class="l"> 4583: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Type'</span> ]-&gt;Term()-&gt;GID()
<a href="#4584" id="4584" class="l"> 4584: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4585" id="4585" class="l"> 4585: </a>                           .<span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#4586" id="4586" class="l"> 4586: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4587" id="4587" class="l"> 4587: </a>            {
<a href="#4588" id="4588" class="l"> 4588: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Type'</span> ]-&gt;Term() );
<a href="#4589" id="4589" class="l"> 4589: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#4590" id="4590" class="l"> 4590: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4591" id="4591" class="l"> 4591: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#4592" id="4592" class="l"> 4592: </a>                <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#4593" id="4593" class="l"> 4593: </a>                <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4594" id="4594" class="l"> 4594: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#4595" id="4595" class="l"> 4595: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#4596" id="4596" class="l"> 4596: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4597" id="4597" class="l"> 4597: </a>            }
<a href="#4598" id="4598" class="l"> 4598: </a>            
<a href="#4599" id="4599" class="l"> 4599: </a>            <span class="php-comment">//</span>
<a href="#4600" id="4600" class="l"> 4600: </a>            <span class="php-comment">// Handle node.</span>
<a href="#4601" id="4601" class="l"> 4601: </a>            <span class="php-comment">//</span>
<a href="#4602" id="4602" class="l"> 4602: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4603" id="4603" class="l"> 4603: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4604" id="4604" class="l"> 4604: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4605" id="4605" class="l"> 4605: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#4606" id="4606" class="l"> 4606: </a>            <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4607" id="4607" class="l"> 4607: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4608" id="4608" class="l"> 4608: </a>            
<a href="#4609" id="4609" class="l"> 4609: </a>            <span class="php-comment">//</span>
<a href="#4610" id="4610" class="l"> 4610: </a>            <span class="php-comment">// Save node.</span>
<a href="#4611" id="4611" class="l"> 4611: </a>            <span class="php-comment">//</span>
<a href="#4612" id="4612" class="l"> 4612: </a>            <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Type'</span>
<a href="#4613" id="4613" class="l"> 4613: </a>                   .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4614" id="4614" class="l"> 4614: </a>                   .<span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ] = <span class="php-var">$node</span>;
<a href="#4615" id="4615" class="l"> 4615: </a>            
<a href="#4616" id="4616" class="l"> 4616: </a>            <span class="php-comment">//</span>
<a href="#4617" id="4617" class="l"> 4617: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#4618" id="4618" class="l"> 4618: </a>            <span class="php-comment">//</span>
<a href="#4619" id="4619" class="l"> 4619: </a>            <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Type'</span> ] );
<a href="#4620" id="4620" class="l"> 4620: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4621" id="4621" class="l"> 4621: </a>            
<a href="#4622" id="4622" class="l"> 4622: </a>            <span class="php-comment">//</span>
<a href="#4623" id="4623" class="l"> 4623: </a>            <span class="php-comment">// Display.</span>
<a href="#4624" id="4624" class="l"> 4624: </a>            <span class="php-comment">//</span>
<a href="#4625" id="4625" class="l"> 4625: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4626" id="4626" class="l"> 4626: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4627" id="4627" class="l"> 4627: </a>                     .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#4628" id="4628" class="l"> 4628: </a>                     .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#4629" id="4629" class="l"> 4629: </a>                     .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#4630" id="4630" class="l"> 4630: </a>        }
<a href="#4631" id="4631" class="l"> 4631: </a>
<a href="#4632" id="4632" class="l"> 4632: </a>        <span class="php-comment">//</span>
<a href="#4633" id="4633" class="l"> 4633: </a>        <span class="php-comment">// Load language codes.</span>
<a href="#4634" id="4634" class="l"> 4634: </a>        <span class="php-comment">//</span>
<a href="#4635" id="4635" class="l"> 4635: </a>        <span class="php-var">$language_nodes</span> = <span class="php-keyword1">Array</span>();
<a href="#4636" id="4636" class="l"> 4636: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#4637" id="4637" class="l"> 4637: </a><span class="php-quote">SELECT
</span><a href="#4638" id="4638" class="l"> 4638: </a><span class="php-quote">    `Code_ISO_639_3`.`Code3`,
</span><a href="#4639" id="4639" class="l"> 4639: </a><span class="php-quote">    `Code_ISO_639_3`.`Part2B`,
</span><a href="#4640" id="4640" class="l"> 4640: </a><span class="php-quote">    `Code_ISO_639_3`.`Part2T`,
</span><a href="#4641" id="4641" class="l"> 4641: </a><span class="php-quote">    `Code_ISO_639_3`.`Part1`,
</span><a href="#4642" id="4642" class="l"> 4642: </a><span class="php-quote">    `Code_ISO_639_3`.`Scope`,
</span><a href="#4643" id="4643" class="l"> 4643: </a><span class="php-quote">    `Code_ISO_639_3`.`Type`,
</span><a href="#4644" id="4644" class="l"> 4644: </a><span class="php-quote">    `Code_ISO_639_3`.`ReferenceName`,
</span><a href="#4645" id="4645" class="l"> 4645: </a><span class="php-quote">    `Code_ISO_639_3_Names`.`PrintName`,
</span><a href="#4646" id="4646" class="l"> 4646: </a><span class="php-quote">    `Code_ISO_639_3_Names`.`InvertedName`,
</span><a href="#4647" id="4647" class="l"> 4647: </a><span class="php-quote">    `Code_ISO_639_3`.`Comment`
</span><a href="#4648" id="4648" class="l"> 4648: </a><span class="php-quote">FROM
</span><a href="#4649" id="4649" class="l"> 4649: </a><span class="php-quote">    `Code_ISO_639_3`
</span><a href="#4650" id="4650" class="l"> 4650: </a><span class="php-quote">        LEFT JOIN `Code_ISO_639_3_Names`
</span><a href="#4651" id="4651" class="l"> 4651: </a><span class="php-quote">            ON( `Code_ISO_639_3_Names`.`Language` = `Code_ISO_639_3`.`Code3` )
</span><a href="#4652" id="4652" class="l"> 4652: </a><span class="php-quote">ORDER BY
</span><a href="#4653" id="4653" class="l"> 4653: </a><span class="php-quote">    `Code_ISO_639_3`.`Code3`
</span><a href="#4654" id="4654" class="l"> 4654: </a><span class="php-quote">EOT;
</span><a href="#4655" id="4655" class="l"> 4655: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#4656" id="4656" class="l"> 4656: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#4657" id="4657" class="l"> 4657: </a>        {
<a href="#4658" id="4658" class="l"> 4658: </a>            <span class="php-comment">//</span>
<a href="#4659" id="4659" class="l"> 4659: </a>            <span class="php-comment">// Create Code3 term.</span>
<a href="#4660" id="4660" class="l"> 4660: </a>            <span class="php-comment">//</span>
<a href="#4661" id="4661" class="l"> 4661: </a>            <span class="php-var">$term</span>
<a href="#4662" id="4662" class="l"> 4662: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4663" id="4663" class="l"> 4663: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#4664" id="4664" class="l"> 4664: </a>                        COntologyTerm::HashIndex(
<a href="#4665" id="4665" class="l"> 4665: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part3'</span> ]-&gt;Term()-&gt;GID()
<a href="#4666" id="4666" class="l"> 4666: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4667" id="4667" class="l"> 4667: </a>                           .<span class="php-var">$record</span>[ <span class="php-quote">'Code3'</span> ] ) );
<a href="#4668" id="4668" class="l"> 4668: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4669" id="4669" class="l"> 4669: </a>            {
<a href="#4670" id="4670" class="l"> 4670: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part3'</span> ]-&gt;Term() );
<a href="#4671" id="4671" class="l"> 4671: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Code3'</span> ] );
<a href="#4672" id="4672" class="l"> 4672: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4673" id="4673" class="l"> 4673: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#4674" id="4674" class="l"> 4674: </a>                <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#4675" id="4675" class="l"> 4675: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part2B'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4676" id="4676" class="l"> 4676: </a>                    <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Part2B'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#4677" id="4677" class="l"> 4677: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part2T'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4678" id="4678" class="l"> 4678: </a>                    <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Part2T'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#4679" id="4679" class="l"> 4679: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part1'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4680" id="4680" class="l"> 4680: </a>                    <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Part1'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#4681" id="4681" class="l"> 4681: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Scope'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4682" id="4682" class="l"> 4682: </a>                    <span class="php-var">$term</span>-&gt;Domain( <span class="php-quote">'ISO:639:3:Scope:'</span>.<span class="php-var">$record</span>[ <span class="php-quote">'Scope'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4683" id="4683" class="l"> 4683: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Type'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4684" id="4684" class="l"> 4684: </a>                    <span class="php-var">$term</span>-&gt;Domain( <span class="php-quote">'ISO:639:3:Type:'</span>.<span class="php-var">$record</span>[ <span class="php-quote">'Type'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4685" id="4685" class="l"> 4685: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'ReferenceName'</span> ], kDEFAULT_LANGUAGE );
<a href="#4686" id="4686" class="l"> 4686: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'PrintName'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4687" id="4687" class="l"> 4687: </a>                    <span class="php-var">$term</span>[ <span class="php-quote">'ISO:639:PrintName'</span> ] = <span class="php-var">$record</span>[ <span class="php-quote">'PrintName'</span> ];
<a href="#4688" id="4688" class="l"> 4688: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'InvertedName'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4689" id="4689" class="l"> 4689: </a>                    <span class="php-var">$term</span>[ <span class="php-quote">'ISO:639:InvertedName'</span> ] = <span class="php-var">$record</span>[ <span class="php-quote">'InvertedName'</span> ];
<a href="#4690" id="4690" class="l"> 4690: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Comment'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4691" id="4691" class="l"> 4691: </a>                    <span class="php-var">$term</span>-&gt;Description( <span class="php-var">$record</span>[ <span class="php-quote">'Comment'</span> ], kDEFAULT_LANGUAGE );
<a href="#4692" id="4692" class="l"> 4692: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4693" id="4693" class="l"> 4693: </a>            }
<a href="#4694" id="4694" class="l"> 4694: </a>
<a href="#4695" id="4695" class="l"> 4695: </a>            <span class="php-comment">//</span>
<a href="#4696" id="4696" class="l"> 4696: </a>            <span class="php-comment">// Save main term.</span>
<a href="#4697" id="4697" class="l"> 4697: </a>            <span class="php-comment">//</span>
<a href="#4698" id="4698" class="l"> 4698: </a>            <span class="php-var">$term_main</span> = <span class="php-var">$term</span>;
<a href="#4699" id="4699" class="l"> 4699: </a>            <span class="php-var">$idx_main</span> = <span class="php-var">$term</span>-&gt;Code();
<a href="#4700" id="4700" class="l"> 4700: </a>
<a href="#4701" id="4701" class="l"> 4701: </a>            <span class="php-comment">//</span>
<a href="#4702" id="4702" class="l"> 4702: </a>            <span class="php-comment">// Handle node.</span>
<a href="#4703" id="4703" class="l"> 4703: </a>            <span class="php-comment">//</span>
<a href="#4704" id="4704" class="l"> 4704: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4705" id="4705" class="l"> 4705: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4706" id="4706" class="l"> 4706: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4707" id="4707" class="l"> 4707: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#4708" id="4708" class="l"> 4708: </a>            <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4709" id="4709" class="l"> 4709: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4710" id="4710" class="l"> 4710: </a>            
<a href="#4711" id="4711" class="l"> 4711: </a>            <span class="php-comment">//</span>
<a href="#4712" id="4712" class="l"> 4712: </a>            <span class="php-comment">// Save main node.</span>
<a href="#4713" id="4713" class="l"> 4713: </a>            <span class="php-comment">//</span>
<a href="#4714" id="4714" class="l"> 4714: </a>            <span class="php-var">$node_main</span> = <span class="php-var">$node</span>;
<a href="#4715" id="4715" class="l"> 4715: </a>            <span class="php-var">$language_nodes</span>[ <span class="php-var">$idx_main</span> ] = <span class="php-keyword1">array</span>( <span class="php-quote">'Part3'</span> =&gt; <span class="php-var">$node</span> );
<a href="#4716" id="4716" class="l"> 4716: </a>            
<a href="#4717" id="4717" class="l"> 4717: </a>            <span class="php-comment">//</span>
<a href="#4718" id="4718" class="l"> 4718: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#4719" id="4719" class="l"> 4719: </a>            <span class="php-comment">//</span>
<a href="#4720" id="4720" class="l"> 4720: </a>            <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part3'</span> ] );
<a href="#4721" id="4721" class="l"> 4721: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4722" id="4722" class="l"> 4722: </a>            
<a href="#4723" id="4723" class="l"> 4723: </a>            <span class="php-comment">//</span>
<a href="#4724" id="4724" class="l"> 4724: </a>            <span class="php-comment">// Display.</span>
<a href="#4725" id="4725" class="l"> 4725: </a>            <span class="php-comment">//</span>
<a href="#4726" id="4726" class="l"> 4726: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4727" id="4727" class="l"> 4727: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4728" id="4728" class="l"> 4728: </a>                     .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#4729" id="4729" class="l"> 4729: </a>                     .<span class="php-quote">&quot; [&quot;</span>
<a href="#4730" id="4730" class="l"> 4730: </a>                     .<span class="php-var">$node</span>-&gt;Node()-&gt;getId()
<a href="#4731" id="4731" class="l"> 4731: </a>                     .<span class="php-quote">&quot;]\n&quot;</span> );
<a href="#4732" id="4732" class="l"> 4732: </a>        
<a href="#4733" id="4733" class="l"> 4733: </a>            <span class="php-comment">//</span>
<a href="#4734" id="4734" class="l"> 4734: </a>            <span class="php-comment">// Handle Part2B code.</span>
<a href="#4735" id="4735" class="l"> 4735: </a>            <span class="php-comment">//</span>
<a href="#4736" id="4736" class="l"> 4736: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part2B'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4737" id="4737" class="l"> 4737: </a>            {
<a href="#4738" id="4738" class="l"> 4738: </a>                <span class="php-comment">//</span>
<a href="#4739" id="4739" class="l"> 4739: </a>                <span class="php-comment">// Create Part2B term.</span>
<a href="#4740" id="4740" class="l"> 4740: </a>                <span class="php-comment">//</span>
<a href="#4741" id="4741" class="l"> 4741: </a>                <span class="php-var">$term</span>
<a href="#4742" id="4742" class="l"> 4742: </a>                    = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4743" id="4743" class="l"> 4743: </a>                            <span class="php-var">$theContainer</span>, 
<a href="#4744" id="4744" class="l"> 4744: </a>                            COntologyTerm::HashIndex(
<a href="#4745" id="4745" class="l"> 4745: </a>                                <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part2B'</span> ]-&gt;Term()-&gt;GID()
<a href="#4746" id="4746" class="l"> 4746: </a>                               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4747" id="4747" class="l"> 4747: </a>                               .<span class="php-var">$record</span>[ <span class="php-quote">'Code3'</span> ] ) );
<a href="#4748" id="4748" class="l"> 4748: </a>                <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4749" id="4749" class="l"> 4749: </a>                {
<a href="#4750" id="4750" class="l"> 4750: </a>                    <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part2B'</span> ]-&gt;Term() );
<a href="#4751" id="4751" class="l"> 4751: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Part2B'</span> ] );
<a href="#4752" id="4752" class="l"> 4752: </a>                    <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4753" id="4753" class="l"> 4753: </a>                    <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#4754" id="4754" class="l"> 4754: </a>                    <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#4755" id="4755" class="l"> 4755: </a>                    <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$record</span>[ <span class="php-quote">'Code3'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4756" id="4756" class="l"> 4756: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Scope'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4757" id="4757" class="l"> 4757: </a>                        <span class="php-var">$term</span>-&gt;Domain( <span class="php-quote">'ISO:639:3:Scope:'</span>.<span class="php-var">$record</span>[ <span class="php-quote">'Scope'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4758" id="4758" class="l"> 4758: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Type'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4759" id="4759" class="l"> 4759: </a>                        <span class="php-var">$term</span>-&gt;Domain( <span class="php-quote">'ISO:639:3:Type:'</span>.<span class="php-var">$record</span>[ <span class="php-quote">'Type'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4760" id="4760" class="l"> 4760: </a>                    <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'ReferenceName'</span> ], kDEFAULT_LANGUAGE );
<a href="#4761" id="4761" class="l"> 4761: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part2T'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4762" id="4762" class="l"> 4762: </a>                        <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Part2T'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#4763" id="4763" class="l"> 4763: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part1'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4764" id="4764" class="l"> 4764: </a>                        <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Part1'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#4765" id="4765" class="l"> 4765: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'PrintName'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4766" id="4766" class="l"> 4766: </a>                        <span class="php-var">$term</span>[ <span class="php-quote">'ISO:639:PrintName'</span> ] = <span class="php-var">$record</span>[ <span class="php-quote">'PrintName'</span> ];
<a href="#4767" id="4767" class="l"> 4767: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'InvertedName'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4768" id="4768" class="l"> 4768: </a>                        <span class="php-var">$term</span>[ <span class="php-quote">'ISO:639:InvertedName'</span> ] = <span class="php-var">$record</span>[ <span class="php-quote">'InvertedName'</span> ];
<a href="#4769" id="4769" class="l"> 4769: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Comment'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4770" id="4770" class="l"> 4770: </a>                        <span class="php-var">$term</span>-&gt;Description( <span class="php-var">$record</span>[ <span class="php-quote">'Comment'</span> ], kDEFAULT_LANGUAGE );
<a href="#4771" id="4771" class="l"> 4771: </a>                    <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4772" id="4772" class="l"> 4772: </a>                }
<a href="#4773" id="4773" class="l"> 4773: </a>    
<a href="#4774" id="4774" class="l"> 4774: </a>                <span class="php-comment">//</span>
<a href="#4775" id="4775" class="l"> 4775: </a>                <span class="php-comment">// Save term.</span>
<a href="#4776" id="4776" class="l"> 4776: </a>                <span class="php-comment">//</span>
<a href="#4777" id="4777" class="l"> 4777: </a>                <span class="php-var">$term_alt1</span> = <span class="php-var">$term</span>;
<a href="#4778" id="4778" class="l"> 4778: </a>    
<a href="#4779" id="4779" class="l"> 4779: </a>                <span class="php-comment">//</span>
<a href="#4780" id="4780" class="l"> 4780: </a>                <span class="php-comment">// Handle node.</span>
<a href="#4781" id="4781" class="l"> 4781: </a>                <span class="php-comment">//</span>
<a href="#4782" id="4782" class="l"> 4782: </a>                <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4783" id="4783" class="l"> 4783: </a>                <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4784" id="4784" class="l"> 4784: </a>                <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4785" id="4785" class="l"> 4785: </a>                <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#4786" id="4786" class="l"> 4786: </a>                <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4787" id="4787" class="l"> 4787: </a>                <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4788" id="4788" class="l"> 4788: </a>                
<a href="#4789" id="4789" class="l"> 4789: </a>                <span class="php-comment">//</span>
<a href="#4790" id="4790" class="l"> 4790: </a>                <span class="php-comment">// Save node.</span>
<a href="#4791" id="4791" class="l"> 4791: </a>                <span class="php-comment">//</span>
<a href="#4792" id="4792" class="l"> 4792: </a>                <span class="php-var">$node_alt1</span> = <span class="php-var">$node</span>;
<a href="#4793" id="4793" class="l"> 4793: </a>                <span class="php-var">$language_nodes</span>[ <span class="php-var">$idx_main</span> ][ <span class="php-quote">'Part2B'</span> ] = <span class="php-var">$node</span>;
<a href="#4794" id="4794" class="l"> 4794: </a>                
<a href="#4795" id="4795" class="l"> 4795: </a>                <span class="php-comment">//</span>
<a href="#4796" id="4796" class="l"> 4796: </a>                <span class="php-comment">// Handle edge.</span>
<a href="#4797" id="4797" class="l"> 4797: </a>                <span class="php-comment">//</span>
<a href="#4798" id="4798" class="l"> 4798: </a>                <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part2B'</span> ] );
<a href="#4799" id="4799" class="l"> 4799: </a>                <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4800" id="4800" class="l"> 4800: </a>                
<a href="#4801" id="4801" class="l"> 4801: </a>                <span class="php-comment">//</span>
<a href="#4802" id="4802" class="l"> 4802: </a>                <span class="php-comment">// Display.</span>
<a href="#4803" id="4803" class="l"> 4803: </a>                <span class="php-comment">//</span>
<a href="#4804" id="4804" class="l"> 4804: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4805" id="4805" class="l"> 4805: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4806" id="4806" class="l"> 4806: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#4807" id="4807" class="l"> 4807: </a>                         .<span class="php-quote">&quot; [&quot;</span>
<a href="#4808" id="4808" class="l"> 4808: </a>                         .<span class="php-var">$node</span>-&gt;Node()-&gt;getId()
<a href="#4809" id="4809" class="l"> 4809: </a>                         .<span class="php-quote">&quot;]\n&quot;</span> );
<a href="#4810" id="4810" class="l"> 4810: </a>            }
<a href="#4811" id="4811" class="l"> 4811: </a>            <span class="php-keyword1">else</span>
<a href="#4812" id="4812" class="l"> 4812: </a>                <span class="php-var">$term_alt1</span> = <span class="php-keyword1">NULL</span>;
<a href="#4813" id="4813" class="l"> 4813: </a>        
<a href="#4814" id="4814" class="l"> 4814: </a>            <span class="php-comment">//</span>
<a href="#4815" id="4815" class="l"> 4815: </a>            <span class="php-comment">// Handle Part2T code.</span>
<a href="#4816" id="4816" class="l"> 4816: </a>            <span class="php-comment">//</span>
<a href="#4817" id="4817" class="l"> 4817: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part2T'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4818" id="4818" class="l"> 4818: </a>            {
<a href="#4819" id="4819" class="l"> 4819: </a>                <span class="php-comment">//</span>
<a href="#4820" id="4820" class="l"> 4820: </a>                <span class="php-comment">// Create Code3 term.</span>
<a href="#4821" id="4821" class="l"> 4821: </a>                <span class="php-comment">//</span>
<a href="#4822" id="4822" class="l"> 4822: </a>                <span class="php-var">$term</span>
<a href="#4823" id="4823" class="l"> 4823: </a>                    = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4824" id="4824" class="l"> 4824: </a>                            <span class="php-var">$theContainer</span>, 
<a href="#4825" id="4825" class="l"> 4825: </a>                            COntologyTerm::HashIndex(
<a href="#4826" id="4826" class="l"> 4826: </a>                                <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part2T'</span> ]-&gt;Term()-&gt;GID()
<a href="#4827" id="4827" class="l"> 4827: </a>                               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4828" id="4828" class="l"> 4828: </a>                               .<span class="php-var">$record</span>[ <span class="php-quote">'Part2T'</span> ] ) );
<a href="#4829" id="4829" class="l"> 4829: </a>                <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4830" id="4830" class="l"> 4830: </a>                {
<a href="#4831" id="4831" class="l"> 4831: </a>                    <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part2T'</span> ]-&gt;Term() );
<a href="#4832" id="4832" class="l"> 4832: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Part2T'</span> ] );
<a href="#4833" id="4833" class="l"> 4833: </a>                    <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4834" id="4834" class="l"> 4834: </a>                    <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#4835" id="4835" class="l"> 4835: </a>                    <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#4836" id="4836" class="l"> 4836: </a>                    <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$record</span>[ <span class="php-quote">'Code3'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4837" id="4837" class="l"> 4837: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Scope'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4838" id="4838" class="l"> 4838: </a>                        <span class="php-var">$term</span>-&gt;Domain( <span class="php-quote">'ISO:639:3:Scope:'</span>.<span class="php-var">$record</span>[ <span class="php-quote">'Scope'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4839" id="4839" class="l"> 4839: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Type'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4840" id="4840" class="l"> 4840: </a>                        <span class="php-var">$term</span>-&gt;Domain( <span class="php-quote">'ISO:639:3:Type:'</span>.<span class="php-var">$record</span>[ <span class="php-quote">'Type'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4841" id="4841" class="l"> 4841: </a>                    <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'ReferenceName'</span> ], kDEFAULT_LANGUAGE );
<a href="#4842" id="4842" class="l"> 4842: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part2B'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4843" id="4843" class="l"> 4843: </a>                        <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Part2B'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#4844" id="4844" class="l"> 4844: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part1'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4845" id="4845" class="l"> 4845: </a>                        <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Part1'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#4846" id="4846" class="l"> 4846: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'PrintName'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4847" id="4847" class="l"> 4847: </a>                        <span class="php-var">$term</span>[ <span class="php-quote">'ISO:639:PrintName'</span> ] = <span class="php-var">$record</span>[ <span class="php-quote">'PrintName'</span> ];
<a href="#4848" id="4848" class="l"> 4848: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'InvertedName'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4849" id="4849" class="l"> 4849: </a>                        <span class="php-var">$term</span>[ <span class="php-quote">'ISO:639:InvertedName'</span> ] = <span class="php-var">$record</span>[ <span class="php-quote">'InvertedName'</span> ];
<a href="#4850" id="4850" class="l"> 4850: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Comment'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4851" id="4851" class="l"> 4851: </a>                        <span class="php-var">$term</span>-&gt;Description( <span class="php-var">$record</span>[ <span class="php-quote">'Comment'</span> ], kDEFAULT_LANGUAGE );
<a href="#4852" id="4852" class="l"> 4852: </a>                    <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4853" id="4853" class="l"> 4853: </a>                }
<a href="#4854" id="4854" class="l"> 4854: </a>    
<a href="#4855" id="4855" class="l"> 4855: </a>                <span class="php-comment">//</span>
<a href="#4856" id="4856" class="l"> 4856: </a>                <span class="php-comment">// Save term.</span>
<a href="#4857" id="4857" class="l"> 4857: </a>                <span class="php-comment">//</span>
<a href="#4858" id="4858" class="l"> 4858: </a>                <span class="php-var">$term_alt2</span> = <span class="php-var">$term</span>;
<a href="#4859" id="4859" class="l"> 4859: </a>    
<a href="#4860" id="4860" class="l"> 4860: </a>                <span class="php-comment">//</span>
<a href="#4861" id="4861" class="l"> 4861: </a>                <span class="php-comment">// Handle node.</span>
<a href="#4862" id="4862" class="l"> 4862: </a>                <span class="php-comment">//</span>
<a href="#4863" id="4863" class="l"> 4863: </a>                <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4864" id="4864" class="l"> 4864: </a>                <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4865" id="4865" class="l"> 4865: </a>                <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4866" id="4866" class="l"> 4866: </a>                <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#4867" id="4867" class="l"> 4867: </a>                <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4868" id="4868" class="l"> 4868: </a>                <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4869" id="4869" class="l"> 4869: </a>                
<a href="#4870" id="4870" class="l"> 4870: </a>                <span class="php-comment">//</span>
<a href="#4871" id="4871" class="l"> 4871: </a>                <span class="php-comment">// Save main node.</span>
<a href="#4872" id="4872" class="l"> 4872: </a>                <span class="php-comment">//</span>
<a href="#4873" id="4873" class="l"> 4873: </a>                <span class="php-var">$node_alt2</span> = <span class="php-var">$node</span>;
<a href="#4874" id="4874" class="l"> 4874: </a>                <span class="php-var">$language_nodes</span>[ <span class="php-var">$idx_main</span> ][ <span class="php-quote">'Part2T'</span> ] = <span class="php-var">$node</span>;
<a href="#4875" id="4875" class="l"> 4875: </a>                
<a href="#4876" id="4876" class="l"> 4876: </a>                <span class="php-comment">//</span>
<a href="#4877" id="4877" class="l"> 4877: </a>                <span class="php-comment">// Handle edge.</span>
<a href="#4878" id="4878" class="l"> 4878: </a>                <span class="php-comment">//</span>
<a href="#4879" id="4879" class="l"> 4879: </a>                <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part2T'</span> ] );
<a href="#4880" id="4880" class="l"> 4880: </a>                <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4881" id="4881" class="l"> 4881: </a>                
<a href="#4882" id="4882" class="l"> 4882: </a>                <span class="php-comment">//</span>
<a href="#4883" id="4883" class="l"> 4883: </a>                <span class="php-comment">// Display.</span>
<a href="#4884" id="4884" class="l"> 4884: </a>                <span class="php-comment">//</span>
<a href="#4885" id="4885" class="l"> 4885: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4886" id="4886" class="l"> 4886: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4887" id="4887" class="l"> 4887: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#4888" id="4888" class="l"> 4888: </a>                         .<span class="php-quote">&quot; [&quot;</span>
<a href="#4889" id="4889" class="l"> 4889: </a>                         .<span class="php-var">$node</span>-&gt;Node()-&gt;getId()
<a href="#4890" id="4890" class="l"> 4890: </a>                         .<span class="php-quote">&quot;]\n&quot;</span> );
<a href="#4891" id="4891" class="l"> 4891: </a>            }
<a href="#4892" id="4892" class="l"> 4892: </a>            <span class="php-keyword1">else</span>
<a href="#4893" id="4893" class="l"> 4893: </a>                <span class="php-var">$term_alt2</span> = <span class="php-keyword1">NULL</span>;
<a href="#4894" id="4894" class="l"> 4894: </a>        
<a href="#4895" id="4895" class="l"> 4895: </a>            <span class="php-comment">//</span>
<a href="#4896" id="4896" class="l"> 4896: </a>            <span class="php-comment">// Handle Part1 code.</span>
<a href="#4897" id="4897" class="l"> 4897: </a>            <span class="php-comment">//</span>
<a href="#4898" id="4898" class="l"> 4898: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part1'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4899" id="4899" class="l"> 4899: </a>            {
<a href="#4900" id="4900" class="l"> 4900: </a>                <span class="php-comment">//</span>
<a href="#4901" id="4901" class="l"> 4901: </a>                <span class="php-comment">// Create Part2B term.</span>
<a href="#4902" id="4902" class="l"> 4902: </a>                <span class="php-comment">//</span>
<a href="#4903" id="4903" class="l"> 4903: </a>                <span class="php-var">$term</span>
<a href="#4904" id="4904" class="l"> 4904: </a>                    = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#4905" id="4905" class="l"> 4905: </a>                            <span class="php-var">$theContainer</span>, 
<a href="#4906" id="4906" class="l"> 4906: </a>                            COntologyTerm::HashIndex(
<a href="#4907" id="4907" class="l"> 4907: </a>                                <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part1'</span> ]-&gt;Term()-&gt;GID()
<a href="#4908" id="4908" class="l"> 4908: </a>                               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#4909" id="4909" class="l"> 4909: </a>                               .<span class="php-var">$record</span>[ <span class="php-quote">'Part1'</span> ] ) );
<a href="#4910" id="4910" class="l"> 4910: </a>                <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#4911" id="4911" class="l"> 4911: </a>                {
<a href="#4912" id="4912" class="l"> 4912: </a>                    <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part1'</span> ]-&gt;Term() );
<a href="#4913" id="4913" class="l"> 4913: </a>                    <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Part1'</span> ] );
<a href="#4914" id="4914" class="l"> 4914: </a>                    <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4915" id="4915" class="l"> 4915: </a>                    <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#4916" id="4916" class="l"> 4916: </a>                    <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#4917" id="4917" class="l"> 4917: </a>                    <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$record</span>[ <span class="php-quote">'Code3'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4918" id="4918" class="l"> 4918: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Scope'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4919" id="4919" class="l"> 4919: </a>                        <span class="php-var">$term</span>-&gt;Domain( <span class="php-quote">'ISO:639:3:Scope:'</span>.<span class="php-var">$record</span>[ <span class="php-quote">'Scope'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4920" id="4920" class="l"> 4920: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Type'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4921" id="4921" class="l"> 4921: </a>                        <span class="php-var">$term</span>-&gt;Domain( <span class="php-quote">'ISO:639:3:Type:'</span>.<span class="php-var">$record</span>[ <span class="php-quote">'Type'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#4922" id="4922" class="l"> 4922: </a>                    <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'ReferenceName'</span> ], kDEFAULT_LANGUAGE );
<a href="#4923" id="4923" class="l"> 4923: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part2T'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4924" id="4924" class="l"> 4924: </a>                        <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Part2T'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#4925" id="4925" class="l"> 4925: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Part2B'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4926" id="4926" class="l"> 4926: </a>                        <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Part2B'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#4927" id="4927" class="l"> 4927: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'PrintName'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4928" id="4928" class="l"> 4928: </a>                        <span class="php-var">$term</span>[ <span class="php-quote">'ISO:639:PrintName'</span> ] = <span class="php-var">$record</span>[ <span class="php-quote">'PrintName'</span> ];
<a href="#4929" id="4929" class="l"> 4929: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'InvertedName'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4930" id="4930" class="l"> 4930: </a>                        <span class="php-var">$term</span>[ <span class="php-quote">'ISO:639:InvertedName'</span> ] = <span class="php-var">$record</span>[ <span class="php-quote">'InvertedName'</span> ];
<a href="#4931" id="4931" class="l"> 4931: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Comment'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#4932" id="4932" class="l"> 4932: </a>                        <span class="php-var">$term</span>-&gt;Description( <span class="php-var">$record</span>[ <span class="php-quote">'Comment'</span> ], kDEFAULT_LANGUAGE );
<a href="#4933" id="4933" class="l"> 4933: </a>                    <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#4934" id="4934" class="l"> 4934: </a>                }
<a href="#4935" id="4935" class="l"> 4935: </a>    
<a href="#4936" id="4936" class="l"> 4936: </a>                <span class="php-comment">//</span>
<a href="#4937" id="4937" class="l"> 4937: </a>                <span class="php-comment">// Save main term.</span>
<a href="#4938" id="4938" class="l"> 4938: </a>                <span class="php-comment">//</span>
<a href="#4939" id="4939" class="l"> 4939: </a>                <span class="php-var">$term_alt3</span> = <span class="php-var">$term</span>;
<a href="#4940" id="4940" class="l"> 4940: </a>    
<a href="#4941" id="4941" class="l"> 4941: </a>                <span class="php-comment">//</span>
<a href="#4942" id="4942" class="l"> 4942: </a>                <span class="php-comment">// Handle node.</span>
<a href="#4943" id="4943" class="l"> 4943: </a>                <span class="php-comment">//</span>
<a href="#4944" id="4944" class="l"> 4944: </a>                <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#4945" id="4945" class="l"> 4945: </a>                <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#4946" id="4946" class="l"> 4946: </a>                <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#4947" id="4947" class="l"> 4947: </a>                <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#4948" id="4948" class="l"> 4948: </a>                <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_LANGUAGE, <span class="php-keyword1">TRUE</span> );
<a href="#4949" id="4949" class="l"> 4949: </a>                <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4950" id="4950" class="l"> 4950: </a>                
<a href="#4951" id="4951" class="l"> 4951: </a>                <span class="php-comment">//</span>
<a href="#4952" id="4952" class="l"> 4952: </a>                <span class="php-comment">// Save node.</span>
<a href="#4953" id="4953" class="l"> 4953: </a>                <span class="php-comment">//</span>
<a href="#4954" id="4954" class="l"> 4954: </a>                <span class="php-var">$node_alt3</span> = <span class="php-var">$node</span>;
<a href="#4955" id="4955" class="l"> 4955: </a>                <span class="php-var">$language_nodes</span>[ <span class="php-var">$idx_main</span> ][ <span class="php-quote">'Part1'</span> ] = <span class="php-var">$node</span>;
<a href="#4956" id="4956" class="l"> 4956: </a>                
<a href="#4957" id="4957" class="l"> 4957: </a>                <span class="php-comment">//</span>
<a href="#4958" id="4958" class="l"> 4958: </a>                <span class="php-comment">// Handle edge.</span>
<a href="#4959" id="4959" class="l"> 4959: </a>                <span class="php-comment">//</span>
<a href="#4960" id="4960" class="l"> 4960: </a>                <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Part1'</span> ] );
<a href="#4961" id="4961" class="l"> 4961: </a>                <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#4962" id="4962" class="l"> 4962: </a>                
<a href="#4963" id="4963" class="l"> 4963: </a>                <span class="php-comment">//</span>
<a href="#4964" id="4964" class="l"> 4964: </a>                <span class="php-comment">// Display.</span>
<a href="#4965" id="4965" class="l"> 4965: </a>                <span class="php-comment">//</span>
<a href="#4966" id="4966" class="l"> 4966: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#4967" id="4967" class="l"> 4967: </a>                    <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#4968" id="4968" class="l"> 4968: </a>                         .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#4969" id="4969" class="l"> 4969: </a>                         .<span class="php-quote">&quot; [&quot;</span>
<a href="#4970" id="4970" class="l"> 4970: </a>                         .<span class="php-var">$node</span>-&gt;Node()-&gt;getId()
<a href="#4971" id="4971" class="l"> 4971: </a>                         .<span class="php-quote">&quot;]\n&quot;</span> );
<a href="#4972" id="4972" class="l"> 4972: </a>            }
<a href="#4973" id="4973" class="l"> 4973: </a>            <span class="php-keyword1">else</span>
<a href="#4974" id="4974" class="l"> 4974: </a>                <span class="php-var">$term_alt3</span> = <span class="php-keyword1">NULL</span>;
<a href="#4975" id="4975" class="l"> 4975: </a>            
<a href="#4976" id="4976" class="l"> 4976: </a>            <span class="php-comment">//</span>
<a href="#4977" id="4977" class="l"> 4977: </a>            <span class="php-comment">// Handle exact cross-references.</span>
<a href="#4978" id="4978" class="l"> 4978: </a>            <span class="php-comment">//</span>
<a href="#4979" id="4979" class="l"> 4979: </a>            <span class="php-var">$trms</span> = <span class="php-keyword1">array</span>( <span class="php-var">$term_main</span>, ( ( <span class="php-var">$term_alt1</span> !== <span class="php-keyword1">NULL</span> ) ? <span class="php-var">$term_alt1</span> : <span class="php-keyword1">NULL</span> ),
<a href="#4980" id="4980" class="l"> 4980: </a>                                       ( ( <span class="php-var">$term_alt2</span> !== <span class="php-keyword1">NULL</span> ) ? <span class="php-var">$term_alt2</span> : <span class="php-keyword1">NULL</span> ),
<a href="#4981" id="4981" class="l"> 4981: </a>                                       ( ( <span class="php-var">$term_alt3</span> !== <span class="php-keyword1">NULL</span> ) ? <span class="php-var">$term_alt3</span> : <span class="php-keyword1">NULL</span> ) );
<a href="#4982" id="4982" class="l"> 4982: </a>            <span class="php-var">$nods</span> = <span class="php-keyword1">array</span>( <span class="php-var">$node_main</span>, ( ( <span class="php-var">$term_alt1</span> !== <span class="php-keyword1">NULL</span> ) ? <span class="php-var">$node_alt1</span> : <span class="php-keyword1">NULL</span> ),
<a href="#4983" id="4983" class="l"> 4983: </a>                                       ( ( <span class="php-var">$term_alt2</span> !== <span class="php-keyword1">NULL</span> ) ? <span class="php-var">$node_alt2</span> : <span class="php-keyword1">NULL</span> ),
<a href="#4984" id="4984" class="l"> 4984: </a>                                       ( ( <span class="php-var">$term_alt3</span> !== <span class="php-keyword1">NULL</span> ) ? <span class="php-var">$node_alt3</span> : <span class="php-keyword1">NULL</span> ) );
<a href="#4985" id="4985" class="l"> 4985: </a>            <span class="php-keyword1">for</span>( <span class="php-var">$i</span> = <span class="php-num">0</span>; <span class="php-var">$i</span> &lt; <span class="php-keyword2">count</span>( <span class="php-var">$trms</span> ); <span class="php-var">$i</span>++ )
<a href="#4986" id="4986" class="l"> 4986: </a>            {
<a href="#4987" id="4987" class="l"> 4987: </a>                <span class="php-keyword1">for</span>( <span class="php-var">$j</span> = <span class="php-num">0</span>; <span class="php-var">$j</span> &lt; <span class="php-keyword2">count</span>( <span class="php-var">$trms</span> ); <span class="php-var">$j</span>++ )
<a href="#4988" id="4988" class="l"> 4988: </a>                {
<a href="#4989" id="4989" class="l"> 4989: </a>                    <span class="php-comment">//</span>
<a href="#4990" id="4990" class="l"> 4990: </a>                    <span class="php-comment">// Skip same.</span>
<a href="#4991" id="4991" class="l"> 4991: </a>                    <span class="php-comment">//</span>
<a href="#4992" id="4992" class="l"> 4992: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$i</span> != <span class="php-var">$j</span> )
<a href="#4993" id="4993" class="l"> 4993: </a>                    {
<a href="#4994" id="4994" class="l"> 4994: </a>                        <span class="php-comment">//</span>
<a href="#4995" id="4995" class="l"> 4995: </a>                        <span class="php-comment">// Skip missing.</span>
<a href="#4996" id="4996" class="l"> 4996: </a>                        <span class="php-comment">//</span>
<a href="#4997" id="4997" class="l"> 4997: </a>                        <span class="php-keyword1">if</span>( (<span class="php-var">$trms</span>[ <span class="php-var">$i</span> ] !== <span class="php-keyword1">NULL</span>)
<a href="#4998" id="4998" class="l"> 4998: </a>                         &amp;&amp; (<span class="php-var">$trms</span>[ <span class="php-var">$j</span> ] !== <span class="php-keyword1">NULL</span>) )
<a href="#4999" id="4999" class="l"> 4999: </a>                        {
<a href="#5000" id="5000" class="l"> 5000: </a>                            <span class="php-comment">//</span>
<a href="#5001" id="5001" class="l"> 5001: </a>                            <span class="php-comment">// Relate terms.</span>
<a href="#5002" id="5002" class="l"> 5002: </a>                            <span class="php-comment">//</span>
<a href="#5003" id="5003" class="l"> 5003: </a>                            <span class="php-var">$trms</span>[ <span class="php-var">$i</span> ]-&gt;Xref( <span class="php-var">$trms</span>[ <span class="php-var">$j</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#5004" id="5004" class="l"> 5004: </a>                            <span class="php-comment">//</span>
<a href="#5005" id="5005" class="l"> 5005: </a>                            <span class="php-comment">// Set used.</span>
<a href="#5006" id="5006" class="l"> 5006: </a>                            <span class="php-comment">//</span>
<a href="#5007" id="5007" class="l"> 5007: </a>                            <span class="php-keyword1">if</span>( <span class="php-var">$i</span> == <span class="php-num">0</span> )
<a href="#5008" id="5008" class="l"> 5008: </a>                            {
<a href="#5009" id="5009" class="l"> 5009: </a>                                <span class="php-comment">//</span>
<a href="#5010" id="5010" class="l"> 5010: </a>                                <span class="php-comment">// Set in term.</span>
<a href="#5011" id="5011" class="l"> 5011: </a>                                <span class="php-comment">//</span>
<a href="#5012" id="5012" class="l"> 5012: </a>                                <span class="php-var">$trms</span>[ <span class="php-var">$j</span> ]-&gt;Used( <span class="php-var">$trms</span>[ <span class="php-var">$i</span> ] );
<a href="#5013" id="5013" class="l"> 5013: </a>                                <span class="php-comment">//</span>
<a href="#5014" id="5014" class="l"> 5014: </a>                                <span class="php-comment">// Set in node.</span>
<a href="#5015" id="5015" class="l"> 5015: </a>                                <span class="php-comment">//</span>
<a href="#5016" id="5016" class="l"> 5016: </a>                                <span class="php-var">$edge</span>
<a href="#5017" id="5017" class="l"> 5017: </a>                                    = <span class="php-var">$nods</span>[ <span class="php-var">$j</span> ]-&gt;RelateTo(
<a href="#5018" id="5018" class="l"> 5018: </a>                                        <span class="php-var">$container</span>, kTAG_DEFAULT, <span class="php-var">$nods</span>[ <span class="php-var">$i</span> ] );
<a href="#5019" id="5019" class="l"> 5019: </a>                                <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5020" id="5020" class="l"> 5020: </a>                            }
<a href="#5021" id="5021" class="l"> 5021: </a>                            <span class="php-comment">//</span>
<a href="#5022" id="5022" class="l"> 5022: </a>                            <span class="php-comment">// Relate nodes.</span>
<a href="#5023" id="5023" class="l"> 5023: </a>                            <span class="php-comment">//</span>
<a href="#5024" id="5024" class="l"> 5024: </a>                            <span class="php-var">$edge</span>
<a href="#5025" id="5025" class="l"> 5025: </a>                                = <span class="php-var">$nods</span>[ <span class="php-var">$i</span> ]-&gt;RelateTo(
<a href="#5026" id="5026" class="l"> 5026: </a>                                    <span class="php-var">$container</span>, kTAG_REFERENCE_XREF, <span class="php-var">$nods</span>[ <span class="php-var">$j</span> ] );
<a href="#5027" id="5027" class="l"> 5027: </a>                            <span class="php-var">$edge</span>-&gt;Node()-&gt;setProperty( kTAG_KIND, kTYPE_EXACT );
<a href="#5028" id="5028" class="l"> 5028: </a>                            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5029" id="5029" class="l"> 5029: </a>                            <span class="php-comment">//</span>
<a href="#5030" id="5030" class="l"> 5030: </a>                            <span class="php-comment">// Commit term.</span>
<a href="#5031" id="5031" class="l"> 5031: </a>                            <span class="php-comment">//</span>
<a href="#5032" id="5032" class="l"> 5032: </a>                            <span class="php-var">$trms</span>[ <span class="php-var">$i</span> ]-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5033" id="5033" class="l"> 5033: </a>                        }
<a href="#5034" id="5034" class="l"> 5034: </a>                    }
<a href="#5035" id="5035" class="l"> 5035: </a>                }
<a href="#5036" id="5036" class="l"> 5036: </a>            }
<a href="#5037" id="5037" class="l"> 5037: </a>        
<a href="#5038" id="5038" class="l"> 5038: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#5039" id="5039" class="l"> 5039: </a>
<a href="#5040" id="5040" class="l"> 5040: </a>        <span class="php-comment">//</span>
<a href="#5041" id="5041" class="l"> 5041: </a>        <span class="php-comment">// Load macrolanguage codes.</span>
<a href="#5042" id="5042" class="l"> 5042: </a>        <span class="php-comment">//</span>
<a href="#5043" id="5043" class="l"> 5043: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#5044" id="5044" class="l"> 5044: </a><span class="php-quote">SELECT
</span><a href="#5045" id="5045" class="l"> 5045: </a><span class="php-quote">    `Code_ISO_639_3_Macrolanguages`.`Language`,
</span><a href="#5046" id="5046" class="l"> 5046: </a><span class="php-quote">    `Code_ISO_639_3_Macrolanguages`.`MacroLanguage`
</span><a href="#5047" id="5047" class="l"> 5047: </a><span class="php-quote">FROM
</span><a href="#5048" id="5048" class="l"> 5048: </a><span class="php-quote">    `Code_ISO_639_3_Macrolanguages`
</span><a href="#5049" id="5049" class="l"> 5049: </a><span class="php-quote">ORDER BY
</span><a href="#5050" id="5050" class="l"> 5050: </a><span class="php-quote">    `Code_ISO_639_3_Macrolanguages`.`MacroLanguage`
</span><a href="#5051" id="5051" class="l"> 5051: </a><span class="php-quote">EOT;
</span><a href="#5052" id="5052" class="l"> 5052: </a>        <span class="php-var">$macro_predicate</span>
<a href="#5053" id="5053" class="l"> 5053: </a>            = <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:639:3:Scope'</span>
<a href="#5054" id="5054" class="l"> 5054: </a>                     .kTOKEN_NAMESPACE_SEPARATOR
<a href="#5055" id="5055" class="l"> 5055: </a>                     .<span class="php-quote">'M'</span> ]-&gt;Term();
<a href="#5056" id="5056" class="l"> 5056: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#5057" id="5057" class="l"> 5057: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#5058" id="5058" class="l"> 5058: </a>        {
<a href="#5059" id="5059" class="l"> 5059: </a>            <span class="php-comment">//</span>
<a href="#5060" id="5060" class="l"> 5060: </a>            <span class="php-comment">// Locate macrolanguage node.</span>
<a href="#5061" id="5061" class="l"> 5061: </a>            <span class="php-comment">//</span>
<a href="#5062" id="5062" class="l"> 5062: </a>            <span class="php-var">$id</span> = <span class="php-var">$record</span>[ <span class="php-quote">'MacroLanguage'</span> ];
<a href="#5063" id="5063" class="l"> 5063: </a>            <span class="php-keyword1">if</span>( ! <span class="php-keyword2">array_key_exists</span>( <span class="php-var">$id</span>, <span class="php-var">$language_nodes</span> ) )
<a href="#5064" id="5064" class="l"> 5064: </a>                <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> Exception( <span class="php-quote">&quot;Unable to find [</span><span class="php-var">$id</span><span class="php-quote">] node.&quot;</span> );            <span class="php-comment">// !@! ==&gt;</span>
<a href="#5065" id="5065" class="l"> 5065: </a>            <span class="php-var">$macro</span> = <span class="php-var">$language_nodes</span>[ <span class="php-var">$id</span> ];
<a href="#5066" id="5066" class="l"> 5066: </a>            
<a href="#5067" id="5067" class="l"> 5067: </a>            <span class="php-comment">//</span>
<a href="#5068" id="5068" class="l"> 5068: </a>            <span class="php-comment">// Locate language node.</span>
<a href="#5069" id="5069" class="l"> 5069: </a>            <span class="php-comment">//</span>
<a href="#5070" id="5070" class="l"> 5070: </a>            <span class="php-var">$id</span> = <span class="php-var">$record</span>[ <span class="php-quote">'Language'</span> ];
<a href="#5071" id="5071" class="l"> 5071: </a>            <span class="php-keyword1">if</span>( ! <span class="php-keyword2">array_key_exists</span>( <span class="php-var">$id</span>, <span class="php-var">$language_nodes</span> ) )
<a href="#5072" id="5072" class="l"> 5072: </a>                <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> Exception( <span class="php-quote">&quot;Unable to find [</span><span class="php-var">$id</span><span class="php-quote">] node.&quot;</span> );            <span class="php-comment">// !@! ==&gt;</span>
<a href="#5073" id="5073" class="l"> 5073: </a>            <span class="php-var">$language</span> = <span class="php-var">$language_nodes</span>[ <span class="php-var">$id</span> ];
<a href="#5074" id="5074" class="l"> 5074: </a>            
<a href="#5075" id="5075" class="l"> 5075: </a>            <span class="php-comment">//</span>
<a href="#5076" id="5076" class="l"> 5076: </a>            <span class="php-comment">// Iterate macro-language code groups.</span>
<a href="#5077" id="5077" class="l"> 5077: </a>            <span class="php-comment">//</span>
<a href="#5078" id="5078" class="l"> 5078: </a>            <span class="php-keyword1">foreach</span>( <span class="php-var">$macro</span> <span class="php-keyword1">as</span> <span class="php-var">$group</span> =&gt; <span class="php-var">$macro_node</span> )
<a href="#5079" id="5079" class="l"> 5079: </a>            {
<a href="#5080" id="5080" class="l"> 5080: </a>                <span class="php-keyword1">if</span>( <span class="php-keyword2">array_key_exists</span>( <span class="php-var">$group</span>, <span class="php-var">$language</span> ) )
<a href="#5081" id="5081" class="l"> 5081: </a>                {
<a href="#5082" id="5082" class="l"> 5082: </a>                    <span class="php-var">$edge</span>
<a href="#5083" id="5083" class="l"> 5083: </a>                        = <span class="php-var">$macro_node</span>-&gt;RelateTo(
<a href="#5084" id="5084" class="l"> 5084: </a>                            <span class="php-var">$container</span>, <span class="php-var">$macro_predicate</span>, <span class="php-var">$language</span>[ <span class="php-var">$group</span> ] );
<a href="#5085" id="5085" class="l"> 5085: </a>                    <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5086" id="5086" class="l"> 5086: </a>                    
<a href="#5087" id="5087" class="l"> 5087: </a>                    <span class="php-comment">//</span>
<a href="#5088" id="5088" class="l"> 5088: </a>                    <span class="php-comment">// Display.</span>
<a href="#5089" id="5089" class="l"> 5089: </a>                    <span class="php-comment">//</span>
<a href="#5090" id="5090" class="l"> 5090: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5091" id="5091" class="l"> 5091: </a>                        <span class="php-keyword1">echo</span>( <span class="php-quote">'['</span>.<span class="php-var">$macro_node</span>-&gt;Term().<span class="php-quote">'] =&gt; ['</span>
<a href="#5092" id="5092" class="l"> 5092: </a>                             .<span class="php-var">$language</span>[ <span class="php-var">$group</span> ]-&gt;Term().<span class="php-quote">'] ['</span>
<a href="#5093" id="5093" class="l"> 5093: </a>                             .<span class="php-var">$edge</span>-&gt;Node()-&gt;getId()
<a href="#5094" id="5094" class="l"> 5094: </a>                             .<span class="php-quote">&quot;]\n&quot;</span> );
<a href="#5095" id="5095" class="l"> 5095: </a>                }
<a href="#5096" id="5096" class="l"> 5096: </a>            }
<a href="#5097" id="5097" class="l"> 5097: </a>        
<a href="#5098" id="5098" class="l"> 5098: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#5099" id="5099" class="l"> 5099: </a>        <span class="php-keyword1">unset</span>( <span class="php-var">$language_nodes</span> );
<a href="#5100" id="5100" class="l"> 5100: </a>        
<a href="#5101" id="5101" class="l"> 5101: </a>        <span class="php-comment">//</span>
<a href="#5102" id="5102" class="l"> 5102: </a>        <span class="php-comment">// ISO 3166.</span>
<a href="#5103" id="5103" class="l"> 5103: </a>        <span class="php-comment">//</span>
<a href="#5104" id="5104" class="l"> 5104: </a>        <span class="php-var">$term</span>
<a href="#5105" id="5105" class="l"> 5105: </a>            = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#5106" id="5106" class="l"> 5106: </a>                    <span class="php-var">$theContainer</span>, 
<a href="#5107" id="5107" class="l"> 5107: </a>                    COntologyTerm::HashIndex(
<a href="#5108" id="5108" class="l"> 5108: </a>                        <span class="php-quote">'ISO'</span>.kTOKEN_NAMESPACE_SEPARATOR.<span class="php-quote">'3166'</span> ) );
<a href="#5109" id="5109" class="l"> 5109: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5110" id="5110" class="l"> 5110: </a>        {
<a href="#5111" id="5111" class="l"> 5111: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO'</span> ]-&gt;Term() );
<a href="#5112" id="5112" class="l"> 5112: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'3166'</span> );
<a href="#5113" id="5113" class="l"> 5113: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#5114" id="5114" class="l"> 5114: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5115" id="5115" class="l"> 5115: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5116" id="5116" class="l"> 5116: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#5117" id="5117" class="l"> 5117: </a>            ( <span class="php-quote">'Geographical codes and names'</span>,
<a href="#5118" id="5118" class="l"> 5118: </a>              kDEFAULT_LANGUAGE );
<a href="#5119" id="5119" class="l"> 5119: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#5120" id="5120" class="l"> 5120: </a>            ( <span class="php-quote">'Codes for the representation of names of countries and their subdivisions.'</span>,
<a href="#5121" id="5121" class="l"> 5121: </a>              kDEFAULT_LANGUAGE );
<a href="#5122" id="5122" class="l"> 5122: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5123" id="5123" class="l"> 5123: </a>        }
<a href="#5124" id="5124" class="l"> 5124: </a>        <span class="php-comment">//</span>
<a href="#5125" id="5125" class="l"> 5125: </a>        <span class="php-comment">// Handle node.</span>
<a href="#5126" id="5126" class="l"> 5126: </a>        <span class="php-comment">//</span>
<a href="#5127" id="5127" class="l"> 5127: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#5128" id="5128" class="l"> 5128: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#5129" id="5129" class="l"> 5129: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5130" id="5130" class="l"> 5130: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5131" id="5131" class="l"> 5131: </a>        <span class="php-comment">//</span>
<a href="#5132" id="5132" class="l"> 5132: </a>        <span class="php-comment">// Save node.</span>
<a href="#5133" id="5133" class="l"> 5133: </a>        <span class="php-comment">//</span>
<a href="#5134" id="5134" class="l"> 5134: </a>        <span class="php-var">$nodes</span>[ <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO'</span> ]-&gt;Term()-&gt;GID()
<a href="#5135" id="5135" class="l"> 5135: </a>               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#5136" id="5136" class="l"> 5136: </a>               .<span class="php-quote">'3166'</span> ] = <span class="php-var">$node</span>;
<a href="#5137" id="5137" class="l"> 5137: </a>        <span class="php-comment">//</span>
<a href="#5138" id="5138" class="l"> 5138: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#5139" id="5139" class="l"> 5139: </a>        <span class="php-comment">//</span>
<a href="#5140" id="5140" class="l"> 5140: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO'</span> ] );
<a href="#5141" id="5141" class="l"> 5141: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5142" id="5142" class="l"> 5142: </a>        <span class="php-comment">//</span>
<a href="#5143" id="5143" class="l"> 5143: </a>        <span class="php-comment">// Display.</span>
<a href="#5144" id="5144" class="l"> 5144: </a>        <span class="php-comment">//</span>
<a href="#5145" id="5145" class="l"> 5145: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5146" id="5146" class="l"> 5146: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#5147" id="5147" class="l"> 5147: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#5148" id="5148" class="l"> 5148: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#5149" id="5149" class="l"> 5149: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#5150" id="5150" class="l"> 5150: </a>        
<a href="#5151" id="5151" class="l"> 5151: </a>        <span class="php-comment">//</span>
<a href="#5152" id="5152" class="l"> 5152: </a>        <span class="php-comment">// ISO 3166-1.</span>
<a href="#5153" id="5153" class="l"> 5153: </a>        <span class="php-comment">//</span>
<a href="#5154" id="5154" class="l"> 5154: </a>        <span class="php-var">$term</span>
<a href="#5155" id="5155" class="l"> 5155: </a>            = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#5156" id="5156" class="l"> 5156: </a>                    <span class="php-var">$theContainer</span>, 
<a href="#5157" id="5157" class="l"> 5157: </a>                    COntologyTerm::HashIndex(
<a href="#5158" id="5158" class="l"> 5158: </a>                        <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166'</span> ]-&gt;Term()-&gt;GID()
<a href="#5159" id="5159" class="l"> 5159: </a>                       .kTOKEN_NAMESPACE_SEPARATOR
<a href="#5160" id="5160" class="l"> 5160: </a>                       .<span class="php-quote">'1'</span> ) );
<a href="#5161" id="5161" class="l"> 5161: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5162" id="5162" class="l"> 5162: </a>        {
<a href="#5163" id="5163" class="l"> 5163: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166'</span> ]-&gt;Term() );
<a href="#5164" id="5164" class="l"> 5164: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'1'</span> );
<a href="#5165" id="5165" class="l"> 5165: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#5166" id="5166" class="l"> 5166: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5167" id="5167" class="l"> 5167: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5168" id="5168" class="l"> 5168: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#5169" id="5169" class="l"> 5169: </a>            ( <span class="php-quote">'Country code'</span>,
<a href="#5170" id="5170" class="l"> 5170: </a>              kDEFAULT_LANGUAGE );
<a href="#5171" id="5171" class="l"> 5171: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#5172" id="5172" class="l"> 5172: </a>            ( <span class="php-quote">'Codes for the representation of names of countries and their '</span>
<a href="#5173" id="5173" class="l"> 5173: </a>             .<span class="php-quote">'subdivisions – Part 1: Country codes.'</span>,
<a href="#5174" id="5174" class="l"> 5174: </a>              kDEFAULT_LANGUAGE );
<a href="#5175" id="5175" class="l"> 5175: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5176" id="5176" class="l"> 5176: </a>        }
<a href="#5177" id="5177" class="l"> 5177: </a>        <span class="php-comment">//</span>
<a href="#5178" id="5178" class="l"> 5178: </a>        <span class="php-comment">// Handle node.</span>
<a href="#5179" id="5179" class="l"> 5179: </a>        <span class="php-comment">//</span>
<a href="#5180" id="5180" class="l"> 5180: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#5181" id="5181" class="l"> 5181: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#5182" id="5182" class="l"> 5182: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5183" id="5183" class="l"> 5183: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5184" id="5184" class="l"> 5184: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5185" id="5185" class="l"> 5185: </a>        <span class="php-comment">//</span>
<a href="#5186" id="5186" class="l"> 5186: </a>        <span class="php-comment">// Save node.</span>
<a href="#5187" id="5187" class="l"> 5187: </a>        <span class="php-comment">//</span>
<a href="#5188" id="5188" class="l"> 5188: </a>        <span class="php-var">$nodes</span>[ <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166'</span> ]-&gt;Term()-&gt;GID()
<a href="#5189" id="5189" class="l"> 5189: </a>               .kTOKEN_NAMESPACE_SEPARATOR
<a href="#5190" id="5190" class="l"> 5190: </a>               .<span class="php-quote">'1'</span> ] = <span class="php-var">$node</span>;
<a href="#5191" id="5191" class="l"> 5191: </a>        <span class="php-comment">//</span>
<a href="#5192" id="5192" class="l"> 5192: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#5193" id="5193" class="l"> 5193: </a>        <span class="php-comment">//</span>
<a href="#5194" id="5194" class="l"> 5194: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166'</span> ] );
<a href="#5195" id="5195" class="l"> 5195: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5196" id="5196" class="l"> 5196: </a>        <span class="php-comment">//</span>
<a href="#5197" id="5197" class="l"> 5197: </a>        <span class="php-comment">// Display.</span>
<a href="#5198" id="5198" class="l"> 5198: </a>        <span class="php-comment">//</span>
<a href="#5199" id="5199" class="l"> 5199: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5200" id="5200" class="l"> 5200: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#5201" id="5201" class="l"> 5201: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#5202" id="5202" class="l"> 5202: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#5203" id="5203" class="l"> 5203: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#5204" id="5204" class="l"> 5204: </a>        
<a href="#5205" id="5205" class="l"> 5205: </a>        <span class="php-comment">//</span>
<a href="#5206" id="5206" class="l"> 5206: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#5207" id="5207" class="l"> 5207: </a>        <span class="php-comment">//</span>
<a href="#5208" id="5208" class="l"> 5208: </a>        <span class="php-var">$components</span> = <span class="php-keyword1">array</span>
<a href="#5209" id="5209" class="l"> 5209: </a>        (
<a href="#5210" id="5210" class="l"> 5210: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'NUMERIC-3'</span>,
<a href="#5211" id="5211" class="l"> 5211: </a>                   <span class="php-quote">'pat'</span> =&gt; <span class="php-quote">'[0-9]{3}'</span>,
<a href="#5212" id="5212" class="l"> 5212: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'3-digit country code'</span>,
<a href="#5213" id="5213" class="l"> 5213: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'ISO 3166-1 numeric (or numeric-3) codes are three-digit '</span>
<a href="#5214" id="5214" class="l"> 5214: </a>                           .<span class="php-quote">'country codes defined in ISO 3166-1, part of the ISO 3166 '</span>
<a href="#5215" id="5215" class="l"> 5215: </a>                           .<span class="php-quote">'standard published by the International Organization for '</span>
<a href="#5216" id="5216" class="l"> 5216: </a>                           .<span class="php-quote">'Standardization (ISO), to represent countries, dependent '</span>
<a href="#5217" id="5217" class="l"> 5217: </a>                           .<span class="php-quote">'territories, and special areas of geographical interest.'</span> ),
<a href="#5218" id="5218" class="l"> 5218: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'ALPHA-2'</span>,
<a href="#5219" id="5219" class="l"> 5219: </a>                   <span class="php-quote">'pat'</span> =&gt; <span class="php-quote">'[A-Z]{2}'</span>,
<a href="#5220" id="5220" class="l"> 5220: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'2-character country code'</span>,
<a href="#5221" id="5221" class="l"> 5221: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'ISO 3166-1 alpha-2 codes are two-letter country codes '</span>
<a href="#5222" id="5222" class="l"> 5222: </a>                           .<span class="php-quote">'defined in ISO 3166-1, part of the ISO 3166 standard '</span>
<a href="#5223" id="5223" class="l"> 5223: </a>                           .<span class="php-quote">'published by the International Organization for '</span>
<a href="#5224" id="5224" class="l"> 5224: </a>                           .<span class="php-quote">'Standardization (ISO), to represent countries, dependent '</span>
<a href="#5225" id="5225" class="l"> 5225: </a>                           .<span class="php-quote">'territories, and special areas of geographical interest.'</span> ),
<a href="#5226" id="5226" class="l"> 5226: </a>            <span class="php-keyword1">array</span>( <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'ALPHA-3'</span>,
<a href="#5227" id="5227" class="l"> 5227: </a>                   <span class="php-quote">'pat'</span> =&gt; <span class="php-quote">'[A-Z]{3}'</span>,
<a href="#5228" id="5228" class="l"> 5228: </a>                   <span class="php-quote">'nam'</span> =&gt; <span class="php-quote">'3-character country code'</span>,
<a href="#5229" id="5229" class="l"> 5229: </a>                   <span class="php-quote">'def'</span> =&gt; <span class="php-quote">'ISO 3166-1 alpha-3 codes are three-letter country codes '</span>
<a href="#5230" id="5230" class="l"> 5230: </a>                           .<span class="php-quote">'defined in ISO 3166-1, part of the ISO 3166 standard '</span>
<a href="#5231" id="5231" class="l"> 5231: </a>                           .<span class="php-quote">'published by the International Organization for '</span>
<a href="#5232" id="5232" class="l"> 5232: </a>                           .<span class="php-quote">'Standardization (ISO), to represent countries, dependent '</span>
<a href="#5233" id="5233" class="l"> 5233: </a>                           .<span class="php-quote">'territories, and special areas of geographical interest.'</span> )
<a href="#5234" id="5234" class="l"> 5234: </a>        );
<a href="#5235" id="5235" class="l"> 5235: </a>        
<a href="#5236" id="5236" class="l"> 5236: </a>        <span class="php-comment">//</span>
<a href="#5237" id="5237" class="l"> 5237: </a>        <span class="php-comment">// Load data.</span>
<a href="#5238" id="5238" class="l"> 5238: </a>        <span class="php-comment">//</span>
<a href="#5239" id="5239" class="l"> 5239: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$components</span> <span class="php-keyword1">as</span> <span class="php-var">$component</span> )
<a href="#5240" id="5240" class="l"> 5240: </a>        {
<a href="#5241" id="5241" class="l"> 5241: </a>            <span class="php-comment">//</span>
<a href="#5242" id="5242" class="l"> 5242: </a>            <span class="php-comment">// Handle term.</span>
<a href="#5243" id="5243" class="l"> 5243: </a>            <span class="php-comment">//</span>
<a href="#5244" id="5244" class="l"> 5244: </a>            <span class="php-var">$term</span>
<a href="#5245" id="5245" class="l"> 5245: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#5246" id="5246" class="l"> 5246: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#5247" id="5247" class="l"> 5247: </a>                        COntologyTerm::HashIndex(
<a href="#5248" id="5248" class="l"> 5248: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1'</span> ]-&gt;Term()-&gt;GID()
<a href="#5249" id="5249" class="l"> 5249: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#5250" id="5250" class="l"> 5250: </a>                           .<span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ) );
<a href="#5251" id="5251" class="l"> 5251: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5252" id="5252" class="l"> 5252: </a>            {
<a href="#5253" id="5253" class="l"> 5253: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1'</span> ]-&gt;Term() );
<a href="#5254" id="5254" class="l"> 5254: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] );
<a href="#5255" id="5255" class="l"> 5255: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#5256" id="5256" class="l"> 5256: </a>                <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-var">$component</span>[ <span class="php-quote">'pat'</span> ], <span class="php-keyword1">TRUE</span> );
<a href="#5257" id="5257" class="l"> 5257: </a>                <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5258" id="5258" class="l"> 5258: </a>                <span class="php-var">$term</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5259" id="5259" class="l"> 5259: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$component</span>[ <span class="php-quote">'nam'</span> ], kDEFAULT_LANGUAGE );
<a href="#5260" id="5260" class="l"> 5260: </a>                <span class="php-var">$term</span>-&gt;Definition( <span class="php-var">$component</span>[ <span class="php-quote">'def'</span> ], kDEFAULT_LANGUAGE );
<a href="#5261" id="5261" class="l"> 5261: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5262" id="5262" class="l"> 5262: </a>            }
<a href="#5263" id="5263" class="l"> 5263: </a>            
<a href="#5264" id="5264" class="l"> 5264: </a>            <span class="php-comment">//</span>
<a href="#5265" id="5265" class="l"> 5265: </a>            <span class="php-comment">// Handle node.</span>
<a href="#5266" id="5266" class="l"> 5266: </a>            <span class="php-comment">//</span>
<a href="#5267" id="5267" class="l"> 5267: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#5268" id="5268" class="l"> 5268: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#5269" id="5269" class="l"> 5269: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#5270" id="5270" class="l"> 5270: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#5271" id="5271" class="l"> 5271: </a>            <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5272" id="5272" class="l"> 5272: </a>            <span class="php-var">$node</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5273" id="5273" class="l"> 5273: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5274" id="5274" class="l"> 5274: </a>            
<a href="#5275" id="5275" class="l"> 5275: </a>            <span class="php-comment">//</span>
<a href="#5276" id="5276" class="l"> 5276: </a>            <span class="php-comment">// Save node.</span>
<a href="#5277" id="5277" class="l"> 5277: </a>            <span class="php-comment">//</span>
<a href="#5278" id="5278" class="l"> 5278: </a>            <span class="php-var">$nodes</span>[ <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1'</span> ]-&gt;Term()-&gt;GID()
<a href="#5279" id="5279" class="l"> 5279: </a>                   .kTOKEN_NAMESPACE_SEPARATOR
<a href="#5280" id="5280" class="l"> 5280: </a>                   .<span class="php-var">$component</span>[ <span class="php-quote">'id'</span> ] ] = <span class="php-var">$node</span>;
<a href="#5281" id="5281" class="l"> 5281: </a>            
<a href="#5282" id="5282" class="l"> 5282: </a>            <span class="php-comment">//</span>
<a href="#5283" id="5283" class="l"> 5283: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#5284" id="5284" class="l"> 5284: </a>            <span class="php-comment">//</span>
<a href="#5285" id="5285" class="l"> 5285: </a>            <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1'</span> ] );
<a href="#5286" id="5286" class="l"> 5286: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5287" id="5287" class="l"> 5287: </a>            
<a href="#5288" id="5288" class="l"> 5288: </a>            <span class="php-comment">//</span>
<a href="#5289" id="5289" class="l"> 5289: </a>            <span class="php-comment">// Display.</span>
<a href="#5290" id="5290" class="l"> 5290: </a>            <span class="php-comment">//</span>
<a href="#5291" id="5291" class="l"> 5291: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5292" id="5292" class="l"> 5292: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#5293" id="5293" class="l"> 5293: </a>                     .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#5294" id="5294" class="l"> 5294: </a>                     .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#5295" id="5295" class="l"> 5295: </a>                     .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#5296" id="5296" class="l"> 5296: </a>        }
<a href="#5297" id="5297" class="l"> 5297: </a>                
<a href="#5298" id="5298" class="l"> 5298: </a>        <span class="php-comment">//</span>
<a href="#5299" id="5299" class="l"> 5299: </a>        <span class="php-comment">// Iterate country codes.</span>
<a href="#5300" id="5300" class="l"> 5300: </a>        <span class="php-comment">//</span>
<a href="#5301" id="5301" class="l"> 5301: </a>        <span class="php-var">$countries</span> = <span class="php-keyword1">Array</span>();
<a href="#5302" id="5302" class="l"> 5302: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#5303" id="5303" class="l"> 5303: </a><span class="php-quote">SELECT
</span><a href="#5304" id="5304" class="l"> 5304: </a><span class="php-quote">    `Code_ISO_3166`.`ISO3`,
</span><a href="#5305" id="5305" class="l"> 5305: </a><span class="php-quote">    `Code_ISO_3166`.`CodeNum`,
</span><a href="#5306" id="5306" class="l"> 5306: </a><span class="php-quote">    `Code_ISO_3166`.`Code2`,
</span><a href="#5307" id="5307" class="l"> 5307: </a><span class="php-quote">    `VALID_COUNTRY`.`ISO3` AS `ValidCode`,
</span><a href="#5308" id="5308" class="l"> 5308: </a><span class="php-quote">    `Code_ISO_3166`.`Region`,
</span><a href="#5309" id="5309" class="l"> 5309: </a><span class="php-quote">    `Code_ISO_3166`.`Name`,
</span><a href="#5310" id="5310" class="l"> 5310: </a><span class="php-quote">    `Code_ISO_3166`.`Current`,
</span><a href="#5311" id="5311" class="l"> 5311: </a><span class="php-quote">    `Code_ISO_3166`.`FlagThumb`,
</span><a href="#5312" id="5312" class="l"> 5312: </a><span class="php-quote">    `Code_ISO_3166`.`FlagImage`,
</span><a href="#5313" id="5313" class="l"> 5313: </a><span class="php-quote">    `Code_ISO_3166`.`FlagVector`
</span><a href="#5314" id="5314" class="l"> 5314: </a><span class="php-quote">FROM
</span><a href="#5315" id="5315" class="l"> 5315: </a><span class="php-quote">    `Code_ISO_3166`
</span><a href="#5316" id="5316" class="l"> 5316: </a><span class="php-quote">        LEFT JOIN `Code_ISO_3166` `VALID_COUNTRY`
</span><a href="#5317" id="5317" class="l"> 5317: </a><span class="php-quote">            ON( `VALID_COUNTRY`.`Code` = `Code_ISO_3166`.`Valid` )
</span><a href="#5318" id="5318" class="l"> 5318: </a><span class="php-quote">WHERE
</span><a href="#5319" id="5319" class="l"> 5319: </a><span class="php-quote">    `Code_ISO_3166`.`ISO3` IS NOT NULL
</span><a href="#5320" id="5320" class="l"> 5320: </a><span class="php-quote">ORDER BY
</span><a href="#5321" id="5321" class="l"> 5321: </a><span class="php-quote">    `Code_ISO_3166`.`ISO3`
</span><a href="#5322" id="5322" class="l"> 5322: </a><span class="php-quote">EOT;
</span><a href="#5323" id="5323" class="l"> 5323: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#5324" id="5324" class="l"> 5324: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#5325" id="5325" class="l"> 5325: </a>        {
<a href="#5326" id="5326" class="l"> 5326: </a>            <span class="php-comment">//</span>
<a href="#5327" id="5327" class="l"> 5327: </a>            <span class="php-comment">// Create alpha 3 term.</span>
<a href="#5328" id="5328" class="l"> 5328: </a>            <span class="php-comment">// Note that the country code namespace is ISO-3166-1,</span>
<a href="#5329" id="5329" class="l"> 5329: </a>            <span class="php-comment">// not its parent: this is because all codes are univoque.</span>
<a href="#5330" id="5330" class="l"> 5330: </a>            <span class="php-comment">//</span>
<a href="#5331" id="5331" class="l"> 5331: </a>            <span class="php-var">$term</span>
<a href="#5332" id="5332" class="l"> 5332: </a>                = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#5333" id="5333" class="l"> 5333: </a>                        <span class="php-var">$theContainer</span>, 
<a href="#5334" id="5334" class="l"> 5334: </a>                        COntologyTerm::HashIndex(
<a href="#5335" id="5335" class="l"> 5335: </a>                            <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1'</span> ]-&gt;Term()-&gt;GID()
<a href="#5336" id="5336" class="l"> 5336: </a>                           .kTOKEN_NAMESPACE_SEPARATOR
<a href="#5337" id="5337" class="l"> 5337: </a>                           .<span class="php-var">$record</span>[ <span class="php-quote">'ISO3'</span> ] ) );
<a href="#5338" id="5338" class="l"> 5338: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5339" id="5339" class="l"> 5339: </a>            {
<a href="#5340" id="5340" class="l"> 5340: </a>                <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1'</span> ]-&gt;Term() );
<a href="#5341" id="5341" class="l"> 5341: </a>                <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'ISO3'</span> ] );
<a href="#5342" id="5342" class="l"> 5342: </a>                <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#5343" id="5343" class="l"> 5343: </a>                <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#5344" id="5344" class="l"> 5344: </a>                <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#5345" id="5345" class="l"> 5345: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'CodeNum'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5346" id="5346" class="l"> 5346: </a>                    <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'CodeNum'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#5347" id="5347" class="l"> 5347: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Code2'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5348" id="5348" class="l"> 5348: </a>                    <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Code2'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#5349" id="5349" class="l"> 5349: </a>                <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5350" id="5350" class="l"> 5350: </a>                <span class="php-var">$term</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5351" id="5351" class="l"> 5351: </a>                <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Name'</span> ], kDEFAULT_LANGUAGE );
<a href="#5352" id="5352" class="l"> 5352: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'FlagThumb'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5353" id="5353" class="l"> 5353: </a>                    <span class="php-var">$term</span>-&gt;Image( kIMAGE_THUMB_FLAG,
<a href="#5354" id="5354" class="l"> 5354: </a>                                  kTYPE_PNG,
<a href="#5355" id="5355" class="l"> 5355: </a>                                  <span class="php-keyword2">bin2hex</span>( <span class="php-var">$record</span>[ <span class="php-quote">'FlagThumb'</span> ] ) );
<a href="#5356" id="5356" class="l"> 5356: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'FlagImage'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5357" id="5357" class="l"> 5357: </a>                    <span class="php-var">$term</span>-&gt;Image( kIMAGE_MED_FLAG,
<a href="#5358" id="5358" class="l"> 5358: </a>                                  kTYPE_PNG,
<a href="#5359" id="5359" class="l"> 5359: </a>                                  <span class="php-keyword2">bin2hex</span>( <span class="php-var">$record</span>[ <span class="php-quote">'FlagImage'</span> ] ) );
<a href="#5360" id="5360" class="l"> 5360: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'FlagVector'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5361" id="5361" class="l"> 5361: </a>                    <span class="php-var">$term</span>-&gt;Image( kIMAGE_VECT_FLAG,
<a href="#5362" id="5362" class="l"> 5362: </a>                                  kTYPE_SVG,
<a href="#5363" id="5363" class="l"> 5363: </a>                                  <span class="php-var">$record</span>[ <span class="php-quote">'FlagVector'</span> ] );
<a href="#5364" id="5364" class="l"> 5364: </a>                <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5365" id="5365" class="l"> 5365: </a>            }
<a href="#5366" id="5366" class="l"> 5366: </a>
<a href="#5367" id="5367" class="l"> 5367: </a>            <span class="php-comment">//</span>
<a href="#5368" id="5368" class="l"> 5368: </a>            <span class="php-comment">// Save main term.</span>
<a href="#5369" id="5369" class="l"> 5369: </a>            <span class="php-comment">//</span>
<a href="#5370" id="5370" class="l"> 5370: </a>            <span class="php-var">$term_main</span> = <span class="php-var">$term</span>;
<a href="#5371" id="5371" class="l"> 5371: </a>
<a href="#5372" id="5372" class="l"> 5372: </a>            <span class="php-comment">//</span>
<a href="#5373" id="5373" class="l"> 5373: </a>            <span class="php-comment">// Handle node.</span>
<a href="#5374" id="5374" class="l"> 5374: </a>            <span class="php-comment">//</span>
<a href="#5375" id="5375" class="l"> 5375: </a>            <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#5376" id="5376" class="l"> 5376: </a>            <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#5377" id="5377" class="l"> 5377: </a>            <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#5378" id="5378" class="l"> 5378: </a>            <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#5379" id="5379" class="l"> 5379: </a>            <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5380" id="5380" class="l"> 5380: </a>            <span class="php-var">$node</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5381" id="5381" class="l"> 5381: </a>            <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5382" id="5382" class="l"> 5382: </a>            
<a href="#5383" id="5383" class="l"> 5383: </a>            <span class="php-comment">//</span>
<a href="#5384" id="5384" class="l"> 5384: </a>            <span class="php-comment">// Save main node.</span>
<a href="#5385" id="5385" class="l"> 5385: </a>            <span class="php-comment">//</span>
<a href="#5386" id="5386" class="l"> 5386: </a>            <span class="php-var">$node_main</span> = <span class="php-var">$node</span>;
<a href="#5387" id="5387" class="l"> 5387: </a>            <span class="php-var">$countries</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'ISO3'</span> ] ] = <span class="php-var">$node</span>;
<a href="#5388" id="5388" class="l"> 5388: </a>            
<a href="#5389" id="5389" class="l"> 5389: </a>            <span class="php-comment">//</span>
<a href="#5390" id="5390" class="l"> 5390: </a>            <span class="php-comment">// Handle edge.</span>
<a href="#5391" id="5391" class="l"> 5391: </a>            <span class="php-comment">//</span>
<a href="#5392" id="5392" class="l"> 5392: </a>            <span class="php-var">$parent</span> = <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1:ALPHA-3'</span> ];
<a href="#5393" id="5393" class="l"> 5393: </a>            <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent</span> );
<a href="#5394" id="5394" class="l"> 5394: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5395" id="5395" class="l"> 5395: </a>            
<a href="#5396" id="5396" class="l"> 5396: </a>            <span class="php-comment">//</span>
<a href="#5397" id="5397" class="l"> 5397: </a>            <span class="php-comment">// Create region edge.</span>
<a href="#5398" id="5398" class="l"> 5398: </a>            <span class="php-comment">//</span>
<a href="#5399" id="5399" class="l"> 5399: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Region'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5400" id="5400" class="l"> 5400: </a>            {
<a href="#5401" id="5401" class="l"> 5401: </a>                <span class="php-var">$region</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'REGIONS'</span> ][ <span class="php-var">$record</span>[ <span class="php-quote">'Region'</span> ] ];
<a href="#5402" id="5402" class="l"> 5402: </a>                <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$part_of</span>, <span class="php-var">$region</span> );
<a href="#5403" id="5403" class="l"> 5403: </a>                <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5404" id="5404" class="l"> 5404: </a>            }
<a href="#5405" id="5405" class="l"> 5405: </a>            
<a href="#5406" id="5406" class="l"> 5406: </a>            <span class="php-comment">//</span>
<a href="#5407" id="5407" class="l"> 5407: </a>            <span class="php-comment">// Display.</span>
<a href="#5408" id="5408" class="l"> 5408: </a>            <span class="php-comment">//</span>
<a href="#5409" id="5409" class="l"> 5409: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5410" id="5410" class="l"> 5410: </a>                <span class="php-keyword1">echo</span>( <span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#5411" id="5411" class="l"> 5411: </a>                     .<span class="php-quote">&quot; [</span><span class="php-var">$term</span><span class="php-quote">] [&quot;</span>.<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;]&quot;</span> );
<a href="#5412" id="5412" class="l"> 5412: </a>            
<a href="#5413" id="5413" class="l"> 5413: </a>            <span class="php-comment">//</span>
<a href="#5414" id="5414" class="l"> 5414: </a>            <span class="php-comment">// Only valid codes.</span>
<a href="#5415" id="5415" class="l"> 5415: </a>            <span class="php-comment">//</span>
<a href="#5416" id="5416" class="l"> 5416: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Current'</span> ] )
<a href="#5417" id="5417" class="l"> 5417: </a>            {
<a href="#5418" id="5418" class="l"> 5418: </a>                <span class="php-comment">//</span>
<a href="#5419" id="5419" class="l"> 5419: </a>                <span class="php-comment">// Handle alpha 2 code.</span>
<a href="#5420" id="5420" class="l"> 5420: </a>                <span class="php-comment">//</span>
<a href="#5421" id="5421" class="l"> 5421: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Code2'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5422" id="5422" class="l"> 5422: </a>                {
<a href="#5423" id="5423" class="l"> 5423: </a>                    <span class="php-comment">//</span>
<a href="#5424" id="5424" class="l"> 5424: </a>                    <span class="php-comment">// Create alpha 2 term.</span>
<a href="#5425" id="5425" class="l"> 5425: </a>                    <span class="php-comment">//</span>
<a href="#5426" id="5426" class="l"> 5426: </a>                    <span class="php-var">$term</span>
<a href="#5427" id="5427" class="l"> 5427: </a>                        = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#5428" id="5428" class="l"> 5428: </a>                                <span class="php-var">$theContainer</span>, 
<a href="#5429" id="5429" class="l"> 5429: </a>                                COntologyTerm::HashIndex(
<a href="#5430" id="5430" class="l"> 5430: </a>                                    <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1'</span> ]-&gt;Term()-&gt;GID()
<a href="#5431" id="5431" class="l"> 5431: </a>                                   .kTOKEN_NAMESPACE_SEPARATOR
<a href="#5432" id="5432" class="l"> 5432: </a>                                   .<span class="php-var">$record</span>[ <span class="php-quote">'Code2'</span> ] ) );
<a href="#5433" id="5433" class="l"> 5433: </a>                    <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5434" id="5434" class="l"> 5434: </a>                    {
<a href="#5435" id="5435" class="l"> 5435: </a>                        <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1'</span> ]-&gt;Term() );
<a href="#5436" id="5436" class="l"> 5436: </a>                        <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Code2'</span> ] );
<a href="#5437" id="5437" class="l"> 5437: </a>                        <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#5438" id="5438" class="l"> 5438: </a>                        <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#5439" id="5439" class="l"> 5439: </a>                        <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#5440" id="5440" class="l"> 5440: </a>                        <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'ISO3'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#5441" id="5441" class="l"> 5441: </a>                        <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'CodeNum'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5442" id="5442" class="l"> 5442: </a>                            <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'CodeNum'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#5443" id="5443" class="l"> 5443: </a>                        <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5444" id="5444" class="l"> 5444: </a>                        <span class="php-var">$term</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5445" id="5445" class="l"> 5445: </a>                        <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Name'</span> ], kDEFAULT_LANGUAGE );
<a href="#5446" id="5446" class="l"> 5446: </a>                        <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5447" id="5447" class="l"> 5447: </a>                    }
<a href="#5448" id="5448" class="l"> 5448: </a>        
<a href="#5449" id="5449" class="l"> 5449: </a>                    <span class="php-comment">//</span>
<a href="#5450" id="5450" class="l"> 5450: </a>                    <span class="php-comment">// Save term.</span>
<a href="#5451" id="5451" class="l"> 5451: </a>                    <span class="php-comment">//</span>
<a href="#5452" id="5452" class="l"> 5452: </a>                    <span class="php-var">$term_alt1</span> = <span class="php-var">$term</span>;
<a href="#5453" id="5453" class="l"> 5453: </a>        
<a href="#5454" id="5454" class="l"> 5454: </a>                    <span class="php-comment">//</span>
<a href="#5455" id="5455" class="l"> 5455: </a>                    <span class="php-comment">// Handle node.</span>
<a href="#5456" id="5456" class="l"> 5456: </a>                    <span class="php-comment">//</span>
<a href="#5457" id="5457" class="l"> 5457: </a>                    <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#5458" id="5458" class="l"> 5458: </a>                    <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#5459" id="5459" class="l"> 5459: </a>                    <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#5460" id="5460" class="l"> 5460: </a>                    <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#5461" id="5461" class="l"> 5461: </a>                    <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5462" id="5462" class="l"> 5462: </a>                    <span class="php-var">$node</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5463" id="5463" class="l"> 5463: </a>                    <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5464" id="5464" class="l"> 5464: </a>                    
<a href="#5465" id="5465" class="l"> 5465: </a>                    <span class="php-comment">//</span>
<a href="#5466" id="5466" class="l"> 5466: </a>                    <span class="php-comment">// Save node.</span>
<a href="#5467" id="5467" class="l"> 5467: </a>                    <span class="php-comment">//</span>
<a href="#5468" id="5468" class="l"> 5468: </a>                    <span class="php-var">$node_alt1</span> = <span class="php-var">$node</span>;
<a href="#5469" id="5469" class="l"> 5469: </a>                    
<a href="#5470" id="5470" class="l"> 5470: </a>                    <span class="php-comment">//</span>
<a href="#5471" id="5471" class="l"> 5471: </a>                    <span class="php-comment">// Handle edge.</span>
<a href="#5472" id="5472" class="l"> 5472: </a>                    <span class="php-comment">//</span>
<a href="#5473" id="5473" class="l"> 5473: </a>                    <span class="php-var">$parent</span> = <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1:ALPHA-2'</span> ];
<a href="#5474" id="5474" class="l"> 5474: </a>                    <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent</span> );
<a href="#5475" id="5475" class="l"> 5475: </a>                    <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5476" id="5476" class="l"> 5476: </a>                    
<a href="#5477" id="5477" class="l"> 5477: </a>                    <span class="php-comment">//</span>
<a href="#5478" id="5478" class="l"> 5478: </a>                    <span class="php-comment">// Create region edge.</span>
<a href="#5479" id="5479" class="l"> 5479: </a>                    <span class="php-comment">//</span>
<a href="#5480" id="5480" class="l"> 5480: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Region'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5481" id="5481" class="l"> 5481: </a>                    {
<a href="#5482" id="5482" class="l"> 5482: </a>                        <span class="php-var">$region</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'REGIONS'</span> ][ <span class="php-var">$record</span>[ <span class="php-quote">'Region'</span> ] ];
<a href="#5483" id="5483" class="l"> 5483: </a>                        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$part_of</span>, <span class="php-var">$region</span> );
<a href="#5484" id="5484" class="l"> 5484: </a>                        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5485" id="5485" class="l"> 5485: </a>                    }
<a href="#5486" id="5486" class="l"> 5486: </a>                    
<a href="#5487" id="5487" class="l"> 5487: </a>                    <span class="php-comment">//</span>
<a href="#5488" id="5488" class="l"> 5488: </a>                    <span class="php-comment">// Display.</span>
<a href="#5489" id="5489" class="l"> 5489: </a>                    <span class="php-comment">//</span>
<a href="#5490" id="5490" class="l"> 5490: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5491" id="5491" class="l"> 5491: </a>                        <span class="php-keyword1">echo</span>( <span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#5492" id="5492" class="l"> 5492: </a>                             .<span class="php-quote">&quot; [</span><span class="php-var">$term</span><span class="php-quote">] [&quot;</span>.<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;]&quot;</span> );
<a href="#5493" id="5493" class="l"> 5493: </a>                }
<a href="#5494" id="5494" class="l"> 5494: </a>                <span class="php-keyword1">else</span>
<a href="#5495" id="5495" class="l"> 5495: </a>                    <span class="php-var">$term_alt1</span> = <span class="php-keyword1">NULL</span>;
<a href="#5496" id="5496" class="l"> 5496: </a>            
<a href="#5497" id="5497" class="l"> 5497: </a>                <span class="php-comment">//</span>
<a href="#5498" id="5498" class="l"> 5498: </a>                <span class="php-comment">// Handle numeric 3 code.</span>
<a href="#5499" id="5499" class="l"> 5499: </a>                <span class="php-comment">//</span>
<a href="#5500" id="5500" class="l"> 5500: </a>                <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'CodeNum'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5501" id="5501" class="l"> 5501: </a>                {
<a href="#5502" id="5502" class="l"> 5502: </a>                    <span class="php-comment">//</span>
<a href="#5503" id="5503" class="l"> 5503: </a>                    <span class="php-comment">// Create numeric 3 term.</span>
<a href="#5504" id="5504" class="l"> 5504: </a>                    <span class="php-comment">//</span>
<a href="#5505" id="5505" class="l"> 5505: </a>                    <span class="php-var">$term</span>
<a href="#5506" id="5506" class="l"> 5506: </a>                        = <span class="php-keyword1">new</span> COntologyTerm(
<a href="#5507" id="5507" class="l"> 5507: </a>                                <span class="php-var">$theContainer</span>, 
<a href="#5508" id="5508" class="l"> 5508: </a>                                COntologyTerm::HashIndex(
<a href="#5509" id="5509" class="l"> 5509: </a>                                    <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1'</span> ]-&gt;Term()-&gt;GID()
<a href="#5510" id="5510" class="l"> 5510: </a>                                   .kTOKEN_NAMESPACE_SEPARATOR
<a href="#5511" id="5511" class="l"> 5511: </a>                                   .<span class="php-var">$record</span>[ <span class="php-quote">'CodeNum'</span> ] ) );
<a href="#5512" id="5512" class="l"> 5512: </a>                    <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5513" id="5513" class="l"> 5513: </a>                    {
<a href="#5514" id="5514" class="l"> 5514: </a>                        <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1'</span> ]-&gt;Term() );
<a href="#5515" id="5515" class="l"> 5515: </a>                        <span class="php-var">$term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'CodeNum'</span> ] );
<a href="#5516" id="5516" class="l"> 5516: </a>                        <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#5517" id="5517" class="l"> 5517: </a>                        <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#5518" id="5518" class="l"> 5518: </a>                        <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#5519" id="5519" class="l"> 5519: </a>                        <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'ISO3'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#5520" id="5520" class="l"> 5520: </a>                        <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Code2'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5521" id="5521" class="l"> 5521: </a>                            <span class="php-var">$term</span>-&gt;Synonym( <span class="php-var">$record</span>[ <span class="php-quote">'Code2'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#5522" id="5522" class="l"> 5522: </a>                        <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5523" id="5523" class="l"> 5523: </a>                        <span class="php-var">$term</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5524" id="5524" class="l"> 5524: </a>                        <span class="php-var">$term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Name'</span> ], kDEFAULT_LANGUAGE );
<a href="#5525" id="5525" class="l"> 5525: </a>                        <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5526" id="5526" class="l"> 5526: </a>                    }
<a href="#5527" id="5527" class="l"> 5527: </a>        
<a href="#5528" id="5528" class="l"> 5528: </a>                    <span class="php-comment">//</span>
<a href="#5529" id="5529" class="l"> 5529: </a>                    <span class="php-comment">// Save term.</span>
<a href="#5530" id="5530" class="l"> 5530: </a>                    <span class="php-comment">//</span>
<a href="#5531" id="5531" class="l"> 5531: </a>                    <span class="php-var">$term_alt2</span> = <span class="php-var">$term</span>;
<a href="#5532" id="5532" class="l"> 5532: </a>        
<a href="#5533" id="5533" class="l"> 5533: </a>                    <span class="php-comment">//</span>
<a href="#5534" id="5534" class="l"> 5534: </a>                    <span class="php-comment">// Handle node.</span>
<a href="#5535" id="5535" class="l"> 5535: </a>                    <span class="php-comment">//</span>
<a href="#5536" id="5536" class="l"> 5536: </a>                    <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#5537" id="5537" class="l"> 5537: </a>                    <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#5538" id="5538" class="l"> 5538: </a>                    <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#5539" id="5539" class="l"> 5539: </a>                    <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#5540" id="5540" class="l"> 5540: </a>                    <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#5541" id="5541" class="l"> 5541: </a>                    <span class="php-var">$node</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#5542" id="5542" class="l"> 5542: </a>                    <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5543" id="5543" class="l"> 5543: </a>                    
<a href="#5544" id="5544" class="l"> 5544: </a>                    <span class="php-comment">//</span>
<a href="#5545" id="5545" class="l"> 5545: </a>                    <span class="php-comment">// Save node.</span>
<a href="#5546" id="5546" class="l"> 5546: </a>                    <span class="php-comment">//</span>
<a href="#5547" id="5547" class="l"> 5547: </a>                    <span class="php-var">$node_alt2</span> = <span class="php-var">$node</span>;
<a href="#5548" id="5548" class="l"> 5548: </a>                    
<a href="#5549" id="5549" class="l"> 5549: </a>                    <span class="php-comment">//</span>
<a href="#5550" id="5550" class="l"> 5550: </a>                    <span class="php-comment">// Handle edge.</span>
<a href="#5551" id="5551" class="l"> 5551: </a>                    <span class="php-comment">//</span>
<a href="#5552" id="5552" class="l"> 5552: </a>                    <span class="php-var">$parent</span> = <span class="php-var">$nodes</span>[ <span class="php-quote">'ISO:3166:1:NUMERIC-3'</span> ];
<a href="#5553" id="5553" class="l"> 5553: </a>                    <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent</span> );
<a href="#5554" id="5554" class="l"> 5554: </a>                    <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5555" id="5555" class="l"> 5555: </a>                    
<a href="#5556" id="5556" class="l"> 5556: </a>                    <span class="php-comment">//</span>
<a href="#5557" id="5557" class="l"> 5557: </a>                    <span class="php-comment">// Create region edge.</span>
<a href="#5558" id="5558" class="l"> 5558: </a>                    <span class="php-comment">//</span>
<a href="#5559" id="5559" class="l"> 5559: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Region'</span> ] !== <span class="php-keyword1">NULL</span> )
<a href="#5560" id="5560" class="l"> 5560: </a>                    {
<a href="#5561" id="5561" class="l"> 5561: </a>                        <span class="php-var">$region</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'REGIONS'</span> ][ <span class="php-var">$record</span>[ <span class="php-quote">'Region'</span> ] ];
<a href="#5562" id="5562" class="l"> 5562: </a>                        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$part_of</span>, <span class="php-var">$region</span> );
<a href="#5563" id="5563" class="l"> 5563: </a>                        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5564" id="5564" class="l"> 5564: </a>                    }
<a href="#5565" id="5565" class="l"> 5565: </a>                    
<a href="#5566" id="5566" class="l"> 5566: </a>                    <span class="php-comment">//</span>
<a href="#5567" id="5567" class="l"> 5567: </a>                    <span class="php-comment">// Display.</span>
<a href="#5568" id="5568" class="l"> 5568: </a>                    <span class="php-comment">//</span>
<a href="#5569" id="5569" class="l"> 5569: </a>                    <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5570" id="5570" class="l"> 5570: </a>                        <span class="php-keyword1">echo</span>( <span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#5571" id="5571" class="l"> 5571: </a>                             .<span class="php-quote">&quot; [</span><span class="php-var">$term</span><span class="php-quote">] [&quot;</span>.<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;]&quot;</span> );
<a href="#5572" id="5572" class="l"> 5572: </a>                }
<a href="#5573" id="5573" class="l"> 5573: </a>                <span class="php-keyword1">else</span>
<a href="#5574" id="5574" class="l"> 5574: </a>                    <span class="php-var">$term_alt2</span> = <span class="php-keyword1">NULL</span>;
<a href="#5575" id="5575" class="l"> 5575: </a>                
<a href="#5576" id="5576" class="l"> 5576: </a>                <span class="php-comment">//</span>
<a href="#5577" id="5577" class="l"> 5577: </a>                <span class="php-comment">// Handle exact cross-references.</span>
<a href="#5578" id="5578" class="l"> 5578: </a>                <span class="php-comment">//</span>
<a href="#5579" id="5579" class="l"> 5579: </a>                <span class="php-var">$trms</span> = <span class="php-keyword1">array</span>( <span class="php-var">$term_main</span>, ( ( <span class="php-var">$term_alt1</span> !== <span class="php-keyword1">NULL</span> ) ? <span class="php-var">$term_alt1</span> : <span class="php-keyword1">NULL</span> ),
<a href="#5580" id="5580" class="l"> 5580: </a>                                           ( ( <span class="php-var">$term_alt2</span> !== <span class="php-keyword1">NULL</span> ) ? <span class="php-var">$term_alt2</span> : <span class="php-keyword1">NULL</span> ) );
<a href="#5581" id="5581" class="l"> 5581: </a>                <span class="php-var">$nods</span> = <span class="php-keyword1">array</span>( <span class="php-var">$node_main</span>, ( ( <span class="php-var">$term_alt1</span> !== <span class="php-keyword1">NULL</span> ) ? <span class="php-var">$node_alt1</span> : <span class="php-keyword1">NULL</span> ),
<a href="#5582" id="5582" class="l"> 5582: </a>                                           ( ( <span class="php-var">$term_alt2</span> !== <span class="php-keyword1">NULL</span> ) ? <span class="php-var">$node_alt2</span> : <span class="php-keyword1">NULL</span> ) );
<a href="#5583" id="5583" class="l"> 5583: </a>                <span class="php-keyword1">for</span>( <span class="php-var">$i</span> = <span class="php-num">0</span>; <span class="php-var">$i</span> &lt; <span class="php-keyword2">count</span>( <span class="php-var">$trms</span> ); <span class="php-var">$i</span>++ )
<a href="#5584" id="5584" class="l"> 5584: </a>                {
<a href="#5585" id="5585" class="l"> 5585: </a>                    <span class="php-keyword1">for</span>( <span class="php-var">$j</span> = <span class="php-num">0</span>; <span class="php-var">$j</span> &lt; <span class="php-keyword2">count</span>( <span class="php-var">$trms</span> ); <span class="php-var">$j</span>++ )
<a href="#5586" id="5586" class="l"> 5586: </a>                    {
<a href="#5587" id="5587" class="l"> 5587: </a>                        <span class="php-comment">//</span>
<a href="#5588" id="5588" class="l"> 5588: </a>                        <span class="php-comment">// Skip same.</span>
<a href="#5589" id="5589" class="l"> 5589: </a>                        <span class="php-comment">//</span>
<a href="#5590" id="5590" class="l"> 5590: </a>                        <span class="php-keyword1">if</span>( <span class="php-var">$i</span> != <span class="php-var">$j</span> )
<a href="#5591" id="5591" class="l"> 5591: </a>                        {
<a href="#5592" id="5592" class="l"> 5592: </a>                            <span class="php-comment">//</span>
<a href="#5593" id="5593" class="l"> 5593: </a>                            <span class="php-comment">// Skip missing.</span>
<a href="#5594" id="5594" class="l"> 5594: </a>                            <span class="php-comment">//</span>
<a href="#5595" id="5595" class="l"> 5595: </a>                            <span class="php-keyword1">if</span>( (<span class="php-var">$trms</span>[ <span class="php-var">$i</span> ] !== <span class="php-keyword1">NULL</span>)
<a href="#5596" id="5596" class="l"> 5596: </a>                             &amp;&amp; (<span class="php-var">$trms</span>[ <span class="php-var">$j</span> ] !== <span class="php-keyword1">NULL</span>) )
<a href="#5597" id="5597" class="l"> 5597: </a>                            {
<a href="#5598" id="5598" class="l"> 5598: </a>                                <span class="php-comment">//</span>
<a href="#5599" id="5599" class="l"> 5599: </a>                                <span class="php-comment">// Relate terms.</span>
<a href="#5600" id="5600" class="l"> 5600: </a>                                <span class="php-comment">//</span>
<a href="#5601" id="5601" class="l"> 5601: </a>                                <span class="php-var">$trms</span>[ <span class="php-var">$i</span> ]-&gt;Xref( <span class="php-var">$trms</span>[ <span class="php-var">$j</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#5602" id="5602" class="l"> 5602: </a>                                <span class="php-comment">//</span>
<a href="#5603" id="5603" class="l"> 5603: </a>                                <span class="php-comment">// Set used.</span>
<a href="#5604" id="5604" class="l"> 5604: </a>                                <span class="php-comment">//</span>
<a href="#5605" id="5605" class="l"> 5605: </a>                                <span class="php-keyword1">if</span>( <span class="php-var">$i</span> == <span class="php-num">0</span> )
<a href="#5606" id="5606" class="l"> 5606: </a>                                {
<a href="#5607" id="5607" class="l"> 5607: </a>                                    <span class="php-comment">//</span>
<a href="#5608" id="5608" class="l"> 5608: </a>                                    <span class="php-comment">// Set in term.</span>
<a href="#5609" id="5609" class="l"> 5609: </a>                                    <span class="php-comment">//</span>
<a href="#5610" id="5610" class="l"> 5610: </a>                                    <span class="php-var">$trms</span>[ <span class="php-var">$j</span> ]-&gt;Used( <span class="php-var">$trms</span>[ <span class="php-var">$i</span> ] );
<a href="#5611" id="5611" class="l"> 5611: </a>                                    <span class="php-comment">//</span>
<a href="#5612" id="5612" class="l"> 5612: </a>                                    <span class="php-comment">// Set in node.</span>
<a href="#5613" id="5613" class="l"> 5613: </a>                                    <span class="php-comment">//</span>
<a href="#5614" id="5614" class="l"> 5614: </a>                                    <span class="php-var">$edge</span>
<a href="#5615" id="5615" class="l"> 5615: </a>                                        = <span class="php-var">$nods</span>[ <span class="php-var">$j</span> ]-&gt;RelateTo(
<a href="#5616" id="5616" class="l"> 5616: </a>                                            <span class="php-var">$container</span>, kTAG_DEFAULT, <span class="php-var">$nods</span>[ <span class="php-var">$i</span> ] );
<a href="#5617" id="5617" class="l"> 5617: </a>                                    <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5618" id="5618" class="l"> 5618: </a>                                }
<a href="#5619" id="5619" class="l"> 5619: </a>                                <span class="php-comment">//</span>
<a href="#5620" id="5620" class="l"> 5620: </a>                                <span class="php-comment">// Relate nodes.</span>
<a href="#5621" id="5621" class="l"> 5621: </a>                                <span class="php-comment">//</span>
<a href="#5622" id="5622" class="l"> 5622: </a>                                <span class="php-var">$edge</span>
<a href="#5623" id="5623" class="l"> 5623: </a>                                    = <span class="php-var">$nods</span>[ <span class="php-var">$i</span> ]-&gt;RelateTo(
<a href="#5624" id="5624" class="l"> 5624: </a>                                        <span class="php-var">$container</span>, kTAG_REFERENCE_XREF, <span class="php-var">$nods</span>[ <span class="php-var">$j</span> ] );
<a href="#5625" id="5625" class="l"> 5625: </a>                                <span class="php-var">$edge</span>-&gt;Node()-&gt;setProperty( kTAG_KIND, kTYPE_EXACT );
<a href="#5626" id="5626" class="l"> 5626: </a>                                <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5627" id="5627" class="l"> 5627: </a>                                <span class="php-comment">//</span>
<a href="#5628" id="5628" class="l"> 5628: </a>                                <span class="php-comment">// Commit term.</span>
<a href="#5629" id="5629" class="l"> 5629: </a>                                <span class="php-comment">//</span>
<a href="#5630" id="5630" class="l"> 5630: </a>                                <span class="php-var">$trms</span>[ <span class="php-var">$i</span> ]-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5631" id="5631" class="l"> 5631: </a>                            }
<a href="#5632" id="5632" class="l"> 5632: </a>                        }
<a href="#5633" id="5633" class="l"> 5633: </a>                    }
<a href="#5634" id="5634" class="l"> 5634: </a>                }
<a href="#5635" id="5635" class="l"> 5635: </a>            }
<a href="#5636" id="5636" class="l"> 5636: </a>            
<a href="#5637" id="5637" class="l"> 5637: </a>            <span class="php-comment">//</span>
<a href="#5638" id="5638" class="l"> 5638: </a>            <span class="php-comment">// Display.</span>
<a href="#5639" id="5639" class="l"> 5639: </a>            <span class="php-comment">//</span>
<a href="#5640" id="5640" class="l"> 5640: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5641" id="5641" class="l"> 5641: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span> );
<a href="#5642" id="5642" class="l"> 5642: </a>        
<a href="#5643" id="5643" class="l"> 5643: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#5644" id="5644" class="l"> 5644: </a>        
<a href="#5645" id="5645" class="l"> 5645: </a>        <span class="php-comment">//</span>
<a href="#5646" id="5646" class="l"> 5646: </a>        <span class="php-comment">// Iterate obsolete codes.</span>
<a href="#5647" id="5647" class="l"> 5647: </a>        <span class="php-comment">//</span>
<a href="#5648" id="5648" class="l"> 5648: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#5649" id="5649" class="l"> 5649: </a><span class="php-quote">SELECT
</span><a href="#5650" id="5650" class="l"> 5650: </a><span class="php-quote">    `Code_ISO_3166`.`ISO3`,
</span><a href="#5651" id="5651" class="l"> 5651: </a><span class="php-quote">    `VALID_COUNTRY`.`ISO3` AS `ValidCode`
</span><a href="#5652" id="5652" class="l"> 5652: </a><span class="php-quote">FROM
</span><a href="#5653" id="5653" class="l"> 5653: </a><span class="php-quote">    `Code_ISO_3166`
</span><a href="#5654" id="5654" class="l"> 5654: </a><span class="php-quote">        LEFT JOIN `Code_ISO_3166` `VALID_COUNTRY`
</span><a href="#5655" id="5655" class="l"> 5655: </a><span class="php-quote">            ON( `VALID_COUNTRY`.`Code` = `Code_ISO_3166`.`Valid` )
</span><a href="#5656" id="5656" class="l"> 5656: </a><span class="php-quote">WHERE
</span><a href="#5657" id="5657" class="l"> 5657: </a><span class="php-quote">(
</span><a href="#5658" id="5658" class="l"> 5658: </a><span class="php-quote">    (`VALID_COUNTRY`.`ISO3` IS NOT NULL) AND
</span><a href="#5659" id="5659" class="l"> 5659: </a><span class="php-quote">    (`Code_ISO_3166`.`ISO3` IS NOT NULL)
</span><a href="#5660" id="5660" class="l"> 5660: </a><span class="php-quote">)
</span><a href="#5661" id="5661" class="l"> 5661: </a><span class="php-quote">EOT;
</span><a href="#5662" id="5662" class="l"> 5662: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#5663" id="5663" class="l"> 5663: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#5664" id="5664" class="l"> 5664: </a>        {
<a href="#5665" id="5665" class="l"> 5665: </a>            <span class="php-comment">//</span>
<a href="#5666" id="5666" class="l"> 5666: </a>            <span class="php-comment">// Get obsolete and valid nodes.</span>
<a href="#5667" id="5667" class="l"> 5667: </a>            <span class="php-comment">//</span>
<a href="#5668" id="5668" class="l"> 5668: </a>            <span class="php-var">$obsolete_node</span> = <span class="php-var">$countries</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'ISO3'</span> ] ];
<a href="#5669" id="5669" class="l"> 5669: </a>            <span class="php-var">$valid_node</span> = <span class="php-var">$countries</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'ValidCode'</span> ] ];
<a href="#5670" id="5670" class="l"> 5670: </a>            
<a href="#5671" id="5671" class="l"> 5671: </a>            <span class="php-comment">//</span>
<a href="#5672" id="5672" class="l"> 5672: </a>            <span class="php-comment">// Get obsolete and valid terms.</span>
<a href="#5673" id="5673" class="l"> 5673: </a>            <span class="php-comment">//</span>
<a href="#5674" id="5674" class="l"> 5674: </a>            <span class="php-var">$obsolete_term</span> = <span class="php-var">$obsolete_node</span>-&gt;Term();
<a href="#5675" id="5675" class="l"> 5675: </a>            <span class="php-var">$valid_term</span> = <span class="php-var">$valid_node</span>-&gt;Term();
<a href="#5676" id="5676" class="l"> 5676: </a>            
<a href="#5677" id="5677" class="l"> 5677: </a>            <span class="php-comment">//</span>
<a href="#5678" id="5678" class="l"> 5678: </a>            <span class="php-comment">// Set valid reference.</span>
<a href="#5679" id="5679" class="l"> 5679: </a>            <span class="php-comment">//</span>
<a href="#5680" id="5680" class="l"> 5680: </a>            <span class="php-var">$obsolete_term</span>-&gt;Valid( <span class="php-var">$valid_term</span> );
<a href="#5681" id="5681" class="l"> 5681: </a>            <span class="php-var">$obsolete_term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5682" id="5682" class="l"> 5682: </a>            
<a href="#5683" id="5683" class="l"> 5683: </a>            <span class="php-comment">//</span>
<a href="#5684" id="5684" class="l"> 5684: </a>            <span class="php-comment">// Handle edges.</span>
<a href="#5685" id="5685" class="l"> 5685: </a>            <span class="php-comment">//</span>
<a href="#5686" id="5686" class="l"> 5686: </a>            <span class="php-var">$edge</span> = <span class="php-var">$obsolete_node</span>-&gt;RelateTo( <span class="php-var">$container</span>, kTAG_VALID, <span class="php-var">$valid_node</span> );
<a href="#5687" id="5687" class="l"> 5687: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5688" id="5688" class="l"> 5688: </a>            
<a href="#5689" id="5689" class="l"> 5689: </a>            <span class="php-comment">//</span>
<a href="#5690" id="5690" class="l"> 5690: </a>            <span class="php-comment">// Display.</span>
<a href="#5691" id="5691" class="l"> 5691: </a>            <span class="php-comment">//</span>
<a href="#5692" id="5692" class="l"> 5692: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5693" id="5693" class="l"> 5693: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$obsolete_term</span><span class="php-quote">] ==&gt; [</span><span class="php-var">$valid_term</span><span class="php-quote">]\n&quot;</span> );
<a href="#5694" id="5694" class="l"> 5694: </a>        
<a href="#5695" id="5695" class="l"> 5695: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#5696" id="5696" class="l"> 5696: </a>        
<a href="#5697" id="5697" class="l"> 5697: </a>    } <span class="php-comment">// LoadISO.</span>
<a href="#5698" id="5698" class="l"> 5698: </a>
<a href="#5699" id="5699" class="l"> 5699: </a>     
<a href="#5700" id="5700" class="l"> 5700: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#5701" id="5701" class="l"> 5701: </a><span class="php-comment">     *  LoadMCPD                                                                        *
</span><a href="#5702" id="5702" class="l"> 5702: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#5703" id="5703" class="l"> 5703: </a>
<a href="#5704" id="5704" class="l"> 5704: </a>    <span class="php-comment">/**
</span><a href="#5705" id="5705" class="l"> 5705: </a><span class="php-comment">     * Load MCPD.
</span><a href="#5706" id="5706" class="l"> 5706: </a><span class="php-comment">     *
</span><a href="#5707" id="5707" class="l"> 5707: </a><span class="php-comment">     * This function will load the MCPD ontology.
</span><a href="#5708" id="5708" class="l"> 5708: </a><span class="php-comment">     *
</span><a href="#5709" id="5709" class="l"> 5709: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#5710" id="5710" class="l"> 5710: </a><span class="php-comment">     * created terms.
</span><a href="#5711" id="5711" class="l"> 5711: </a><span class="php-comment">     *
</span><a href="#5712" id="5712" class="l"> 5712: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#5713" id="5713" class="l"> 5713: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#5714" id="5714" class="l"> 5714: </a><span class="php-comment">     *
</span><a href="#5715" id="5715" class="l"> 5715: </a><span class="php-comment">     * @access protected
</span><a href="#5716" id="5716" class="l"> 5716: </a><span class="php-comment">     */</span>
<a href="#5717" id="5717" class="l"> 5717: </a>    <span class="php-keyword1">function</span> LoadMCPD( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#5718" id="5718" class="l"> 5718: </a>    {
<a href="#5719" id="5719" class="l"> 5719: </a>        <span class="php-comment">//</span>
<a href="#5720" id="5720" class="l"> 5720: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#5721" id="5721" class="l"> 5721: </a>        <span class="php-comment">//</span>
<a href="#5722" id="5722" class="l"> 5722: </a>        <span class="php-var">$nodes</span> = <span class="php-keyword1">Array</span>();
<a href="#5723" id="5723" class="l"> 5723: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#5724" id="5724" class="l"> 5724: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#5725" id="5725" class="l"> 5725: </a>        
<a href="#5726" id="5726" class="l"> 5726: </a>        <span class="php-comment">//</span>
<a href="#5727" id="5727" class="l"> 5727: </a>        <span class="php-comment">// Open MySQL connection.</span>
<a href="#5728" id="5728" class="l"> 5728: </a>        <span class="php-comment">//</span>
<a href="#5729" id="5729" class="l"> 5729: </a>        <span class="php-var">$mysql</span> = NewADOConnection( DEFAULT_ANCILLARY_HOST );
<a href="#5730" id="5730" class="l"> 5730: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$mysql</span> )
<a href="#5731" id="5731" class="l"> 5731: </a>            <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> Exception( <span class="php-quote">'Unable to connect to MySQL.'</span> );               <span class="php-comment">// !@! ==&gt;</span>
<a href="#5732" id="5732" class="l"> 5732: </a>        <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-quote">&quot;SET CHARACTER SET 'utf8'&quot;</span> );
<a href="#5733" id="5733" class="l"> 5733: </a>        <span class="php-var">$mysql</span>-&gt;setFetchMode( ADODB_FETCH_ASSOC );
<a href="#5734" id="5734" class="l"> 5734: </a>        
<a href="#5735" id="5735" class="l"> 5735: </a>        <span class="php-comment">//</span>
<a href="#5736" id="5736" class="l"> 5736: </a>        <span class="php-comment">// Inform.</span>
<a href="#5737" id="5737" class="l"> 5737: </a>        <span class="php-comment">//</span>
<a href="#5738" id="5738" class="l"> 5738: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5739" id="5739" class="l"> 5739: </a>        {
<a href="#5740" id="5740" class="l"> 5740: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#5741" id="5741" class="l"> 5741: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#5742" id="5742" class="l"> 5742: </a>        }
<a href="#5743" id="5743" class="l"> 5743: </a>        
<a href="#5744" id="5744" class="l"> 5744: </a>        <span class="php-comment">//</span>
<a href="#5745" id="5745" class="l"> 5745: </a>        <span class="php-comment">// IS-A.</span>
<a href="#5746" id="5746" class="l"> 5746: </a>        <span class="php-comment">//</span>
<a href="#5747" id="5747" class="l"> 5747: </a>        <span class="php-var">$is_a</span>
<a href="#5748" id="5748" class="l"> 5748: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#5749" id="5749" class="l"> 5749: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_IS_A ) );
<a href="#5750" id="5750" class="l"> 5750: </a>        
<a href="#5751" id="5751" class="l"> 5751: </a>        <span class="php-comment">//</span>
<a href="#5752" id="5752" class="l"> 5752: </a>        <span class="php-comment">// ENUM-OF.</span>
<a href="#5753" id="5753" class="l"> 5753: </a>        <span class="php-comment">//</span>
<a href="#5754" id="5754" class="l"> 5754: </a>        <span class="php-var">$enum_of</span>
<a href="#5755" id="5755" class="l"> 5755: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#5756" id="5756" class="l"> 5756: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_ENUM_OF ) );
<a href="#5757" id="5757" class="l"> 5757: </a>        
<a href="#5758" id="5758" class="l"> 5758: </a>        <span class="php-comment">//</span>
<a href="#5759" id="5759" class="l"> 5759: </a>        <span class="php-comment">// SCALE-OF.</span>
<a href="#5760" id="5760" class="l"> 5760: </a>        <span class="php-comment">//</span>
<a href="#5761" id="5761" class="l"> 5761: </a>        <span class="php-var">$scale_of</span>
<a href="#5762" id="5762" class="l"> 5762: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#5763" id="5763" class="l"> 5763: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_SCALE_OF ) );
<a href="#5764" id="5764" class="l"> 5764: </a>        
<a href="#5765" id="5765" class="l"> 5765: </a>        <span class="php-comment">//</span>
<a href="#5766" id="5766" class="l"> 5766: </a>        <span class="php-comment">// Get MCPD term.</span>
<a href="#5767" id="5767" class="l"> 5767: </a>        <span class="php-comment">//</span>
<a href="#5768" id="5768" class="l"> 5768: </a>        <span class="php-var">$term</span>
<a href="#5769" id="5769" class="l"> 5769: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#5770" id="5770" class="l"> 5770: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD'</span> ) );
<a href="#5771" id="5771" class="l"> 5771: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5772" id="5772" class="l"> 5772: </a>        {
<a href="#5773" id="5773" class="l"> 5773: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'MCPD'</span> );
<a href="#5774" id="5774" class="l"> 5774: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#5775" id="5775" class="l"> 5775: </a>            ( <span class="php-quote">'FAO/IPGRI Multi-Crop Passport Descriptor'</span>,
<a href="#5776" id="5776" class="l"> 5776: </a>              kDEFAULT_LANGUAGE );
<a href="#5777" id="5777" class="l"> 5777: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#5778" id="5778" class="l"> 5778: </a>            ( <span class="php-quote">'The list of multi-crop passport descriptors (MCPD) is developed jointly '</span>
<a href="#5779" id="5779" class="l"> 5779: </a>             .<span class="php-quote">'by IPGRI and FAO to provide international standards to facilitate germplasm '</span>
<a href="#5780" id="5780" class="l"> 5780: </a>             .<span class="php-quote">'passport information exchange. These descriptors aim to be compatible with '</span>
<a href="#5781" id="5781" class="l"> 5781: </a>             .<span class="php-quote">'IPGRI crop descriptor lists and with the descriptors used for the FAO '</span>
<a href="#5782" id="5782" class="l"> 5782: </a>             .<span class="php-quote">'World Information and Early Warning System (WIEWS) on plant genetic '</span>
<a href="#5783" id="5783" class="l"> 5783: </a>             .<span class="php-quote">'resources (PGR).'</span>, kDEFAULT_LANGUAGE );
<a href="#5784" id="5784" class="l"> 5784: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#5785" id="5785" class="l"> 5785: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_ACCESSION, <span class="php-keyword1">TRUE</span> );
<a href="#5786" id="5786" class="l"> 5786: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_PASSPORT, <span class="php-keyword1">TRUE</span> );
<a href="#5787" id="5787" class="l"> 5787: </a>            <span class="php-var">$term</span>-&gt;Version( <span class="php-quote">'December 2001'</span> );
<a href="#5788" id="5788" class="l"> 5788: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5789" id="5789" class="l"> 5789: </a>        }
<a href="#5790" id="5790" class="l"> 5790: </a>        
<a href="#5791" id="5791" class="l"> 5791: </a>        <span class="php-comment">//</span>
<a href="#5792" id="5792" class="l"> 5792: </a>        <span class="php-comment">// Handle node.</span>
<a href="#5793" id="5793" class="l"> 5793: </a>        <span class="php-comment">//</span>
<a href="#5794" id="5794" class="l"> 5794: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#5795" id="5795" class="l"> 5795: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#5796" id="5796" class="l"> 5796: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_ROOT, <span class="php-keyword1">TRUE</span> );
<a href="#5797" id="5797" class="l"> 5797: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_ACCESSION, <span class="php-keyword1">TRUE</span> );
<a href="#5798" id="5798" class="l"> 5798: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_PASSPORT, <span class="php-keyword1">TRUE</span> );
<a href="#5799" id="5799" class="l"> 5799: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5800" id="5800" class="l"> 5800: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] = <span class="php-var">$node</span>;
<a href="#5801" id="5801" class="l"> 5801: </a>
<a href="#5802" id="5802" class="l"> 5802: </a>        <span class="php-comment">//</span>
<a href="#5803" id="5803" class="l"> 5803: </a>        <span class="php-comment">// Display.</span>
<a href="#5804" id="5804" class="l"> 5804: </a>        <span class="php-comment">//</span>
<a href="#5805" id="5805" class="l"> 5805: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5806" id="5806" class="l"> 5806: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#5807" id="5807" class="l"> 5807: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#5808" id="5808" class="l"> 5808: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#5809" id="5809" class="l"> 5809: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#5810" id="5810" class="l"> 5810: </a>        
<a href="#5811" id="5811" class="l"> 5811: </a>        <span class="php-comment">//</span>
<a href="#5812" id="5812" class="l"> 5812: </a>        <span class="php-comment">// Get EURISCO MCPD term.</span>
<a href="#5813" id="5813" class="l"> 5813: </a>        <span class="php-comment">//</span>
<a href="#5814" id="5814" class="l"> 5814: </a>        <span class="php-var">$term</span>
<a href="#5815" id="5815" class="l"> 5815: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#5816" id="5816" class="l"> 5816: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:EURISCO'</span> ) );
<a href="#5817" id="5817" class="l"> 5817: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5818" id="5818" class="l"> 5818: </a>        {
<a href="#5819" id="5819" class="l"> 5819: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#5820" id="5820" class="l"> 5820: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'EURISCO'</span> );
<a href="#5821" id="5821" class="l"> 5821: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#5822" id="5822" class="l"> 5822: </a>            ( <span class="php-quote">'EURISCO extension to the FAO/IPGRI Multi-Crop Passport Descriptor'</span>,
<a href="#5823" id="5823" class="l"> 5823: </a>              kDEFAULT_LANGUAGE );
<a href="#5824" id="5824" class="l"> 5824: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#5825" id="5825" class="l"> 5825: </a>            ( <span class="php-quote">'Extensions to the FAO/IPGRI list of multi-crop passport descriptors (MCPD).'</span>, kDEFAULT_LANGUAGE );
<a href="#5826" id="5826" class="l"> 5826: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_NAMESPACE, <span class="php-keyword1">TRUE</span> );
<a href="#5827" id="5827" class="l"> 5827: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_ACCESSION, <span class="php-keyword1">TRUE</span> );
<a href="#5828" id="5828" class="l"> 5828: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_PASSPORT, <span class="php-keyword1">TRUE</span> );
<a href="#5829" id="5829" class="l"> 5829: </a>            <span class="php-var">$term</span>-&gt;Version( <span class="php-quote">'March 2011'</span> );
<a href="#5830" id="5830" class="l"> 5830: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5831" id="5831" class="l"> 5831: </a>        }
<a href="#5832" id="5832" class="l"> 5832: </a>
<a href="#5833" id="5833" class="l"> 5833: </a>        <span class="php-comment">//</span>
<a href="#5834" id="5834" class="l"> 5834: </a>        <span class="php-comment">// Display.</span>
<a href="#5835" id="5835" class="l"> 5835: </a>        <span class="php-comment">//</span>
<a href="#5836" id="5836" class="l"> 5836: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5837" id="5837" class="l"> 5837: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#5838" id="5838" class="l"> 5838: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#5839" id="5839" class="l"> 5839: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#5840" id="5840" class="l"> 5840: </a>     
<a href="#5841" id="5841" class="l"> 5841: </a>        <span class="php-comment">/*================================================================================
</span><a href="#5842" id="5842" class="l"> 5842: </a><span class="php-comment">         *  INSTCODE                                                                     *
</span><a href="#5843" id="5843" class="l"> 5843: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#5844" id="5844" class="l"> 5844: </a>
<a href="#5845" id="5845" class="l"> 5845: </a>        <span class="php-comment">//</span>
<a href="#5846" id="5846" class="l"> 5846: </a>        <span class="php-comment">// Term.</span>
<a href="#5847" id="5847" class="l"> 5847: </a>        <span class="php-comment">//</span>
<a href="#5848" id="5848" class="l"> 5848: </a>        <span class="php-var">$term</span>
<a href="#5849" id="5849" class="l"> 5849: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#5850" id="5850" class="l"> 5850: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:INSTCODE'</span> ) );
<a href="#5851" id="5851" class="l"> 5851: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5852" id="5852" class="l"> 5852: </a>        {
<a href="#5853" id="5853" class="l"> 5853: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#5854" id="5854" class="l"> 5854: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'INSTCODE'</span> );
<a href="#5855" id="5855" class="l"> 5855: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Holding institute code'</span>, kDEFAULT_LANGUAGE );
<a href="#5856" id="5856" class="l"> 5856: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#5857" id="5857" class="l"> 5857: </a>            ( <span class="php-quote">'Code of the institute where the accession is maintained. The codes '</span>
<a href="#5858" id="5858" class="l"> 5858: </a>             .<span class="php-quote">'consist of the 3-letter ISO 3166 country code of the country where the '</span>
<a href="#5859" id="5859" class="l"> 5859: </a>             .<span class="php-quote">'institute is located plus a number. The current set of Institute Codes is '</span>
<a href="#5860" id="5860" class="l"> 5860: </a>             .<span class="php-quote">'available from the FAO website (http://apps3.fao.org/wiews/). Note that '</span>
<a href="#5861" id="5861" class="l"> 5861: </a>             .<span class="php-quote">'although you usually see three digits following the country code, there '</span>
<a href="#5862" id="5862" class="l"> 5862: </a>             .<span class="php-quote">'are actually seven characters in the code, allowing four digits.'</span>,
<a href="#5863" id="5863" class="l"> 5863: </a>              kDEFAULT_LANGUAGE );
<a href="#5864" id="5864" class="l"> 5864: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#5865" id="5865" class="l"> 5865: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[A-Z]{3}[0-9]{3,4}'</span> );
<a href="#5866" id="5866" class="l"> 5866: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'COL002'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#5867" id="5867" class="l"> 5867: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'USA1001'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#5868" id="5868" class="l"> 5868: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5869" id="5869" class="l"> 5869: </a>        }
<a href="#5870" id="5870" class="l"> 5870: </a>        
<a href="#5871" id="5871" class="l"> 5871: </a>        <span class="php-comment">//</span>
<a href="#5872" id="5872" class="l"> 5872: </a>        <span class="php-comment">// Node.</span>
<a href="#5873" id="5873" class="l"> 5873: </a>        <span class="php-comment">//</span>
<a href="#5874" id="5874" class="l"> 5874: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#5875" id="5875" class="l"> 5875: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#5876" id="5876" class="l"> 5876: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#5877" id="5877" class="l"> 5877: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#5878" id="5878" class="l"> 5878: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5879" id="5879" class="l"> 5879: </a>        <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ <span class="php-quote">'INSTCODE'</span> ] = <span class="php-var">$nodes</span>[ <span class="php-quote">'INSTCODE'</span> ] = <span class="php-var">$node</span>;
<a href="#5880" id="5880" class="l"> 5880: </a>        
<a href="#5881" id="5881" class="l"> 5881: </a>        <span class="php-comment">//</span>
<a href="#5882" id="5882" class="l"> 5882: </a>        <span class="php-comment">// Edge.</span>
<a href="#5883" id="5883" class="l"> 5883: </a>        <span class="php-comment">//</span>
<a href="#5884" id="5884" class="l"> 5884: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#5885" id="5885" class="l"> 5885: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5886" id="5886" class="l"> 5886: </a>        
<a href="#5887" id="5887" class="l"> 5887: </a>        <span class="php-comment">//</span>
<a href="#5888" id="5888" class="l"> 5888: </a>        <span class="php-comment">// Display.</span>
<a href="#5889" id="5889" class="l"> 5889: </a>        <span class="php-comment">//</span>
<a href="#5890" id="5890" class="l"> 5890: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5891" id="5891" class="l"> 5891: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#5892" id="5892" class="l"> 5892: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#5893" id="5893" class="l"> 5893: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#5894" id="5894" class="l"> 5894: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#5895" id="5895" class="l"> 5895: </a>     
<a href="#5896" id="5896" class="l"> 5896: </a>        <span class="php-comment">/*================================================================================
</span><a href="#5897" id="5897" class="l"> 5897: </a><span class="php-comment">         *  ACCENUMB                                                                     *
</span><a href="#5898" id="5898" class="l"> 5898: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#5899" id="5899" class="l"> 5899: </a>
<a href="#5900" id="5900" class="l"> 5900: </a>        <span class="php-comment">//</span>
<a href="#5901" id="5901" class="l"> 5901: </a>        <span class="php-comment">// Term.</span>
<a href="#5902" id="5902" class="l"> 5902: </a>        <span class="php-comment">//</span>
<a href="#5903" id="5903" class="l"> 5903: </a>        <span class="php-var">$term</span>
<a href="#5904" id="5904" class="l"> 5904: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#5905" id="5905" class="l"> 5905: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:ACCENUMB'</span> ) );
<a href="#5906" id="5906" class="l"> 5906: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5907" id="5907" class="l"> 5907: </a>        {
<a href="#5908" id="5908" class="l"> 5908: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#5909" id="5909" class="l"> 5909: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ACCENUMB'</span> );
<a href="#5910" id="5910" class="l"> 5910: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Accession number'</span>, kDEFAULT_LANGUAGE );
<a href="#5911" id="5911" class="l"> 5911: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#5912" id="5912" class="l"> 5912: </a>            ( <span class="php-quote">'This number serves as a unique identifier for accessions within a genebank '</span>
<a href="#5913" id="5913" class="l"> 5913: </a>             .<span class="php-quote">'collection, and is assigned when a sample is entered into the genebank '</span>
<a href="#5914" id="5914" class="l"> 5914: </a>             .<span class="php-quote">'collection.'</span>,
<a href="#5915" id="5915" class="l"> 5915: </a>              kDEFAULT_LANGUAGE );
<a href="#5916" id="5916" class="l"> 5916: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#5917" id="5917" class="l"> 5917: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'WAB0026873'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#5918" id="5918" class="l"> 5918: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'CGN16587'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#5919" id="5919" class="l"> 5919: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5920" id="5920" class="l"> 5920: </a>        }
<a href="#5921" id="5921" class="l"> 5921: </a>        
<a href="#5922" id="5922" class="l"> 5922: </a>        <span class="php-comment">//</span>
<a href="#5923" id="5923" class="l"> 5923: </a>        <span class="php-comment">// Node.</span>
<a href="#5924" id="5924" class="l"> 5924: </a>        <span class="php-comment">//</span>
<a href="#5925" id="5925" class="l"> 5925: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#5926" id="5926" class="l"> 5926: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#5927" id="5927" class="l"> 5927: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#5928" id="5928" class="l"> 5928: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#5929" id="5929" class="l"> 5929: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5930" id="5930" class="l"> 5930: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ACCENUMB'</span> ] = <span class="php-var">$node</span>;
<a href="#5931" id="5931" class="l"> 5931: </a>        
<a href="#5932" id="5932" class="l"> 5932: </a>        <span class="php-comment">//</span>
<a href="#5933" id="5933" class="l"> 5933: </a>        <span class="php-comment">// Edge.</span>
<a href="#5934" id="5934" class="l"> 5934: </a>        <span class="php-comment">//</span>
<a href="#5935" id="5935" class="l"> 5935: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#5936" id="5936" class="l"> 5936: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5937" id="5937" class="l"> 5937: </a>        
<a href="#5938" id="5938" class="l"> 5938: </a>        <span class="php-comment">//</span>
<a href="#5939" id="5939" class="l"> 5939: </a>        <span class="php-comment">// Display.</span>
<a href="#5940" id="5940" class="l"> 5940: </a>        <span class="php-comment">//</span>
<a href="#5941" id="5941" class="l"> 5941: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5942" id="5942" class="l"> 5942: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#5943" id="5943" class="l"> 5943: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#5944" id="5944" class="l"> 5944: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#5945" id="5945" class="l"> 5945: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#5946" id="5946" class="l"> 5946: </a>     
<a href="#5947" id="5947" class="l"> 5947: </a>        <span class="php-comment">/*================================================================================
</span><a href="#5948" id="5948" class="l"> 5948: </a><span class="php-comment">         *  COLLNUMB                                                                     *
</span><a href="#5949" id="5949" class="l"> 5949: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#5950" id="5950" class="l"> 5950: </a>
<a href="#5951" id="5951" class="l"> 5951: </a>        <span class="php-comment">//</span>
<a href="#5952" id="5952" class="l"> 5952: </a>        <span class="php-comment">// Term.</span>
<a href="#5953" id="5953" class="l"> 5953: </a>        <span class="php-comment">//</span>
<a href="#5954" id="5954" class="l"> 5954: </a>        <span class="php-var">$term</span>
<a href="#5955" id="5955" class="l"> 5955: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#5956" id="5956" class="l"> 5956: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:COLLNUMB'</span> ) );
<a href="#5957" id="5957" class="l"> 5957: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#5958" id="5958" class="l"> 5958: </a>        {
<a href="#5959" id="5959" class="l"> 5959: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#5960" id="5960" class="l"> 5960: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'COLLNUMB'</span> );
<a href="#5961" id="5961" class="l"> 5961: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Collecting number'</span>, kDEFAULT_LANGUAGE );
<a href="#5962" id="5962" class="l"> 5962: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#5963" id="5963" class="l"> 5963: </a>            ( <span class="php-quote">'Original number assigned by the collector(s) of the sample, normally '</span>
<a href="#5964" id="5964" class="l"> 5964: </a>             .<span class="php-quote">'composed of the name or initials of the collector(s) followed by a number. '</span>
<a href="#5965" id="5965" class="l"> 5965: </a>             .<span class="php-quote">'This number is essential for identifying duplicates held in different '</span>
<a href="#5966" id="5966" class="l"> 5966: </a>             .<span class="php-quote">'collections.'</span>,
<a href="#5967" id="5967" class="l"> 5967: </a>              kDEFAULT_LANGUAGE );
<a href="#5968" id="5968" class="l"> 5968: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#5969" id="5969" class="l"> 5969: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'FA90-110'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#5970" id="5970" class="l"> 5970: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'BI 1117 016'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#5971" id="5971" class="l"> 5971: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'ZS030'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#5972" id="5972" class="l"> 5972: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#5973" id="5973" class="l"> 5973: </a>        }
<a href="#5974" id="5974" class="l"> 5974: </a>        
<a href="#5975" id="5975" class="l"> 5975: </a>        <span class="php-comment">//</span>
<a href="#5976" id="5976" class="l"> 5976: </a>        <span class="php-comment">// Node.</span>
<a href="#5977" id="5977" class="l"> 5977: </a>        <span class="php-comment">//</span>
<a href="#5978" id="5978" class="l"> 5978: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#5979" id="5979" class="l"> 5979: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#5980" id="5980" class="l"> 5980: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#5981" id="5981" class="l"> 5981: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#5982" id="5982" class="l"> 5982: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5983" id="5983" class="l"> 5983: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'COLLNUMB'</span> ] = <span class="php-var">$node</span>;
<a href="#5984" id="5984" class="l"> 5984: </a>        
<a href="#5985" id="5985" class="l"> 5985: </a>        <span class="php-comment">//</span>
<a href="#5986" id="5986" class="l"> 5986: </a>        <span class="php-comment">// Edge.</span>
<a href="#5987" id="5987" class="l"> 5987: </a>        <span class="php-comment">//</span>
<a href="#5988" id="5988" class="l"> 5988: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#5989" id="5989" class="l"> 5989: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#5990" id="5990" class="l"> 5990: </a>        
<a href="#5991" id="5991" class="l"> 5991: </a>        <span class="php-comment">//</span>
<a href="#5992" id="5992" class="l"> 5992: </a>        <span class="php-comment">// Display.</span>
<a href="#5993" id="5993" class="l"> 5993: </a>        <span class="php-comment">//</span>
<a href="#5994" id="5994" class="l"> 5994: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#5995" id="5995" class="l"> 5995: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#5996" id="5996" class="l"> 5996: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#5997" id="5997" class="l"> 5997: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#5998" id="5998" class="l"> 5998: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#5999" id="5999" class="l"> 5999: </a>     
<a href="#6000" id="6000" class="l"> 6000: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6001" id="6001" class="l"> 6001: </a><span class="php-comment">         *  COLLCODE                                                                     *
</span><a href="#6002" id="6002" class="l"> 6002: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6003" id="6003" class="l"> 6003: </a>
<a href="#6004" id="6004" class="l"> 6004: </a>        <span class="php-comment">//</span>
<a href="#6005" id="6005" class="l"> 6005: </a>        <span class="php-comment">// Term.</span>
<a href="#6006" id="6006" class="l"> 6006: </a>        <span class="php-comment">//</span>
<a href="#6007" id="6007" class="l"> 6007: </a>        <span class="php-var">$term</span>
<a href="#6008" id="6008" class="l"> 6008: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6009" id="6009" class="l"> 6009: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:COLLCODE'</span> ) );
<a href="#6010" id="6010" class="l"> 6010: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6011" id="6011" class="l"> 6011: </a>        {
<a href="#6012" id="6012" class="l"> 6012: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6013" id="6013" class="l"> 6013: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'COLLCODE'</span> );
<a href="#6014" id="6014" class="l"> 6014: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Collecting institute code'</span>, kDEFAULT_LANGUAGE );
<a href="#6015" id="6015" class="l"> 6015: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6016" id="6016" class="l"> 6016: </a>            ( <span class="php-quote">'Code of the institute collecting the sample. If the holding institute has '</span>
<a href="#6017" id="6017" class="l"> 6017: </a>             .<span class="php-quote">'collected the material, the collecting institute code (COLLCODE) should be '</span>
<a href="#6018" id="6018" class="l"> 6018: </a>             .<span class="php-quote">'the same as the holding institute code (INSTCODE). '</span>
<a href="#6019" id="6019" class="l"> 6019: </a>             .<span class="php-quote">'Follows INSTCODE standard.'</span>,
<a href="#6020" id="6020" class="l"> 6020: </a>              kDEFAULT_LANGUAGE );
<a href="#6021" id="6021" class="l"> 6021: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6022" id="6022" class="l"> 6022: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[A-Z]{3}[0-9]{3,4}'</span> );
<a href="#6023" id="6023" class="l"> 6023: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'COL002'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6024" id="6024" class="l"> 6024: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'USA1001'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6025" id="6025" class="l"> 6025: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ <span class="php-quote">'INSTCODE'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#6026" id="6026" class="l"> 6026: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6027" id="6027" class="l"> 6027: </a>        }
<a href="#6028" id="6028" class="l"> 6028: </a>        
<a href="#6029" id="6029" class="l"> 6029: </a>        <span class="php-comment">//</span>
<a href="#6030" id="6030" class="l"> 6030: </a>        <span class="php-comment">// Node.</span>
<a href="#6031" id="6031" class="l"> 6031: </a>        <span class="php-comment">//</span>
<a href="#6032" id="6032" class="l"> 6032: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6033" id="6033" class="l"> 6033: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6034" id="6034" class="l"> 6034: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6035" id="6035" class="l"> 6035: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6036" id="6036" class="l"> 6036: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6037" id="6037" class="l"> 6037: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'COLLCODE'</span> ] = <span class="php-var">$node</span>;
<a href="#6038" id="6038" class="l"> 6038: </a>        
<a href="#6039" id="6039" class="l"> 6039: </a>        <span class="php-comment">//</span>
<a href="#6040" id="6040" class="l"> 6040: </a>        <span class="php-comment">// Edge.</span>
<a href="#6041" id="6041" class="l"> 6041: </a>        <span class="php-comment">//</span>
<a href="#6042" id="6042" class="l"> 6042: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6043" id="6043" class="l"> 6043: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6044" id="6044" class="l"> 6044: </a>        
<a href="#6045" id="6045" class="l"> 6045: </a>        <span class="php-comment">//</span>
<a href="#6046" id="6046" class="l"> 6046: </a>        <span class="php-comment">// Display.</span>
<a href="#6047" id="6047" class="l"> 6047: </a>        <span class="php-comment">//</span>
<a href="#6048" id="6048" class="l"> 6048: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6049" id="6049" class="l"> 6049: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6050" id="6050" class="l"> 6050: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6051" id="6051" class="l"> 6051: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6052" id="6052" class="l"> 6052: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6053" id="6053" class="l"> 6053: </a>     
<a href="#6054" id="6054" class="l"> 6054: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6055" id="6055" class="l"> 6055: </a><span class="php-comment">         *  GENUS                                                                        *
</span><a href="#6056" id="6056" class="l"> 6056: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6057" id="6057" class="l"> 6057: </a>
<a href="#6058" id="6058" class="l"> 6058: </a>        <span class="php-comment">//</span>
<a href="#6059" id="6059" class="l"> 6059: </a>        <span class="php-comment">// Term.</span>
<a href="#6060" id="6060" class="l"> 6060: </a>        <span class="php-comment">//</span>
<a href="#6061" id="6061" class="l"> 6061: </a>        <span class="php-var">$term</span>
<a href="#6062" id="6062" class="l"> 6062: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6063" id="6063" class="l"> 6063: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:GENUS'</span> ) );
<a href="#6064" id="6064" class="l"> 6064: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6065" id="6065" class="l"> 6065: </a>        {
<a href="#6066" id="6066" class="l"> 6066: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6067" id="6067" class="l"> 6067: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'GENUS'</span> );
<a href="#6068" id="6068" class="l"> 6068: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Genus'</span>, kDEFAULT_LANGUAGE );
<a href="#6069" id="6069" class="l"> 6069: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6070" id="6070" class="l"> 6070: </a>            ( <span class="php-quote">'Genus name for taxon. Initial uppercase letter required.'</span>,
<a href="#6071" id="6071" class="l"> 6071: </a>              kDEFAULT_LANGUAGE );
<a href="#6072" id="6072" class="l"> 6072: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6073" id="6073" class="l"> 6073: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_TAXONOMY, <span class="php-keyword1">TRUE</span> );
<a href="#6074" id="6074" class="l"> 6074: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_EPITHET, <span class="php-keyword1">TRUE</span> );
<a href="#6075" id="6075" class="l"> 6075: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Allium'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6076" id="6076" class="l"> 6076: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6077" id="6077" class="l"> 6077: </a>        }
<a href="#6078" id="6078" class="l"> 6078: </a>        
<a href="#6079" id="6079" class="l"> 6079: </a>        <span class="php-comment">//</span>
<a href="#6080" id="6080" class="l"> 6080: </a>        <span class="php-comment">// Node.</span>
<a href="#6081" id="6081" class="l"> 6081: </a>        <span class="php-comment">//</span>
<a href="#6082" id="6082" class="l"> 6082: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6083" id="6083" class="l"> 6083: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6084" id="6084" class="l"> 6084: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6085" id="6085" class="l"> 6085: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6086" id="6086" class="l"> 6086: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_TAXONOMY, <span class="php-keyword1">TRUE</span> );
<a href="#6087" id="6087" class="l"> 6087: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_EPITHET, <span class="php-keyword1">TRUE</span> );
<a href="#6088" id="6088" class="l"> 6088: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6089" id="6089" class="l"> 6089: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'GENUS'</span> ] = <span class="php-var">$node</span>;
<a href="#6090" id="6090" class="l"> 6090: </a>        
<a href="#6091" id="6091" class="l"> 6091: </a>        <span class="php-comment">//</span>
<a href="#6092" id="6092" class="l"> 6092: </a>        <span class="php-comment">// Edge.</span>
<a href="#6093" id="6093" class="l"> 6093: </a>        <span class="php-comment">//</span>
<a href="#6094" id="6094" class="l"> 6094: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6095" id="6095" class="l"> 6095: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6096" id="6096" class="l"> 6096: </a>        
<a href="#6097" id="6097" class="l"> 6097: </a>        <span class="php-comment">//</span>
<a href="#6098" id="6098" class="l"> 6098: </a>        <span class="php-comment">// Display.</span>
<a href="#6099" id="6099" class="l"> 6099: </a>        <span class="php-comment">//</span>
<a href="#6100" id="6100" class="l"> 6100: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6101" id="6101" class="l"> 6101: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6102" id="6102" class="l"> 6102: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6103" id="6103" class="l"> 6103: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6104" id="6104" class="l"> 6104: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6105" id="6105" class="l"> 6105: </a>     
<a href="#6106" id="6106" class="l"> 6106: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6107" id="6107" class="l"> 6107: </a><span class="php-comment">         *  SPECIES                                                                      *
</span><a href="#6108" id="6108" class="l"> 6108: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6109" id="6109" class="l"> 6109: </a>
<a href="#6110" id="6110" class="l"> 6110: </a>        <span class="php-comment">//</span>
<a href="#6111" id="6111" class="l"> 6111: </a>        <span class="php-comment">// Term.</span>
<a href="#6112" id="6112" class="l"> 6112: </a>        <span class="php-comment">//</span>
<a href="#6113" id="6113" class="l"> 6113: </a>        <span class="php-var">$term</span>
<a href="#6114" id="6114" class="l"> 6114: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6115" id="6115" class="l"> 6115: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:SPECIES'</span> ) );
<a href="#6116" id="6116" class="l"> 6116: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6117" id="6117" class="l"> 6117: </a>        {
<a href="#6118" id="6118" class="l"> 6118: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6119" id="6119" class="l"> 6119: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'SPECIES'</span> );
<a href="#6120" id="6120" class="l"> 6120: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Species'</span>, kDEFAULT_LANGUAGE );
<a href="#6121" id="6121" class="l"> 6121: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6122" id="6122" class="l"> 6122: </a>            ( <span class="php-quote">'Specific epithet portion of the scientific name in lowercase letters. '</span>
<a href="#6123" id="6123" class="l"> 6123: </a>             .<span class="php-quote">'Following abbreviation is allowed: &quot;sp.&quot;.'</span>,
<a href="#6124" id="6124" class="l"> 6124: </a>              kDEFAULT_LANGUAGE );
<a href="#6125" id="6125" class="l"> 6125: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6126" id="6126" class="l"> 6126: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'paniculatum'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6127" id="6127" class="l"> 6127: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_TAXONOMY, <span class="php-keyword1">TRUE</span> );
<a href="#6128" id="6128" class="l"> 6128: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_EPITHET, <span class="php-keyword1">TRUE</span> );
<a href="#6129" id="6129" class="l"> 6129: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6130" id="6130" class="l"> 6130: </a>        }
<a href="#6131" id="6131" class="l"> 6131: </a>        
<a href="#6132" id="6132" class="l"> 6132: </a>        <span class="php-comment">//</span>
<a href="#6133" id="6133" class="l"> 6133: </a>        <span class="php-comment">// Node.</span>
<a href="#6134" id="6134" class="l"> 6134: </a>        <span class="php-comment">//</span>
<a href="#6135" id="6135" class="l"> 6135: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6136" id="6136" class="l"> 6136: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6137" id="6137" class="l"> 6137: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6138" id="6138" class="l"> 6138: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6139" id="6139" class="l"> 6139: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_TAXONOMY, <span class="php-keyword1">TRUE</span> );
<a href="#6140" id="6140" class="l"> 6140: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_EPITHET, <span class="php-keyword1">TRUE</span> );
<a href="#6141" id="6141" class="l"> 6141: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6142" id="6142" class="l"> 6142: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'SPECIES'</span> ] = <span class="php-var">$node</span>;
<a href="#6143" id="6143" class="l"> 6143: </a>        
<a href="#6144" id="6144" class="l"> 6144: </a>        <span class="php-comment">//</span>
<a href="#6145" id="6145" class="l"> 6145: </a>        <span class="php-comment">// Edge.</span>
<a href="#6146" id="6146" class="l"> 6146: </a>        <span class="php-comment">//</span>
<a href="#6147" id="6147" class="l"> 6147: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6148" id="6148" class="l"> 6148: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6149" id="6149" class="l"> 6149: </a>        
<a href="#6150" id="6150" class="l"> 6150: </a>        <span class="php-comment">//</span>
<a href="#6151" id="6151" class="l"> 6151: </a>        <span class="php-comment">// Display.</span>
<a href="#6152" id="6152" class="l"> 6152: </a>        <span class="php-comment">//</span>
<a href="#6153" id="6153" class="l"> 6153: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6154" id="6154" class="l"> 6154: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6155" id="6155" class="l"> 6155: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6156" id="6156" class="l"> 6156: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6157" id="6157" class="l"> 6157: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6158" id="6158" class="l"> 6158: </a>     
<a href="#6159" id="6159" class="l"> 6159: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6160" id="6160" class="l"> 6160: </a><span class="php-comment">         *  SPAUTHOR                                                                     *
</span><a href="#6161" id="6161" class="l"> 6161: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6162" id="6162" class="l"> 6162: </a>
<a href="#6163" id="6163" class="l"> 6163: </a>        <span class="php-comment">//</span>
<a href="#6164" id="6164" class="l"> 6164: </a>        <span class="php-comment">// Term.</span>
<a href="#6165" id="6165" class="l"> 6165: </a>        <span class="php-comment">//</span>
<a href="#6166" id="6166" class="l"> 6166: </a>        <span class="php-var">$term</span>
<a href="#6167" id="6167" class="l"> 6167: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6168" id="6168" class="l"> 6168: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:SPAUTHOR'</span> ) );
<a href="#6169" id="6169" class="l"> 6169: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6170" id="6170" class="l"> 6170: </a>        {
<a href="#6171" id="6171" class="l"> 6171: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6172" id="6172" class="l"> 6172: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'SPAUTHOR'</span> );
<a href="#6173" id="6173" class="l"> 6173: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Species authority'</span>, kDEFAULT_LANGUAGE );
<a href="#6174" id="6174" class="l"> 6174: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6175" id="6175" class="l"> 6175: </a>            ( <span class="php-quote">'The authority for the species name.'</span>,
<a href="#6176" id="6176" class="l"> 6176: </a>              kDEFAULT_LANGUAGE );
<a href="#6177" id="6177" class="l"> 6177: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6178" id="6178" class="l"> 6178: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'L.'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6179" id="6179" class="l"> 6179: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'(Desf.) B. Fedtsch.'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6180" id="6180" class="l"> 6180: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_TAXONOMY, <span class="php-keyword1">TRUE</span> );
<a href="#6181" id="6181" class="l"> 6181: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_AUTH, <span class="php-keyword1">TRUE</span> );
<a href="#6182" id="6182" class="l"> 6182: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6183" id="6183" class="l"> 6183: </a>        }
<a href="#6184" id="6184" class="l"> 6184: </a>        
<a href="#6185" id="6185" class="l"> 6185: </a>        <span class="php-comment">//</span>
<a href="#6186" id="6186" class="l"> 6186: </a>        <span class="php-comment">// Node.</span>
<a href="#6187" id="6187" class="l"> 6187: </a>        <span class="php-comment">//</span>
<a href="#6188" id="6188" class="l"> 6188: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6189" id="6189" class="l"> 6189: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6190" id="6190" class="l"> 6190: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6191" id="6191" class="l"> 6191: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6192" id="6192" class="l"> 6192: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_TAXONOMY, <span class="php-keyword1">TRUE</span> );
<a href="#6193" id="6193" class="l"> 6193: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_AUTH, <span class="php-keyword1">TRUE</span> );
<a href="#6194" id="6194" class="l"> 6194: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6195" id="6195" class="l"> 6195: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'SPAUTHOR'</span> ] = <span class="php-var">$node</span>;
<a href="#6196" id="6196" class="l"> 6196: </a>        
<a href="#6197" id="6197" class="l"> 6197: </a>        <span class="php-comment">//</span>
<a href="#6198" id="6198" class="l"> 6198: </a>        <span class="php-comment">// Edge.</span>
<a href="#6199" id="6199" class="l"> 6199: </a>        <span class="php-comment">//</span>
<a href="#6200" id="6200" class="l"> 6200: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6201" id="6201" class="l"> 6201: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6202" id="6202" class="l"> 6202: </a>        
<a href="#6203" id="6203" class="l"> 6203: </a>        <span class="php-comment">//</span>
<a href="#6204" id="6204" class="l"> 6204: </a>        <span class="php-comment">// Display.</span>
<a href="#6205" id="6205" class="l"> 6205: </a>        <span class="php-comment">//</span>
<a href="#6206" id="6206" class="l"> 6206: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6207" id="6207" class="l"> 6207: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6208" id="6208" class="l"> 6208: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6209" id="6209" class="l"> 6209: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6210" id="6210" class="l"> 6210: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6211" id="6211" class="l"> 6211: </a>     
<a href="#6212" id="6212" class="l"> 6212: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6213" id="6213" class="l"> 6213: </a><span class="php-comment">         *  SUBTAXA                                                                      *
</span><a href="#6214" id="6214" class="l"> 6214: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6215" id="6215" class="l"> 6215: </a>
<a href="#6216" id="6216" class="l"> 6216: </a>        <span class="php-comment">//</span>
<a href="#6217" id="6217" class="l"> 6217: </a>        <span class="php-comment">// Term.</span>
<a href="#6218" id="6218" class="l"> 6218: </a>        <span class="php-comment">//</span>
<a href="#6219" id="6219" class="l"> 6219: </a>        <span class="php-var">$term</span>
<a href="#6220" id="6220" class="l"> 6220: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6221" id="6221" class="l"> 6221: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:SUBTAXA'</span> ) );
<a href="#6222" id="6222" class="l"> 6222: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6223" id="6223" class="l"> 6223: </a>        {
<a href="#6224" id="6224" class="l"> 6224: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6225" id="6225" class="l"> 6225: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'SUBTAXA'</span> );
<a href="#6226" id="6226" class="l"> 6226: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Subtaxa'</span>, kDEFAULT_LANGUAGE );
<a href="#6227" id="6227" class="l"> 6227: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6228" id="6228" class="l"> 6228: </a>            ( <span class="php-quote">'Subtaxa can be used to store any additional taxonomic identifier, '</span>
<a href="#6229" id="6229" class="l"> 6229: </a>             .<span class="php-quote">'in latin. Following abbreviations are allowed: &quot;subsp.&quot; (for subspecies); '</span>
<a href="#6230" id="6230" class="l"> 6230: </a>             .<span class="php-quote">'&quot;convar.&quot; (for convariety); &quot;var.&quot; (for variety); &quot;f.&quot; (for form).'</span>,
<a href="#6231" id="6231" class="l"> 6231: </a>              kDEFAULT_LANGUAGE );
<a href="#6232" id="6232" class="l"> 6232: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6233" id="6233" class="l"> 6233: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'subsp. fuscum'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6234" id="6234" class="l"> 6234: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_TAXONOMY, <span class="php-keyword1">TRUE</span> );
<a href="#6235" id="6235" class="l"> 6235: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_EPITHET, <span class="php-keyword1">TRUE</span> );
<a href="#6236" id="6236" class="l"> 6236: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6237" id="6237" class="l"> 6237: </a>        }
<a href="#6238" id="6238" class="l"> 6238: </a>        
<a href="#6239" id="6239" class="l"> 6239: </a>        <span class="php-comment">//</span>
<a href="#6240" id="6240" class="l"> 6240: </a>        <span class="php-comment">// Node.</span>
<a href="#6241" id="6241" class="l"> 6241: </a>        <span class="php-comment">//</span>
<a href="#6242" id="6242" class="l"> 6242: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6243" id="6243" class="l"> 6243: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6244" id="6244" class="l"> 6244: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6245" id="6245" class="l"> 6245: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6246" id="6246" class="l"> 6246: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_TAXONOMY, <span class="php-keyword1">TRUE</span> );
<a href="#6247" id="6247" class="l"> 6247: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_EPITHET, <span class="php-keyword1">TRUE</span> );
<a href="#6248" id="6248" class="l"> 6248: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6249" id="6249" class="l"> 6249: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'SUBTAXA'</span> ] = <span class="php-var">$node</span>;
<a href="#6250" id="6250" class="l"> 6250: </a>        
<a href="#6251" id="6251" class="l"> 6251: </a>        <span class="php-comment">//</span>
<a href="#6252" id="6252" class="l"> 6252: </a>        <span class="php-comment">// Edge.</span>
<a href="#6253" id="6253" class="l"> 6253: </a>        <span class="php-comment">//</span>
<a href="#6254" id="6254" class="l"> 6254: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6255" id="6255" class="l"> 6255: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6256" id="6256" class="l"> 6256: </a>        
<a href="#6257" id="6257" class="l"> 6257: </a>        <span class="php-comment">//</span>
<a href="#6258" id="6258" class="l"> 6258: </a>        <span class="php-comment">// Display.</span>
<a href="#6259" id="6259" class="l"> 6259: </a>        <span class="php-comment">//</span>
<a href="#6260" id="6260" class="l"> 6260: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6261" id="6261" class="l"> 6261: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6262" id="6262" class="l"> 6262: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6263" id="6263" class="l"> 6263: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6264" id="6264" class="l"> 6264: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6265" id="6265" class="l"> 6265: </a>     
<a href="#6266" id="6266" class="l"> 6266: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6267" id="6267" class="l"> 6267: </a><span class="php-comment">         *  SUBTAUTHOR                                                                   *
</span><a href="#6268" id="6268" class="l"> 6268: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6269" id="6269" class="l"> 6269: </a>
<a href="#6270" id="6270" class="l"> 6270: </a>        <span class="php-comment">//</span>
<a href="#6271" id="6271" class="l"> 6271: </a>        <span class="php-comment">// Term.</span>
<a href="#6272" id="6272" class="l"> 6272: </a>        <span class="php-comment">//</span>
<a href="#6273" id="6273" class="l"> 6273: </a>        <span class="php-var">$term</span>
<a href="#6274" id="6274" class="l"> 6274: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6275" id="6275" class="l"> 6275: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:SUBTAUTHOR'</span> ) );
<a href="#6276" id="6276" class="l"> 6276: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6277" id="6277" class="l"> 6277: </a>        {
<a href="#6278" id="6278" class="l"> 6278: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6279" id="6279" class="l"> 6279: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'SUBTAUTHOR'</span> );
<a href="#6280" id="6280" class="l"> 6280: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Subtaxa authority'</span>, kDEFAULT_LANGUAGE );
<a href="#6281" id="6281" class="l"> 6281: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6282" id="6282" class="l"> 6282: </a>            ( <span class="php-quote">'The subtaxa authority at the most detailed taxonomic level.'</span>,
<a href="#6283" id="6283" class="l"> 6283: </a>              kDEFAULT_LANGUAGE );
<a href="#6284" id="6284" class="l"> 6284: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6285" id="6285" class="l"> 6285: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'(Waldst. et Kit.) Arc.'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6286" id="6286" class="l"> 6286: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_TAXONOMY, <span class="php-keyword1">TRUE</span> );
<a href="#6287" id="6287" class="l"> 6287: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_AUTH, <span class="php-keyword1">TRUE</span> );
<a href="#6288" id="6288" class="l"> 6288: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6289" id="6289" class="l"> 6289: </a>        }
<a href="#6290" id="6290" class="l"> 6290: </a>        
<a href="#6291" id="6291" class="l"> 6291: </a>        <span class="php-comment">//</span>
<a href="#6292" id="6292" class="l"> 6292: </a>        <span class="php-comment">// Node.</span>
<a href="#6293" id="6293" class="l"> 6293: </a>        <span class="php-comment">//</span>
<a href="#6294" id="6294" class="l"> 6294: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6295" id="6295" class="l"> 6295: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6296" id="6296" class="l"> 6296: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6297" id="6297" class="l"> 6297: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6298" id="6298" class="l"> 6298: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_TAXONOMY, <span class="php-keyword1">TRUE</span> );
<a href="#6299" id="6299" class="l"> 6299: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_AUTH, <span class="php-keyword1">TRUE</span> );
<a href="#6300" id="6300" class="l"> 6300: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6301" id="6301" class="l"> 6301: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'SUBTAUTHOR'</span> ] = <span class="php-var">$node</span>;
<a href="#6302" id="6302" class="l"> 6302: </a>        
<a href="#6303" id="6303" class="l"> 6303: </a>        <span class="php-comment">//</span>
<a href="#6304" id="6304" class="l"> 6304: </a>        <span class="php-comment">// Edge.</span>
<a href="#6305" id="6305" class="l"> 6305: </a>        <span class="php-comment">//</span>
<a href="#6306" id="6306" class="l"> 6306: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6307" id="6307" class="l"> 6307: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6308" id="6308" class="l"> 6308: </a>        
<a href="#6309" id="6309" class="l"> 6309: </a>        <span class="php-comment">//</span>
<a href="#6310" id="6310" class="l"> 6310: </a>        <span class="php-comment">// Display.</span>
<a href="#6311" id="6311" class="l"> 6311: </a>        <span class="php-comment">//</span>
<a href="#6312" id="6312" class="l"> 6312: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6313" id="6313" class="l"> 6313: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6314" id="6314" class="l"> 6314: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6315" id="6315" class="l"> 6315: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6316" id="6316" class="l"> 6316: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6317" id="6317" class="l"> 6317: </a>     
<a href="#6318" id="6318" class="l"> 6318: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6319" id="6319" class="l"> 6319: </a><span class="php-comment">         *  CROPNAME                                                                     *
</span><a href="#6320" id="6320" class="l"> 6320: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6321" id="6321" class="l"> 6321: </a>
<a href="#6322" id="6322" class="l"> 6322: </a>        <span class="php-comment">//</span>
<a href="#6323" id="6323" class="l"> 6323: </a>        <span class="php-comment">// Term.</span>
<a href="#6324" id="6324" class="l"> 6324: </a>        <span class="php-comment">//</span>
<a href="#6325" id="6325" class="l"> 6325: </a>        <span class="php-var">$term</span>
<a href="#6326" id="6326" class="l"> 6326: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6327" id="6327" class="l"> 6327: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:CROPNAME'</span> ) );
<a href="#6328" id="6328" class="l"> 6328: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6329" id="6329" class="l"> 6329: </a>        {
<a href="#6330" id="6330" class="l"> 6330: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6331" id="6331" class="l"> 6331: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'CROPNAME'</span> );
<a href="#6332" id="6332" class="l"> 6332: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Common crop name'</span>, kDEFAULT_LANGUAGE );
<a href="#6333" id="6333" class="l"> 6333: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6334" id="6334" class="l"> 6334: </a>            ( <span class="php-quote">'Name of the crop in colloquial language, preferably English.'</span>,
<a href="#6335" id="6335" class="l"> 6335: </a>              kDEFAULT_LANGUAGE );
<a href="#6336" id="6336" class="l"> 6336: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6337" id="6337" class="l"> 6337: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'cauliflower'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6338" id="6338" class="l"> 6338: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'white cabbage'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6339" id="6339" class="l"> 6339: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'malting barley'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6340" id="6340" class="l"> 6340: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6341" id="6341" class="l"> 6341: </a>        }
<a href="#6342" id="6342" class="l"> 6342: </a>        
<a href="#6343" id="6343" class="l"> 6343: </a>        <span class="php-comment">//</span>
<a href="#6344" id="6344" class="l"> 6344: </a>        <span class="php-comment">// Node.</span>
<a href="#6345" id="6345" class="l"> 6345: </a>        <span class="php-comment">//</span>
<a href="#6346" id="6346" class="l"> 6346: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6347" id="6347" class="l"> 6347: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6348" id="6348" class="l"> 6348: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6349" id="6349" class="l"> 6349: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6350" id="6350" class="l"> 6350: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6351" id="6351" class="l"> 6351: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'CROPNAME'</span> ] = <span class="php-var">$node</span>;
<a href="#6352" id="6352" class="l"> 6352: </a>        
<a href="#6353" id="6353" class="l"> 6353: </a>        <span class="php-comment">//</span>
<a href="#6354" id="6354" class="l"> 6354: </a>        <span class="php-comment">// Edge.</span>
<a href="#6355" id="6355" class="l"> 6355: </a>        <span class="php-comment">//</span>
<a href="#6356" id="6356" class="l"> 6356: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6357" id="6357" class="l"> 6357: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6358" id="6358" class="l"> 6358: </a>        
<a href="#6359" id="6359" class="l"> 6359: </a>        <span class="php-comment">//</span>
<a href="#6360" id="6360" class="l"> 6360: </a>        <span class="php-comment">// Display.</span>
<a href="#6361" id="6361" class="l"> 6361: </a>        <span class="php-comment">//</span>
<a href="#6362" id="6362" class="l"> 6362: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6363" id="6363" class="l"> 6363: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6364" id="6364" class="l"> 6364: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6365" id="6365" class="l"> 6365: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6366" id="6366" class="l"> 6366: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6367" id="6367" class="l"> 6367: </a>     
<a href="#6368" id="6368" class="l"> 6368: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6369" id="6369" class="l"> 6369: </a><span class="php-comment">         *  ACCENAME                                                                     *
</span><a href="#6370" id="6370" class="l"> 6370: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6371" id="6371" class="l"> 6371: </a>
<a href="#6372" id="6372" class="l"> 6372: </a>        <span class="php-comment">//</span>
<a href="#6373" id="6373" class="l"> 6373: </a>        <span class="php-comment">// Term.</span>
<a href="#6374" id="6374" class="l"> 6374: </a>        <span class="php-comment">//</span>
<a href="#6375" id="6375" class="l"> 6375: </a>        <span class="php-var">$term</span>
<a href="#6376" id="6376" class="l"> 6376: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6377" id="6377" class="l"> 6377: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:ACCENAME'</span> ) );
<a href="#6378" id="6378" class="l"> 6378: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6379" id="6379" class="l"> 6379: </a>        {
<a href="#6380" id="6380" class="l"> 6380: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6381" id="6381" class="l"> 6381: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ACCENAME'</span> );
<a href="#6382" id="6382" class="l"> 6382: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Accession name'</span>, kDEFAULT_LANGUAGE );
<a href="#6383" id="6383" class="l"> 6383: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6384" id="6384" class="l"> 6384: </a>            ( <span class="php-quote">'Either a registered or other formal designation given to the accession. '</span>
<a href="#6385" id="6385" class="l"> 6385: </a>             .<span class="php-quote">'First letter uppercase. Multiple names separated with semicolon without '</span>
<a href="#6386" id="6386" class="l"> 6386: </a>             .<span class="php-quote">'space.'</span>,
<a href="#6387" id="6387" class="l"> 6387: </a>              kDEFAULT_LANGUAGE );
<a href="#6388" id="6388" class="l"> 6388: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6389" id="6389" class="l"> 6389: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Rheinische Vorgebirgstrauben;Emma;Avlon'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6390" id="6390" class="l"> 6390: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6391" id="6391" class="l"> 6391: </a>        }
<a href="#6392" id="6392" class="l"> 6392: </a>        
<a href="#6393" id="6393" class="l"> 6393: </a>        <span class="php-comment">//</span>
<a href="#6394" id="6394" class="l"> 6394: </a>        <span class="php-comment">// Node.</span>
<a href="#6395" id="6395" class="l"> 6395: </a>        <span class="php-comment">//</span>
<a href="#6396" id="6396" class="l"> 6396: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6397" id="6397" class="l"> 6397: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6398" id="6398" class="l"> 6398: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6399" id="6399" class="l"> 6399: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6400" id="6400" class="l"> 6400: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6401" id="6401" class="l"> 6401: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ACCENAME'</span> ] = <span class="php-var">$node</span>;
<a href="#6402" id="6402" class="l"> 6402: </a>        
<a href="#6403" id="6403" class="l"> 6403: </a>        <span class="php-comment">//</span>
<a href="#6404" id="6404" class="l"> 6404: </a>        <span class="php-comment">// Edge.</span>
<a href="#6405" id="6405" class="l"> 6405: </a>        <span class="php-comment">//</span>
<a href="#6406" id="6406" class="l"> 6406: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6407" id="6407" class="l"> 6407: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6408" id="6408" class="l"> 6408: </a>        
<a href="#6409" id="6409" class="l"> 6409: </a>        <span class="php-comment">//</span>
<a href="#6410" id="6410" class="l"> 6410: </a>        <span class="php-comment">// Display.</span>
<a href="#6411" id="6411" class="l"> 6411: </a>        <span class="php-comment">//</span>
<a href="#6412" id="6412" class="l"> 6412: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6413" id="6413" class="l"> 6413: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6414" id="6414" class="l"> 6414: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6415" id="6415" class="l"> 6415: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6416" id="6416" class="l"> 6416: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6417" id="6417" class="l"> 6417: </a>     
<a href="#6418" id="6418" class="l"> 6418: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6419" id="6419" class="l"> 6419: </a><span class="php-comment">         *  ACQDATE                                                                      *
</span><a href="#6420" id="6420" class="l"> 6420: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6421" id="6421" class="l"> 6421: </a>
<a href="#6422" id="6422" class="l"> 6422: </a>        <span class="php-comment">//</span>
<a href="#6423" id="6423" class="l"> 6423: </a>        <span class="php-comment">// Term.</span>
<a href="#6424" id="6424" class="l"> 6424: </a>        <span class="php-comment">//</span>
<a href="#6425" id="6425" class="l"> 6425: </a>        <span class="php-var">$term</span>
<a href="#6426" id="6426" class="l"> 6426: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6427" id="6427" class="l"> 6427: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:ACQDATE'</span> ) );
<a href="#6428" id="6428" class="l"> 6428: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6429" id="6429" class="l"> 6429: </a>        {
<a href="#6430" id="6430" class="l"> 6430: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6431" id="6431" class="l"> 6431: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ACQDATE'</span> );
<a href="#6432" id="6432" class="l"> 6432: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Acquisition date'</span>, kDEFAULT_LANGUAGE );
<a href="#6433" id="6433" class="l"> 6433: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6434" id="6434" class="l"> 6434: </a>            ( <span class="php-quote">'Date on which the accession entered the collection as YYYYMMDD. '</span>
<a href="#6435" id="6435" class="l"> 6435: </a>             .<span class="php-quote">'Missing data (MM or DD) should be indicated with hyphens. Leading zeros '</span>
<a href="#6436" id="6436" class="l"> 6436: </a>             .<span class="php-quote">'are required.'</span>,
<a href="#6437" id="6437" class="l"> 6437: </a>              kDEFAULT_LANGUAGE );
<a href="#6438" id="6438" class="l"> 6438: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6439" id="6439" class="l"> 6439: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'1968----'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6440" id="6440" class="l"> 6440: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'197011--'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6441" id="6441" class="l"> 6441: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'20020620'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6442" id="6442" class="l"> 6442: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6443" id="6443" class="l"> 6443: </a>        }
<a href="#6444" id="6444" class="l"> 6444: </a>        
<a href="#6445" id="6445" class="l"> 6445: </a>        <span class="php-comment">//</span>
<a href="#6446" id="6446" class="l"> 6446: </a>        <span class="php-comment">// Node.</span>
<a href="#6447" id="6447" class="l"> 6447: </a>        <span class="php-comment">//</span>
<a href="#6448" id="6448" class="l"> 6448: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6449" id="6449" class="l"> 6449: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6450" id="6450" class="l"> 6450: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6451" id="6451" class="l"> 6451: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6452" id="6452" class="l"> 6452: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6453" id="6453" class="l"> 6453: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ACQDATE'</span> ] = <span class="php-var">$node</span>;
<a href="#6454" id="6454" class="l"> 6454: </a>        
<a href="#6455" id="6455" class="l"> 6455: </a>        <span class="php-comment">//</span>
<a href="#6456" id="6456" class="l"> 6456: </a>        <span class="php-comment">// Edge.</span>
<a href="#6457" id="6457" class="l"> 6457: </a>        <span class="php-comment">//</span>
<a href="#6458" id="6458" class="l"> 6458: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6459" id="6459" class="l"> 6459: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6460" id="6460" class="l"> 6460: </a>        
<a href="#6461" id="6461" class="l"> 6461: </a>        <span class="php-comment">//</span>
<a href="#6462" id="6462" class="l"> 6462: </a>        <span class="php-comment">// Display.</span>
<a href="#6463" id="6463" class="l"> 6463: </a>        <span class="php-comment">//</span>
<a href="#6464" id="6464" class="l"> 6464: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6465" id="6465" class="l"> 6465: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6466" id="6466" class="l"> 6466: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6467" id="6467" class="l"> 6467: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6468" id="6468" class="l"> 6468: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6469" id="6469" class="l"> 6469: </a>     
<a href="#6470" id="6470" class="l"> 6470: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6471" id="6471" class="l"> 6471: </a><span class="php-comment">         *  ORIGCTY                                                                      *
</span><a href="#6472" id="6472" class="l"> 6472: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6473" id="6473" class="l"> 6473: </a>
<a href="#6474" id="6474" class="l"> 6474: </a>        <span class="php-comment">//</span>
<a href="#6475" id="6475" class="l"> 6475: </a>        <span class="php-comment">// Term.</span>
<a href="#6476" id="6476" class="l"> 6476: </a>        <span class="php-comment">//</span>
<a href="#6477" id="6477" class="l"> 6477: </a>        <span class="php-var">$term</span>
<a href="#6478" id="6478" class="l"> 6478: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6479" id="6479" class="l"> 6479: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:ORIGCTY'</span> ) );
<a href="#6480" id="6480" class="l"> 6480: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6481" id="6481" class="l"> 6481: </a>        {
<a href="#6482" id="6482" class="l"> 6482: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6483" id="6483" class="l"> 6483: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ORIGCTY'</span> );
<a href="#6484" id="6484" class="l"> 6484: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Country of origin'</span>, kDEFAULT_LANGUAGE );
<a href="#6485" id="6485" class="l"> 6485: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6486" id="6486" class="l"> 6486: </a>            ( <span class="php-quote">'Code of the country in which the sample was originally collected.'</span>,
<a href="#6487" id="6487" class="l"> 6487: </a>              kDEFAULT_LANGUAGE );
<a href="#6488" id="6488" class="l"> 6488: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#6489" id="6489" class="l"> 6489: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#6490" id="6490" class="l"> 6490: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'ITA'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6491" id="6491" class="l"> 6491: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'FRA'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6492" id="6492" class="l"> 6492: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6493" id="6493" class="l"> 6493: </a>        }
<a href="#6494" id="6494" class="l"> 6494: </a>        
<a href="#6495" id="6495" class="l"> 6495: </a>        <span class="php-comment">//</span>
<a href="#6496" id="6496" class="l"> 6496: </a>        <span class="php-comment">// Node.</span>
<a href="#6497" id="6497" class="l"> 6497: </a>        <span class="php-comment">//</span>
<a href="#6498" id="6498" class="l"> 6498: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6499" id="6499" class="l"> 6499: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6500" id="6500" class="l"> 6500: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6501" id="6501" class="l"> 6501: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6502" id="6502" class="l"> 6502: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#6503" id="6503" class="l"> 6503: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#6504" id="6504" class="l"> 6504: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6505" id="6505" class="l"> 6505: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ORIGCTY'</span> ] = <span class="php-var">$node</span>;
<a href="#6506" id="6506" class="l"> 6506: </a>        
<a href="#6507" id="6507" class="l"> 6507: </a>        <span class="php-comment">//</span>
<a href="#6508" id="6508" class="l"> 6508: </a>        <span class="php-comment">// Edge.</span>
<a href="#6509" id="6509" class="l"> 6509: </a>        <span class="php-comment">//</span>
<a href="#6510" id="6510" class="l"> 6510: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6511" id="6511" class="l"> 6511: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6512" id="6512" class="l"> 6512: </a>        
<a href="#6513" id="6513" class="l"> 6513: </a>        <span class="php-comment">//</span>
<a href="#6514" id="6514" class="l"> 6514: </a>        <span class="php-comment">// Display.</span>
<a href="#6515" id="6515" class="l"> 6515: </a>        <span class="php-comment">//</span>
<a href="#6516" id="6516" class="l"> 6516: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6517" id="6517" class="l"> 6517: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6518" id="6518" class="l"> 6518: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6519" id="6519" class="l"> 6519: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6520" id="6520" class="l"> 6520: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6521" id="6521" class="l"> 6521: </a>     
<a href="#6522" id="6522" class="l"> 6522: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6523" id="6523" class="l"> 6523: </a><span class="php-comment">         *  ISO 3166-1 ALPHA-3 COUNTRY CODES                                             *
</span><a href="#6524" id="6524" class="l"> 6524: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6525" id="6525" class="l"> 6525: </a>        
<a href="#6526" id="6526" class="l"> 6526: </a>        <span class="php-comment">//</span>
<a href="#6527" id="6527" class="l"> 6527: </a>        <span class="php-comment">// Prepare container.</span>
<a href="#6528" id="6528" class="l"> 6528: </a>        <span class="php-comment">//</span>
<a href="#6529" id="6529" class="l"> 6529: </a>        <span class="php-var">$temp_container</span> = <span class="php-keyword1">array</span>( kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ],
<a href="#6530" id="6530" class="l"> 6530: </a>                                 kTAG_TERM =&gt; <span class="php-var">$theContainer</span>-&gt;Database() );
<a href="#6531" id="6531" class="l"> 6531: </a>        <span class="php-var">$edge_container</span> = <span class="php-var">$theContainer</span>-&gt;Database()-&gt;selectCollection( kDEFAULT_CNT_EDGES );
<a href="#6532" id="6532" class="l"> 6532: </a>
<a href="#6533" id="6533" class="l"> 6533: </a>        <span class="php-comment">//</span>
<a href="#6534" id="6534" class="l"> 6534: </a>        <span class="php-comment">// Prepare query.</span>
<a href="#6535" id="6535" class="l"> 6535: </a>        <span class="php-comment">//</span>
<a href="#6536" id="6536" class="l"> 6536: </a>        <span class="php-var">$query</span> = <span class="php-keyword1">array</span>( kTAG_OBJECT.<span class="php-quote">'.'</span>.kTAG_TERM =&gt; <span class="php-quote">'ISO:3166:1:ALPHA-3'</span>,
<a href="#6537" id="6537" class="l"> 6537: </a>                        kTAG_SUBJECT.<span class="php-quote">'.'</span>.kTAG_TERM =&gt; <span class="php-keyword1">new</span> MongoRegex( <span class="php-quote">'/^ISO:3166:1:/'</span> ),
<a href="#6538" id="6538" class="l"> 6538: </a>                        kTAG_PREDICATE.<span class="php-quote">'.'</span>.kTAG_TERM =&gt; kPRED_ENUM_OF );
<a href="#6539" id="6539" class="l"> 6539: </a>
<a href="#6540" id="6540" class="l"> 6540: </a>        <span class="php-comment">//</span>
<a href="#6541" id="6541" class="l"> 6541: </a>        <span class="php-comment">// Prepare fields.</span>
<a href="#6542" id="6542" class="l"> 6542: </a>        <span class="php-comment">//</span>
<a href="#6543" id="6543" class="l"> 6543: </a>        <span class="php-var">$fields</span> = <span class="php-keyword1">array</span>( kTAG_SUBJECT =&gt; <span class="php-keyword1">TRUE</span> );
<a href="#6544" id="6544" class="l"> 6544: </a>        
<a href="#6545" id="6545" class="l"> 6545: </a>        <span class="php-comment">//</span>
<a href="#6546" id="6546" class="l"> 6546: </a>        <span class="php-comment">// Get all ALPHA 3 children.</span>
<a href="#6547" id="6547" class="l"> 6547: </a>        <span class="php-comment">//</span>
<a href="#6548" id="6548" class="l"> 6548: </a>        <span class="php-var">$found</span> = <span class="php-var">$edge_container</span>-&gt;find( <span class="php-var">$query</span>, <span class="php-var">$fields</span> );
<a href="#6549" id="6549" class="l"> 6549: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$found</span> <span class="php-keyword1">as</span> <span class="php-var">$element</span> )
<a href="#6550" id="6550" class="l"> 6550: </a>        {
<a href="#6551" id="6551" class="l"> 6551: </a>            <span class="php-comment">//</span>
<a href="#6552" id="6552" class="l"> 6552: </a>            <span class="php-comment">// Get country node.</span>
<a href="#6553" id="6553" class="l"> 6553: </a>            <span class="php-comment">//</span>
<a href="#6554" id="6554" class="l"> 6554: </a>            <span class="php-var">$country</span>
<a href="#6555" id="6555" class="l"> 6555: </a>                = <span class="php-keyword1">new</span> COntologyNode
<a href="#6556" id="6556" class="l"> 6556: </a>                    ( <span class="php-var">$container</span>, <span class="php-var">$element</span>[ kTAG_SUBJECT ][ kTAG_NODE ] );
<a href="#6557" id="6557" class="l"> 6557: </a>            
<a href="#6558" id="6558" class="l"> 6558: </a>            <span class="php-comment">//</span>
<a href="#6559" id="6559" class="l"> 6559: </a>            <span class="php-comment">// Relate to MCPD.</span>
<a href="#6560" id="6560" class="l"> 6560: </a>            <span class="php-comment">//</span>
<a href="#6561" id="6561" class="l"> 6561: </a>            <span class="php-var">$edge</span> = <span class="php-var">$country</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$node</span> );
<a href="#6562" id="6562" class="l"> 6562: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6563" id="6563" class="l"> 6563: </a>        }
<a href="#6564" id="6564" class="l"> 6564: </a>     
<a href="#6565" id="6565" class="l"> 6565: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6566" id="6566" class="l"> 6566: </a><span class="php-comment">         *  COLLSITE                                                                     *
</span><a href="#6567" id="6567" class="l"> 6567: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6568" id="6568" class="l"> 6568: </a>
<a href="#6569" id="6569" class="l"> 6569: </a>        <span class="php-comment">//</span>
<a href="#6570" id="6570" class="l"> 6570: </a>        <span class="php-comment">// Term.</span>
<a href="#6571" id="6571" class="l"> 6571: </a>        <span class="php-comment">//</span>
<a href="#6572" id="6572" class="l"> 6572: </a>        <span class="php-var">$term</span>
<a href="#6573" id="6573" class="l"> 6573: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6574" id="6574" class="l"> 6574: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:COLLSITE'</span> ) );
<a href="#6575" id="6575" class="l"> 6575: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6576" id="6576" class="l"> 6576: </a>        {
<a href="#6577" id="6577" class="l"> 6577: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6578" id="6578" class="l"> 6578: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'COLLSITE'</span> );
<a href="#6579" id="6579" class="l"> 6579: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Location of collecting site'</span>, kDEFAULT_LANGUAGE );
<a href="#6580" id="6580" class="l"> 6580: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6581" id="6581" class="l"> 6581: </a>            ( <span class="php-quote">'Location information below the country level that describes where the '</span>
<a href="#6582" id="6582" class="l"> 6582: </a>             .<span class="php-quote">'accession was collected. This might include the distance in kilometres '</span>
<a href="#6583" id="6583" class="l"> 6583: </a>             .<span class="php-quote">'and direction from the nearest town, village or map grid reference point.'</span>,
<a href="#6584" id="6584" class="l"> 6584: </a>              kDEFAULT_LANGUAGE );
<a href="#6585" id="6585" class="l"> 6585: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6586" id="6586" class="l"> 6586: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'7 km south of Curitiba in the state of Parana'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6587" id="6587" class="l"> 6587: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#6588" id="6588" class="l"> 6588: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#6589" id="6589" class="l"> 6589: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6590" id="6590" class="l"> 6590: </a>        }
<a href="#6591" id="6591" class="l"> 6591: </a>        
<a href="#6592" id="6592" class="l"> 6592: </a>        <span class="php-comment">//</span>
<a href="#6593" id="6593" class="l"> 6593: </a>        <span class="php-comment">// Node.</span>
<a href="#6594" id="6594" class="l"> 6594: </a>        <span class="php-comment">//</span>
<a href="#6595" id="6595" class="l"> 6595: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6596" id="6596" class="l"> 6596: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6597" id="6597" class="l"> 6597: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6598" id="6598" class="l"> 6598: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6599" id="6599" class="l"> 6599: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#6600" id="6600" class="l"> 6600: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_ADMIN, <span class="php-keyword1">TRUE</span> );
<a href="#6601" id="6601" class="l"> 6601: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6602" id="6602" class="l"> 6602: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'COLLSITE'</span> ] = <span class="php-var">$node</span>;
<a href="#6603" id="6603" class="l"> 6603: </a>        
<a href="#6604" id="6604" class="l"> 6604: </a>        <span class="php-comment">//</span>
<a href="#6605" id="6605" class="l"> 6605: </a>        <span class="php-comment">// Edge.</span>
<a href="#6606" id="6606" class="l"> 6606: </a>        <span class="php-comment">//</span>
<a href="#6607" id="6607" class="l"> 6607: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6608" id="6608" class="l"> 6608: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6609" id="6609" class="l"> 6609: </a>        
<a href="#6610" id="6610" class="l"> 6610: </a>        <span class="php-comment">//</span>
<a href="#6611" id="6611" class="l"> 6611: </a>        <span class="php-comment">// Display.</span>
<a href="#6612" id="6612" class="l"> 6612: </a>        <span class="php-comment">//</span>
<a href="#6613" id="6613" class="l"> 6613: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6614" id="6614" class="l"> 6614: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6615" id="6615" class="l"> 6615: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6616" id="6616" class="l"> 6616: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6617" id="6617" class="l"> 6617: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6618" id="6618" class="l"> 6618: </a>     
<a href="#6619" id="6619" class="l"> 6619: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6620" id="6620" class="l"> 6620: </a><span class="php-comment">         *  LATITUDE                                                                     *
</span><a href="#6621" id="6621" class="l"> 6621: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6622" id="6622" class="l"> 6622: </a>
<a href="#6623" id="6623" class="l"> 6623: </a>        <span class="php-comment">//</span>
<a href="#6624" id="6624" class="l"> 6624: </a>        <span class="php-comment">// Term.</span>
<a href="#6625" id="6625" class="l"> 6625: </a>        <span class="php-comment">//</span>
<a href="#6626" id="6626" class="l"> 6626: </a>        <span class="php-var">$term</span>
<a href="#6627" id="6627" class="l"> 6627: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6628" id="6628" class="l"> 6628: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:LATITUDE'</span> ) );
<a href="#6629" id="6629" class="l"> 6629: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6630" id="6630" class="l"> 6630: </a>        {
<a href="#6631" id="6631" class="l"> 6631: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6632" id="6632" class="l"> 6632: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'LATITUDE'</span> );
<a href="#6633" id="6633" class="l"> 6633: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Latitude of collecting site'</span>, kDEFAULT_LANGUAGE );
<a href="#6634" id="6634" class="l"> 6634: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6635" id="6635" class="l"> 6635: </a>            ( <span class="php-quote">'Degree (2 digits) minutes (2 digits), and seconds (2 digits) followed '</span>
<a href="#6636" id="6636" class="l"> 6636: </a>             .<span class="php-quote">'by N (North) or S (South). Every missing digit (minutes or seconds) should '</span>
<a href="#6637" id="6637" class="l"> 6637: </a>             .<span class="php-quote">'be indicated with a hyphen. Leading zeros are required.'</span>,
<a href="#6638" id="6638" class="l"> 6638: </a>              kDEFAULT_LANGUAGE );
<a href="#6639" id="6639" class="l"> 6639: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6640" id="6640" class="l"> 6640: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'10----S'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6641" id="6641" class="l"> 6641: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'011530N'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6642" id="6642" class="l"> 6642: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'4531--S'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6643" id="6643" class="l"> 6643: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#6644" id="6644" class="l"> 6644: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_GEO, <span class="php-keyword1">TRUE</span> );
<a href="#6645" id="6645" class="l"> 6645: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6646" id="6646" class="l"> 6646: </a>        }
<a href="#6647" id="6647" class="l"> 6647: </a>        
<a href="#6648" id="6648" class="l"> 6648: </a>        <span class="php-comment">//</span>
<a href="#6649" id="6649" class="l"> 6649: </a>        <span class="php-comment">// Node.</span>
<a href="#6650" id="6650" class="l"> 6650: </a>        <span class="php-comment">//</span>
<a href="#6651" id="6651" class="l"> 6651: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6652" id="6652" class="l"> 6652: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6653" id="6653" class="l"> 6653: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6654" id="6654" class="l"> 6654: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6655" id="6655" class="l"> 6655: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#6656" id="6656" class="l"> 6656: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_GEO, <span class="php-keyword1">TRUE</span> );
<a href="#6657" id="6657" class="l"> 6657: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6658" id="6658" class="l"> 6658: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'LATITUDE'</span> ] = <span class="php-var">$node</span>;
<a href="#6659" id="6659" class="l"> 6659: </a>        
<a href="#6660" id="6660" class="l"> 6660: </a>        <span class="php-comment">//</span>
<a href="#6661" id="6661" class="l"> 6661: </a>        <span class="php-comment">// Edge.</span>
<a href="#6662" id="6662" class="l"> 6662: </a>        <span class="php-comment">//</span>
<a href="#6663" id="6663" class="l"> 6663: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6664" id="6664" class="l"> 6664: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6665" id="6665" class="l"> 6665: </a>        
<a href="#6666" id="6666" class="l"> 6666: </a>        <span class="php-comment">//</span>
<a href="#6667" id="6667" class="l"> 6667: </a>        <span class="php-comment">// Display.</span>
<a href="#6668" id="6668" class="l"> 6668: </a>        <span class="php-comment">//</span>
<a href="#6669" id="6669" class="l"> 6669: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6670" id="6670" class="l"> 6670: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6671" id="6671" class="l"> 6671: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6672" id="6672" class="l"> 6672: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6673" id="6673" class="l"> 6673: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6674" id="6674" class="l"> 6674: </a>     
<a href="#6675" id="6675" class="l"> 6675: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6676" id="6676" class="l"> 6676: </a><span class="php-comment">         *  LONGITUDE                                                                    *
</span><a href="#6677" id="6677" class="l"> 6677: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6678" id="6678" class="l"> 6678: </a>
<a href="#6679" id="6679" class="l"> 6679: </a>        <span class="php-comment">//</span>
<a href="#6680" id="6680" class="l"> 6680: </a>        <span class="php-comment">// Term.</span>
<a href="#6681" id="6681" class="l"> 6681: </a>        <span class="php-comment">//</span>
<a href="#6682" id="6682" class="l"> 6682: </a>        <span class="php-var">$term</span>
<a href="#6683" id="6683" class="l"> 6683: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6684" id="6684" class="l"> 6684: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:LONGITUDE'</span> ) );
<a href="#6685" id="6685" class="l"> 6685: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6686" id="6686" class="l"> 6686: </a>        {
<a href="#6687" id="6687" class="l"> 6687: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6688" id="6688" class="l"> 6688: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'LONGITUDE'</span> );
<a href="#6689" id="6689" class="l"> 6689: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Longitude of collecting site'</span>, kDEFAULT_LANGUAGE );
<a href="#6690" id="6690" class="l"> 6690: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6691" id="6691" class="l"> 6691: </a>            ( <span class="php-quote">'Degree (3 digits), minutes (2 digits), and seconds (2 digits) followed '</span>
<a href="#6692" id="6692" class="l"> 6692: </a>             .<span class="php-quote">'by E (East) or W (West). Every missing digit (minutes or seconds) should '</span>
<a href="#6693" id="6693" class="l"> 6693: </a>             .<span class="php-quote">'be indicated with a hyphen. Leading zeros are required.'</span>,
<a href="#6694" id="6694" class="l"> 6694: </a>              kDEFAULT_LANGUAGE );
<a href="#6695" id="6695" class="l"> 6695: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6696" id="6696" class="l"> 6696: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'0762510W'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6697" id="6697" class="l"> 6697: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'076----W'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6698" id="6698" class="l"> 6698: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#6699" id="6699" class="l"> 6699: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_GEO, <span class="php-keyword1">TRUE</span> );
<a href="#6700" id="6700" class="l"> 6700: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6701" id="6701" class="l"> 6701: </a>        }
<a href="#6702" id="6702" class="l"> 6702: </a>        
<a href="#6703" id="6703" class="l"> 6703: </a>        <span class="php-comment">//</span>
<a href="#6704" id="6704" class="l"> 6704: </a>        <span class="php-comment">// Node.</span>
<a href="#6705" id="6705" class="l"> 6705: </a>        <span class="php-comment">//</span>
<a href="#6706" id="6706" class="l"> 6706: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6707" id="6707" class="l"> 6707: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6708" id="6708" class="l"> 6708: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6709" id="6709" class="l"> 6709: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6710" id="6710" class="l"> 6710: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#6711" id="6711" class="l"> 6711: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_GEO, <span class="php-keyword1">TRUE</span> );
<a href="#6712" id="6712" class="l"> 6712: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6713" id="6713" class="l"> 6713: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'LONGITUDE'</span> ] = <span class="php-var">$node</span>;
<a href="#6714" id="6714" class="l"> 6714: </a>        
<a href="#6715" id="6715" class="l"> 6715: </a>        <span class="php-comment">//</span>
<a href="#6716" id="6716" class="l"> 6716: </a>        <span class="php-comment">// Edge.</span>
<a href="#6717" id="6717" class="l"> 6717: </a>        <span class="php-comment">//</span>
<a href="#6718" id="6718" class="l"> 6718: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6719" id="6719" class="l"> 6719: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6720" id="6720" class="l"> 6720: </a>        
<a href="#6721" id="6721" class="l"> 6721: </a>        <span class="php-comment">//</span>
<a href="#6722" id="6722" class="l"> 6722: </a>        <span class="php-comment">// Display.</span>
<a href="#6723" id="6723" class="l"> 6723: </a>        <span class="php-comment">//</span>
<a href="#6724" id="6724" class="l"> 6724: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6725" id="6725" class="l"> 6725: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6726" id="6726" class="l"> 6726: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6727" id="6727" class="l"> 6727: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6728" id="6728" class="l"> 6728: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6729" id="6729" class="l"> 6729: </a>     
<a href="#6730" id="6730" class="l"> 6730: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6731" id="6731" class="l"> 6731: </a><span class="php-comment">         *  ELEVATION                                                                    *
</span><a href="#6732" id="6732" class="l"> 6732: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6733" id="6733" class="l"> 6733: </a>
<a href="#6734" id="6734" class="l"> 6734: </a>        <span class="php-comment">//</span>
<a href="#6735" id="6735" class="l"> 6735: </a>        <span class="php-comment">// Term.</span>
<a href="#6736" id="6736" class="l"> 6736: </a>        <span class="php-comment">//</span>
<a href="#6737" id="6737" class="l"> 6737: </a>        <span class="php-var">$term</span>
<a href="#6738" id="6738" class="l"> 6738: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6739" id="6739" class="l"> 6739: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:ELEVATION'</span> ) );
<a href="#6740" id="6740" class="l"> 6740: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6741" id="6741" class="l"> 6741: </a>        {
<a href="#6742" id="6742" class="l"> 6742: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6743" id="6743" class="l"> 6743: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ELEVATION'</span> );
<a href="#6744" id="6744" class="l"> 6744: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Elevation of collecting site'</span>, kDEFAULT_LANGUAGE );
<a href="#6745" id="6745" class="l"> 6745: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6746" id="6746" class="l"> 6746: </a>            ( <span class="php-quote">'Elevation of collecting site expressed in meters above sea level. '</span>
<a href="#6747" id="6747" class="l"> 6747: </a>             .<span class="php-quote">'Negative values are allowed.'</span>,
<a href="#6748" id="6748" class="l"> 6748: </a>              kDEFAULT_LANGUAGE );
<a href="#6749" id="6749" class="l"> 6749: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_INT32 );
<a href="#6750" id="6750" class="l"> 6750: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'763'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6751" id="6751" class="l"> 6751: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'-15'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6752" id="6752" class="l"> 6752: </a>            <span class="php-var">$term</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#6753" id="6753" class="l"> 6753: </a>            <span class="php-var">$term</span>-&gt;Category( kCATEGORY_GEO, <span class="php-keyword1">TRUE</span> );
<a href="#6754" id="6754" class="l"> 6754: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6755" id="6755" class="l"> 6755: </a>        }
<a href="#6756" id="6756" class="l"> 6756: </a>        
<a href="#6757" id="6757" class="l"> 6757: </a>        <span class="php-comment">//</span>
<a href="#6758" id="6758" class="l"> 6758: </a>        <span class="php-comment">// Node.</span>
<a href="#6759" id="6759" class="l"> 6759: </a>        <span class="php-comment">//</span>
<a href="#6760" id="6760" class="l"> 6760: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6761" id="6761" class="l"> 6761: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6762" id="6762" class="l"> 6762: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6763" id="6763" class="l"> 6763: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6764" id="6764" class="l"> 6764: </a>        <span class="php-var">$node</span>-&gt;Domain( kDOMAIN_GEOGRAPHY, <span class="php-keyword1">TRUE</span> );
<a href="#6765" id="6765" class="l"> 6765: </a>        <span class="php-var">$node</span>-&gt;Category( kCATEGORY_GEO, <span class="php-keyword1">TRUE</span> );
<a href="#6766" id="6766" class="l"> 6766: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6767" id="6767" class="l"> 6767: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ELEVATION'</span> ] = <span class="php-var">$node</span>;
<a href="#6768" id="6768" class="l"> 6768: </a>        
<a href="#6769" id="6769" class="l"> 6769: </a>        <span class="php-comment">//</span>
<a href="#6770" id="6770" class="l"> 6770: </a>        <span class="php-comment">// Edge.</span>
<a href="#6771" id="6771" class="l"> 6771: </a>        <span class="php-comment">//</span>
<a href="#6772" id="6772" class="l"> 6772: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6773" id="6773" class="l"> 6773: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6774" id="6774" class="l"> 6774: </a>        
<a href="#6775" id="6775" class="l"> 6775: </a>        <span class="php-comment">//</span>
<a href="#6776" id="6776" class="l"> 6776: </a>        <span class="php-comment">// Display.</span>
<a href="#6777" id="6777" class="l"> 6777: </a>        <span class="php-comment">//</span>
<a href="#6778" id="6778" class="l"> 6778: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6779" id="6779" class="l"> 6779: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6780" id="6780" class="l"> 6780: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6781" id="6781" class="l"> 6781: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6782" id="6782" class="l"> 6782: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6783" id="6783" class="l"> 6783: </a>     
<a href="#6784" id="6784" class="l"> 6784: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6785" id="6785" class="l"> 6785: </a><span class="php-comment">         *  COLLDATE                                                                     *
</span><a href="#6786" id="6786" class="l"> 6786: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6787" id="6787" class="l"> 6787: </a>
<a href="#6788" id="6788" class="l"> 6788: </a>        <span class="php-comment">//</span>
<a href="#6789" id="6789" class="l"> 6789: </a>        <span class="php-comment">// Term.</span>
<a href="#6790" id="6790" class="l"> 6790: </a>        <span class="php-comment">//</span>
<a href="#6791" id="6791" class="l"> 6791: </a>        <span class="php-var">$term</span>
<a href="#6792" id="6792" class="l"> 6792: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6793" id="6793" class="l"> 6793: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:COLLDATE'</span> ) );
<a href="#6794" id="6794" class="l"> 6794: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6795" id="6795" class="l"> 6795: </a>        {
<a href="#6796" id="6796" class="l"> 6796: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6797" id="6797" class="l"> 6797: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'COLLDATE'</span> );
<a href="#6798" id="6798" class="l"> 6798: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Collecting date of sample'</span>, kDEFAULT_LANGUAGE );
<a href="#6799" id="6799" class="l"> 6799: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6800" id="6800" class="l"> 6800: </a>            ( <span class="php-quote">'Collecting date of the sample as YYYYMMDD. Missing data (MM or DD) should '</span>
<a href="#6801" id="6801" class="l"> 6801: </a>             .<span class="php-quote">'be indicated with hyphens. Leading zeros are required.'</span>,
<a href="#6802" id="6802" class="l"> 6802: </a>              kDEFAULT_LANGUAGE );
<a href="#6803" id="6803" class="l"> 6803: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6804" id="6804" class="l"> 6804: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'1968----'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6805" id="6805" class="l"> 6805: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'197011--'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6806" id="6806" class="l"> 6806: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'20020620'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6807" id="6807" class="l"> 6807: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6808" id="6808" class="l"> 6808: </a>        }
<a href="#6809" id="6809" class="l"> 6809: </a>        
<a href="#6810" id="6810" class="l"> 6810: </a>        <span class="php-comment">//</span>
<a href="#6811" id="6811" class="l"> 6811: </a>        <span class="php-comment">// Node.</span>
<a href="#6812" id="6812" class="l"> 6812: </a>        <span class="php-comment">//</span>
<a href="#6813" id="6813" class="l"> 6813: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6814" id="6814" class="l"> 6814: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6815" id="6815" class="l"> 6815: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6816" id="6816" class="l"> 6816: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6817" id="6817" class="l"> 6817: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6818" id="6818" class="l"> 6818: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'COLLDATE'</span> ] = <span class="php-var">$node</span>;
<a href="#6819" id="6819" class="l"> 6819: </a>        
<a href="#6820" id="6820" class="l"> 6820: </a>        <span class="php-comment">//</span>
<a href="#6821" id="6821" class="l"> 6821: </a>        <span class="php-comment">// Edge.</span>
<a href="#6822" id="6822" class="l"> 6822: </a>        <span class="php-comment">//</span>
<a href="#6823" id="6823" class="l"> 6823: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6824" id="6824" class="l"> 6824: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6825" id="6825" class="l"> 6825: </a>        
<a href="#6826" id="6826" class="l"> 6826: </a>        <span class="php-comment">//</span>
<a href="#6827" id="6827" class="l"> 6827: </a>        <span class="php-comment">// Display.</span>
<a href="#6828" id="6828" class="l"> 6828: </a>        <span class="php-comment">//</span>
<a href="#6829" id="6829" class="l"> 6829: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6830" id="6830" class="l"> 6830: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6831" id="6831" class="l"> 6831: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6832" id="6832" class="l"> 6832: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6833" id="6833" class="l"> 6833: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6834" id="6834" class="l"> 6834: </a>     
<a href="#6835" id="6835" class="l"> 6835: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6836" id="6836" class="l"> 6836: </a><span class="php-comment">         *  BREDCODE                                                                     *
</span><a href="#6837" id="6837" class="l"> 6837: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6838" id="6838" class="l"> 6838: </a>
<a href="#6839" id="6839" class="l"> 6839: </a>        <span class="php-comment">//</span>
<a href="#6840" id="6840" class="l"> 6840: </a>        <span class="php-comment">// Term.</span>
<a href="#6841" id="6841" class="l"> 6841: </a>        <span class="php-comment">//</span>
<a href="#6842" id="6842" class="l"> 6842: </a>        <span class="php-var">$term</span>
<a href="#6843" id="6843" class="l"> 6843: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6844" id="6844" class="l"> 6844: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:BREDCODE'</span> ) );
<a href="#6845" id="6845" class="l"> 6845: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6846" id="6846" class="l"> 6846: </a>        {
<a href="#6847" id="6847" class="l"> 6847: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6848" id="6848" class="l"> 6848: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'BREDCODE'</span> );
<a href="#6849" id="6849" class="l"> 6849: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Breeding institute code'</span>, kDEFAULT_LANGUAGE );
<a href="#6850" id="6850" class="l"> 6850: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6851" id="6851" class="l"> 6851: </a>            ( <span class="php-quote">'Code of the institute that has bred the material. '</span>
<a href="#6852" id="6852" class="l"> 6852: </a>             .<span class="php-quote">'Follows INSTCODE standard.'</span>,
<a href="#6853" id="6853" class="l"> 6853: </a>              kDEFAULT_LANGUAGE );
<a href="#6854" id="6854" class="l"> 6854: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#6855" id="6855" class="l"> 6855: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[A-Z]{3}[0-9]{3,4}'</span> );
<a href="#6856" id="6856" class="l"> 6856: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'COL002'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6857" id="6857" class="l"> 6857: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'USA1001'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#6858" id="6858" class="l"> 6858: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ <span class="php-quote">'INSTCODE'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#6859" id="6859" class="l"> 6859: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6860" id="6860" class="l"> 6860: </a>        }
<a href="#6861" id="6861" class="l"> 6861: </a>        
<a href="#6862" id="6862" class="l"> 6862: </a>        <span class="php-comment">//</span>
<a href="#6863" id="6863" class="l"> 6863: </a>        <span class="php-comment">// Node.</span>
<a href="#6864" id="6864" class="l"> 6864: </a>        <span class="php-comment">//</span>
<a href="#6865" id="6865" class="l"> 6865: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6866" id="6866" class="l"> 6866: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6867" id="6867" class="l"> 6867: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6868" id="6868" class="l"> 6868: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6869" id="6869" class="l"> 6869: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6870" id="6870" class="l"> 6870: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'BREDCODE'</span> ] = <span class="php-var">$node</span>;
<a href="#6871" id="6871" class="l"> 6871: </a>        
<a href="#6872" id="6872" class="l"> 6872: </a>        <span class="php-comment">//</span>
<a href="#6873" id="6873" class="l"> 6873: </a>        <span class="php-comment">// Edge.</span>
<a href="#6874" id="6874" class="l"> 6874: </a>        <span class="php-comment">//</span>
<a href="#6875" id="6875" class="l"> 6875: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6876" id="6876" class="l"> 6876: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6877" id="6877" class="l"> 6877: </a>        
<a href="#6878" id="6878" class="l"> 6878: </a>        <span class="php-comment">//</span>
<a href="#6879" id="6879" class="l"> 6879: </a>        <span class="php-comment">// Display.</span>
<a href="#6880" id="6880" class="l"> 6880: </a>        <span class="php-comment">//</span>
<a href="#6881" id="6881" class="l"> 6881: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6882" id="6882" class="l"> 6882: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6883" id="6883" class="l"> 6883: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6884" id="6884" class="l"> 6884: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6885" id="6885" class="l"> 6885: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6886" id="6886" class="l"> 6886: </a>     
<a href="#6887" id="6887" class="l"> 6887: </a>        <span class="php-comment">/*================================================================================
</span><a href="#6888" id="6888" class="l"> 6888: </a><span class="php-comment">         *  SAMPSTAT                                                                     *
</span><a href="#6889" id="6889" class="l"> 6889: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#6890" id="6890" class="l"> 6890: </a>
<a href="#6891" id="6891" class="l"> 6891: </a>        <span class="php-comment">//</span>
<a href="#6892" id="6892" class="l"> 6892: </a>        <span class="php-comment">// Term.</span>
<a href="#6893" id="6893" class="l"> 6893: </a>        <span class="php-comment">//</span>
<a href="#6894" id="6894" class="l"> 6894: </a>        <span class="php-var">$term</span>
<a href="#6895" id="6895" class="l"> 6895: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6896" id="6896" class="l"> 6896: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:SAMPSTAT'</span> ) );
<a href="#6897" id="6897" class="l"> 6897: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#6898" id="6898" class="l"> 6898: </a>        {
<a href="#6899" id="6899" class="l"> 6899: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#6900" id="6900" class="l"> 6900: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'SAMPSTAT'</span> );
<a href="#6901" id="6901" class="l"> 6901: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Biological status of accession'</span>, kDEFAULT_LANGUAGE );
<a href="#6902" id="6902" class="l"> 6902: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#6903" id="6903" class="l"> 6903: </a>            ( <span class="php-quote">'The coding scheme proposed can be used at 3 different levels of detail: '</span>
<a href="#6904" id="6904" class="l"> 6904: </a>             .<span class="php-quote">'either by using the general codes such as 100, 200, 300, 400 or by using '</span>
<a href="#6905" id="6905" class="l"> 6905: </a>             .<span class="php-quote">'the more specific codes such as 110, 120 etc.'</span>,
<a href="#6906" id="6906" class="l"> 6906: </a>              kDEFAULT_LANGUAGE );
<a href="#6907" id="6907" class="l"> 6907: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#6908" id="6908" class="l"> 6908: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[0-9]{3}'</span> );
<a href="#6909" id="6909" class="l"> 6909: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6910" id="6910" class="l"> 6910: </a>        }
<a href="#6911" id="6911" class="l"> 6911: </a>        
<a href="#6912" id="6912" class="l"> 6912: </a>        <span class="php-comment">//</span>
<a href="#6913" id="6913" class="l"> 6913: </a>        <span class="php-comment">// Node.</span>
<a href="#6914" id="6914" class="l"> 6914: </a>        <span class="php-comment">//</span>
<a href="#6915" id="6915" class="l"> 6915: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6916" id="6916" class="l"> 6916: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#6917" id="6917" class="l"> 6917: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#6918" id="6918" class="l"> 6918: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#6919" id="6919" class="l"> 6919: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6920" id="6920" class="l"> 6920: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'SAMPSTAT'</span> ] = <span class="php-var">$node</span>;
<a href="#6921" id="6921" class="l"> 6921: </a>        
<a href="#6922" id="6922" class="l"> 6922: </a>        <span class="php-comment">//</span>
<a href="#6923" id="6923" class="l"> 6923: </a>        <span class="php-comment">// Edge.</span>
<a href="#6924" id="6924" class="l"> 6924: </a>        <span class="php-comment">//</span>
<a href="#6925" id="6925" class="l"> 6925: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#6926" id="6926" class="l"> 6926: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6927" id="6927" class="l"> 6927: </a>        
<a href="#6928" id="6928" class="l"> 6928: </a>        <span class="php-comment">//</span>
<a href="#6929" id="6929" class="l"> 6929: </a>        <span class="php-comment">// Display.</span>
<a href="#6930" id="6930" class="l"> 6930: </a>        <span class="php-comment">//</span>
<a href="#6931" id="6931" class="l"> 6931: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6932" id="6932" class="l"> 6932: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#6933" id="6933" class="l"> 6933: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#6934" id="6934" class="l"> 6934: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#6935" id="6935" class="l"> 6935: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#6936" id="6936" class="l"> 6936: </a>        
<a href="#6937" id="6937" class="l"> 6937: </a>        <span class="php-comment">//</span>
<a href="#6938" id="6938" class="l"> 6938: </a>        <span class="php-comment">// Load biological status codes.</span>
<a href="#6939" id="6939" class="l"> 6939: </a>        <span class="php-comment">//</span>
<a href="#6940" id="6940" class="l"> 6940: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#6941" id="6941" class="l"> 6941: </a><span class="php-quote">SELECT
</span><a href="#6942" id="6942" class="l"> 6942: </a><span class="php-quote">    `Code_BiologicalStatus`.`Code`,
</span><a href="#6943" id="6943" class="l"> 6943: </a><span class="php-quote">    `Code_BiologicalStatus`.`Parent`,
</span><a href="#6944" id="6944" class="l"> 6944: </a><span class="php-quote">    `Code_BiologicalStatus`.`Label`,
</span><a href="#6945" id="6945" class="l"> 6945: </a><span class="php-quote">    `Code_BiologicalStatus`.`Description`
</span><a href="#6946" id="6946" class="l"> 6946: </a><span class="php-quote">FROM
</span><a href="#6947" id="6947" class="l"> 6947: </a><span class="php-quote">    `Code_BiologicalStatus`
</span><a href="#6948" id="6948" class="l"> 6948: </a><span class="php-quote">ORDER BY
</span><a href="#6949" id="6949" class="l"> 6949: </a><span class="php-quote">    `Code_BiologicalStatus`.`Code`
</span><a href="#6950" id="6950" class="l"> 6950: </a><span class="php-quote">EOT;
</span><a href="#6951" id="6951" class="l"> 6951: </a>        <span class="php-var">$enums</span> = <span class="php-keyword1">Array</span>();
<a href="#6952" id="6952" class="l"> 6952: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#6953" id="6953" class="l"> 6953: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#6954" id="6954" class="l"> 6954: </a>        {
<a href="#6955" id="6955" class="l"> 6955: </a>            <span class="php-comment">//</span>
<a href="#6956" id="6956" class="l"> 6956: </a>            <span class="php-comment">// Create status term.</span>
<a href="#6957" id="6957" class="l"> 6957: </a>            <span class="php-comment">//</span>
<a href="#6958" id="6958" class="l"> 6958: </a>            <span class="php-var">$enum_term</span>
<a href="#6959" id="6959" class="l"> 6959: </a>                = <span class="php-keyword1">new</span> COntologyTerm
<a href="#6960" id="6960" class="l"> 6960: </a>                    ( <span class="php-var">$theContainer</span>,
<a href="#6961" id="6961" class="l"> 6961: </a>                      COntologyTerm::HashIndex
<a href="#6962" id="6962" class="l"> 6962: </a>                        ( <span class="php-var">$term</span>.kTOKEN_INDEX_SEPARATOR.<span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ) );
<a href="#6963" id="6963" class="l"> 6963: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$enum_term</span>-&gt;Persistent() )
<a href="#6964" id="6964" class="l"> 6964: </a>            {
<a href="#6965" id="6965" class="l"> 6965: </a>                <span class="php-var">$enum_term</span>-&gt;NS( <span class="php-var">$term</span> );
<a href="#6966" id="6966" class="l"> 6966: </a>                <span class="php-var">$enum_term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] );
<a href="#6967" id="6967" class="l"> 6967: </a>                <span class="php-var">$enum_term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Label'</span> ], kDEFAULT_LANGUAGE );
<a href="#6968" id="6968" class="l"> 6968: </a>                <span class="php-var">$enum_term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Description'</span> ], kDEFAULT_LANGUAGE );
<a href="#6969" id="6969" class="l"> 6969: </a>                <span class="php-var">$enum_term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#6970" id="6970" class="l"> 6970: </a>                <span class="php-var">$enum_term</span>-&gt;Type( kTYPE_ENUM );
<a href="#6971" id="6971" class="l"> 6971: </a>                <span class="php-var">$enum_term</span>-&gt;Enumeration( <span class="php-var">$enum_term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#6972" id="6972" class="l"> 6972: </a>                <span class="php-var">$enum_term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#6973" id="6973" class="l"> 6973: </a>            }
<a href="#6974" id="6974" class="l"> 6974: </a>            
<a href="#6975" id="6975" class="l"> 6975: </a>            <span class="php-comment">//</span>
<a href="#6976" id="6976" class="l"> 6976: </a>            <span class="php-comment">// Create status node.</span>
<a href="#6977" id="6977" class="l"> 6977: </a>            <span class="php-comment">//</span>
<a href="#6978" id="6978" class="l"> 6978: </a>            <span class="php-var">$enum_node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#6979" id="6979" class="l"> 6979: </a>            <span class="php-var">$enum_node</span>-&gt;Term( <span class="php-var">$enum_term</span> );
<a href="#6980" id="6980" class="l"> 6980: </a>            <span class="php-var">$enum_node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#6981" id="6981" class="l"> 6981: </a>            <span class="php-var">$enum_node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6982" id="6982" class="l"> 6982: </a>            <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ] = <span class="php-var">$enum_node</span>;
<a href="#6983" id="6983" class="l"> 6983: </a>            
<a href="#6984" id="6984" class="l"> 6984: </a>            <span class="php-comment">//</span>
<a href="#6985" id="6985" class="l"> 6985: </a>            <span class="php-comment">// Handle first level status.</span>
<a href="#6986" id="6986" class="l"> 6986: </a>            <span class="php-comment">//</span>
<a href="#6987" id="6987" class="l"> 6987: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] === <span class="php-keyword1">NULL</span> )
<a href="#6988" id="6988" class="l"> 6988: </a>            {
<a href="#6989" id="6989" class="l"> 6989: </a>                <span class="php-var">$edge</span> = <span class="php-var">$enum_node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$node</span> );
<a href="#6990" id="6990" class="l"> 6990: </a>                <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#6991" id="6991" class="l"> 6991: </a>            }
<a href="#6992" id="6992" class="l"> 6992: </a>            
<a href="#6993" id="6993" class="l"> 6993: </a>            <span class="php-comment">//</span>
<a href="#6994" id="6994" class="l"> 6994: </a>            <span class="php-comment">// Display.</span>
<a href="#6995" id="6995" class="l"> 6995: </a>            <span class="php-comment">//</span>
<a href="#6996" id="6996" class="l"> 6996: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#6997" id="6997" class="l"> 6997: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$enum_term</span><span class="php-quote">] &quot;</span>
<a href="#6998" id="6998" class="l"> 6998: </a>                     .<span class="php-var">$enum_term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#6999" id="6999" class="l"> 6999: </a>                     .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7000" id="7000" class="l"> 7000: </a>        
<a href="#7001" id="7001" class="l"> 7001: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#7002" id="7002" class="l"> 7002: </a>        
<a href="#7003" id="7003" class="l"> 7003: </a>        <span class="php-comment">//</span>
<a href="#7004" id="7004" class="l"> 7004: </a>        <span class="php-comment">// Relate biological status codes.</span>
<a href="#7005" id="7005" class="l"> 7005: </a>        <span class="php-comment">//</span>
<a href="#7006" id="7006" class="l"> 7006: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#7007" id="7007" class="l"> 7007: </a><span class="php-quote">SELECT
</span><a href="#7008" id="7008" class="l"> 7008: </a><span class="php-quote">    `Code_BiologicalStatus`.`Code`,
</span><a href="#7009" id="7009" class="l"> 7009: </a><span class="php-quote">    `Code_BiologicalStatus`.`Parent`
</span><a href="#7010" id="7010" class="l"> 7010: </a><span class="php-quote">FROM
</span><a href="#7011" id="7011" class="l"> 7011: </a><span class="php-quote">    `Code_BiologicalStatus`
</span><a href="#7012" id="7012" class="l"> 7012: </a><span class="php-quote">WHERE
</span><a href="#7013" id="7013" class="l"> 7013: </a><span class="php-quote">    `Code_BiologicalStatus`.`Parent` IS NOT NULL
</span><a href="#7014" id="7014" class="l"> 7014: </a><span class="php-quote">ORDER BY
</span><a href="#7015" id="7015" class="l"> 7015: </a><span class="php-quote">    `Code_BiologicalStatus`.`Code`
</span><a href="#7016" id="7016" class="l"> 7016: </a><span class="php-quote">EOT;
</span><a href="#7017" id="7017" class="l"> 7017: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#7018" id="7018" class="l"> 7018: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#7019" id="7019" class="l"> 7019: </a>        {
<a href="#7020" id="7020" class="l"> 7020: </a>            <span class="php-comment">//</span>
<a href="#7021" id="7021" class="l"> 7021: </a>            <span class="php-comment">// Get child term.</span>
<a href="#7022" id="7022" class="l"> 7022: </a>            <span class="php-comment">//</span>
<a href="#7023" id="7023" class="l"> 7023: </a>            <span class="php-var">$child_term</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ]-&gt;Term();
<a href="#7024" id="7024" class="l"> 7024: </a>
<a href="#7025" id="7025" class="l"> 7025: </a>            <span class="php-comment">//</span>
<a href="#7026" id="7026" class="l"> 7026: </a>            <span class="php-comment">// Get child node.</span>
<a href="#7027" id="7027" class="l"> 7027: </a>            <span class="php-comment">//</span>
<a href="#7028" id="7028" class="l"> 7028: </a>            <span class="php-var">$child_node</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ];
<a href="#7029" id="7029" class="l"> 7029: </a>            
<a href="#7030" id="7030" class="l"> 7030: </a>            <span class="php-comment">//</span>
<a href="#7031" id="7031" class="l"> 7031: </a>            <span class="php-comment">// Get parent term.</span>
<a href="#7032" id="7032" class="l"> 7032: </a>            <span class="php-comment">//</span>
<a href="#7033" id="7033" class="l"> 7033: </a>            <span class="php-var">$parent_term</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] ]-&gt;Term();
<a href="#7034" id="7034" class="l"> 7034: </a>
<a href="#7035" id="7035" class="l"> 7035: </a>            <span class="php-comment">//</span>
<a href="#7036" id="7036" class="l"> 7036: </a>            <span class="php-comment">// Get parent node.</span>
<a href="#7037" id="7037" class="l"> 7037: </a>            <span class="php-comment">//</span>
<a href="#7038" id="7038" class="l"> 7038: </a>            <span class="php-var">$parent_node</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] ];
<a href="#7039" id="7039" class="l"> 7039: </a>            
<a href="#7040" id="7040" class="l"> 7040: </a>            <span class="php-comment">//</span>
<a href="#7041" id="7041" class="l"> 7041: </a>            <span class="php-comment">// Get status edge.</span>
<a href="#7042" id="7042" class="l"> 7042: </a>            <span class="php-comment">//</span>
<a href="#7043" id="7043" class="l"> 7043: </a>            <span class="php-var">$edge</span> = <span class="php-var">$child_node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent_node</span> );
<a href="#7044" id="7044" class="l"> 7044: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7045" id="7045" class="l"> 7045: </a>            
<a href="#7046" id="7046" class="l"> 7046: </a>            <span class="php-comment">//</span>
<a href="#7047" id="7047" class="l"> 7047: </a>            <span class="php-comment">// Display.</span>
<a href="#7048" id="7048" class="l"> 7048: </a>            <span class="php-comment">//</span>
<a href="#7049" id="7049" class="l"> 7049: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7050" id="7050" class="l"> 7050: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$child_term</span><span class="php-quote">] ==&gt; [</span><span class="php-var">$parent_term</span><span class="php-quote">]\n&quot;</span> );
<a href="#7051" id="7051" class="l"> 7051: </a>        
<a href="#7052" id="7052" class="l"> 7052: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#7053" id="7053" class="l"> 7053: </a>     
<a href="#7054" id="7054" class="l"> 7054: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7055" id="7055" class="l"> 7055: </a><span class="php-comment">         *  ANCEST                                                                       *
</span><a href="#7056" id="7056" class="l"> 7056: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7057" id="7057" class="l"> 7057: </a>
<a href="#7058" id="7058" class="l"> 7058: </a>        <span class="php-comment">//</span>
<a href="#7059" id="7059" class="l"> 7059: </a>        <span class="php-comment">// Term.</span>
<a href="#7060" id="7060" class="l"> 7060: </a>        <span class="php-comment">//</span>
<a href="#7061" id="7061" class="l"> 7061: </a>        <span class="php-var">$term</span>
<a href="#7062" id="7062" class="l"> 7062: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7063" id="7063" class="l"> 7063: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:ANCEST'</span> ) );
<a href="#7064" id="7064" class="l"> 7064: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7065" id="7065" class="l"> 7065: </a>        {
<a href="#7066" id="7066" class="l"> 7066: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#7067" id="7067" class="l"> 7067: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ANCEST'</span> );
<a href="#7068" id="7068" class="l"> 7068: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Ancestral data'</span>, kDEFAULT_LANGUAGE );
<a href="#7069" id="7069" class="l"> 7069: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7070" id="7070" class="l"> 7070: </a>            ( <span class="php-quote">'Information about either pedigree or other description of ancestral '</span>
<a href="#7071" id="7071" class="l"> 7071: </a>             .<span class="php-quote">'information (i.e. parent variety in case of mutant or selection).'</span>,
<a href="#7072" id="7072" class="l"> 7072: </a>              kDEFAULT_LANGUAGE );
<a href="#7073" id="7073" class="l"> 7073: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7074" id="7074" class="l"> 7074: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Hanna/7*Atlas//Turk/8*Atlas'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7075" id="7075" class="l"> 7075: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'mutation found in Hanna'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7076" id="7076" class="l"> 7076: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'selection from Irene'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7077" id="7077" class="l"> 7077: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'cross involving amongst others Hanna and Irene'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7078" id="7078" class="l"> 7078: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7079" id="7079" class="l"> 7079: </a>        }
<a href="#7080" id="7080" class="l"> 7080: </a>        
<a href="#7081" id="7081" class="l"> 7081: </a>        <span class="php-comment">//</span>
<a href="#7082" id="7082" class="l"> 7082: </a>        <span class="php-comment">// Node.</span>
<a href="#7083" id="7083" class="l"> 7083: </a>        <span class="php-comment">//</span>
<a href="#7084" id="7084" class="l"> 7084: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7085" id="7085" class="l"> 7085: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7086" id="7086" class="l"> 7086: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7087" id="7087" class="l"> 7087: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7088" id="7088" class="l"> 7088: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7089" id="7089" class="l"> 7089: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ANCEST'</span> ] = <span class="php-var">$node</span>;
<a href="#7090" id="7090" class="l"> 7090: </a>        
<a href="#7091" id="7091" class="l"> 7091: </a>        <span class="php-comment">//</span>
<a href="#7092" id="7092" class="l"> 7092: </a>        <span class="php-comment">// Edge.</span>
<a href="#7093" id="7093" class="l"> 7093: </a>        <span class="php-comment">//</span>
<a href="#7094" id="7094" class="l"> 7094: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7095" id="7095" class="l"> 7095: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7096" id="7096" class="l"> 7096: </a>        
<a href="#7097" id="7097" class="l"> 7097: </a>        <span class="php-comment">//</span>
<a href="#7098" id="7098" class="l"> 7098: </a>        <span class="php-comment">// Display.</span>
<a href="#7099" id="7099" class="l"> 7099: </a>        <span class="php-comment">//</span>
<a href="#7100" id="7100" class="l"> 7100: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7101" id="7101" class="l"> 7101: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7102" id="7102" class="l"> 7102: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7103" id="7103" class="l"> 7103: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7104" id="7104" class="l"> 7104: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7105" id="7105" class="l"> 7105: </a>     
<a href="#7106" id="7106" class="l"> 7106: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7107" id="7107" class="l"> 7107: </a><span class="php-comment">         *  COLLSRC                                                                      *
</span><a href="#7108" id="7108" class="l"> 7108: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7109" id="7109" class="l"> 7109: </a>
<a href="#7110" id="7110" class="l"> 7110: </a>        <span class="php-comment">//</span>
<a href="#7111" id="7111" class="l"> 7111: </a>        <span class="php-comment">// Term.</span>
<a href="#7112" id="7112" class="l"> 7112: </a>        <span class="php-comment">//</span>
<a href="#7113" id="7113" class="l"> 7113: </a>        <span class="php-var">$term</span>
<a href="#7114" id="7114" class="l"> 7114: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7115" id="7115" class="l"> 7115: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:COLLSRC'</span> ) );
<a href="#7116" id="7116" class="l"> 7116: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7117" id="7117" class="l"> 7117: </a>        {
<a href="#7118" id="7118" class="l"> 7118: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#7119" id="7119" class="l"> 7119: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'COLLSRC'</span> );
<a href="#7120" id="7120" class="l"> 7120: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Collecting/acquisition source'</span>, kDEFAULT_LANGUAGE );
<a href="#7121" id="7121" class="l"> 7121: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7122" id="7122" class="l"> 7122: </a>            ( <span class="php-quote">'The coding scheme proposed can be used at 2 different levels of detail: '</span>
<a href="#7123" id="7123" class="l"> 7123: </a>             .<span class="php-quote">'either by using the general codes (in boldface) such as 10, 20, 30, 40 '</span>
<a href="#7124" id="7124" class="l"> 7124: </a>             .<span class="php-quote">'or by using the more specific codes such as 11, 12 etc.'</span>,
<a href="#7125" id="7125" class="l"> 7125: </a>              kDEFAULT_LANGUAGE );
<a href="#7126" id="7126" class="l"> 7126: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#7127" id="7127" class="l"> 7127: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[0-9]{2}'</span> );
<a href="#7128" id="7128" class="l"> 7128: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7129" id="7129" class="l"> 7129: </a>        }
<a href="#7130" id="7130" class="l"> 7130: </a>        
<a href="#7131" id="7131" class="l"> 7131: </a>        <span class="php-comment">//</span>
<a href="#7132" id="7132" class="l"> 7132: </a>        <span class="php-comment">// Node.</span>
<a href="#7133" id="7133" class="l"> 7133: </a>        <span class="php-comment">//</span>
<a href="#7134" id="7134" class="l"> 7134: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7135" id="7135" class="l"> 7135: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7136" id="7136" class="l"> 7136: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7137" id="7137" class="l"> 7137: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7138" id="7138" class="l"> 7138: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7139" id="7139" class="l"> 7139: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'COLLSRC'</span> ] = <span class="php-var">$node</span>;
<a href="#7140" id="7140" class="l"> 7140: </a>        
<a href="#7141" id="7141" class="l"> 7141: </a>        <span class="php-comment">//</span>
<a href="#7142" id="7142" class="l"> 7142: </a>        <span class="php-comment">// Edge.</span>
<a href="#7143" id="7143" class="l"> 7143: </a>        <span class="php-comment">//</span>
<a href="#7144" id="7144" class="l"> 7144: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7145" id="7145" class="l"> 7145: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7146" id="7146" class="l"> 7146: </a>        
<a href="#7147" id="7147" class="l"> 7147: </a>        <span class="php-comment">//</span>
<a href="#7148" id="7148" class="l"> 7148: </a>        <span class="php-comment">// Display.</span>
<a href="#7149" id="7149" class="l"> 7149: </a>        <span class="php-comment">//</span>
<a href="#7150" id="7150" class="l"> 7150: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7151" id="7151" class="l"> 7151: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7152" id="7152" class="l"> 7152: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7153" id="7153" class="l"> 7153: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7154" id="7154" class="l"> 7154: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7155" id="7155" class="l"> 7155: </a>        
<a href="#7156" id="7156" class="l"> 7156: </a>        <span class="php-comment">//</span>
<a href="#7157" id="7157" class="l"> 7157: </a>        <span class="php-comment">// Load biological status codes.</span>
<a href="#7158" id="7158" class="l"> 7158: </a>        <span class="php-comment">//</span>
<a href="#7159" id="7159" class="l"> 7159: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#7160" id="7160" class="l"> 7160: </a><span class="php-quote">SELECT
</span><a href="#7161" id="7161" class="l"> 7161: </a><span class="php-quote">    `Code_AcquisitionSource`.`Code`,
</span><a href="#7162" id="7162" class="l"> 7162: </a><span class="php-quote">    `Code_AcquisitionSource`.`Parent`,
</span><a href="#7163" id="7163" class="l"> 7163: </a><span class="php-quote">    `Code_AcquisitionSource`.`Label`,
</span><a href="#7164" id="7164" class="l"> 7164: </a><span class="php-quote">    `Code_AcquisitionSource`.`Description`
</span><a href="#7165" id="7165" class="l"> 7165: </a><span class="php-quote">FROM
</span><a href="#7166" id="7166" class="l"> 7166: </a><span class="php-quote">    `Code_AcquisitionSource`
</span><a href="#7167" id="7167" class="l"> 7167: </a><span class="php-quote">ORDER BY
</span><a href="#7168" id="7168" class="l"> 7168: </a><span class="php-quote">    `Code_AcquisitionSource`.`Code`
</span><a href="#7169" id="7169" class="l"> 7169: </a><span class="php-quote">EOT;
</span><a href="#7170" id="7170" class="l"> 7170: </a>        <span class="php-var">$enums</span> = <span class="php-keyword1">Array</span>();
<a href="#7171" id="7171" class="l"> 7171: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#7172" id="7172" class="l"> 7172: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#7173" id="7173" class="l"> 7173: </a>        {
<a href="#7174" id="7174" class="l"> 7174: </a>            <span class="php-comment">//</span>
<a href="#7175" id="7175" class="l"> 7175: </a>            <span class="php-comment">// Create status term.</span>
<a href="#7176" id="7176" class="l"> 7176: </a>            <span class="php-comment">//</span>
<a href="#7177" id="7177" class="l"> 7177: </a>            <span class="php-var">$enum_term</span>
<a href="#7178" id="7178" class="l"> 7178: </a>                = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7179" id="7179" class="l"> 7179: </a>                    ( <span class="php-var">$theContainer</span>,
<a href="#7180" id="7180" class="l"> 7180: </a>                      COntologyTerm::HashIndex
<a href="#7181" id="7181" class="l"> 7181: </a>                        ( <span class="php-var">$term</span>.kTOKEN_INDEX_SEPARATOR.<span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ) );
<a href="#7182" id="7182" class="l"> 7182: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$enum_term</span>-&gt;Persistent() )
<a href="#7183" id="7183" class="l"> 7183: </a>            {
<a href="#7184" id="7184" class="l"> 7184: </a>                <span class="php-var">$enum_term</span>-&gt;NS( <span class="php-var">$term</span> );
<a href="#7185" id="7185" class="l"> 7185: </a>                <span class="php-var">$enum_term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] );
<a href="#7186" id="7186" class="l"> 7186: </a>                <span class="php-var">$enum_term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Label'</span> ], kDEFAULT_LANGUAGE );
<a href="#7187" id="7187" class="l"> 7187: </a>                <span class="php-var">$enum_term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Description'</span> ], kDEFAULT_LANGUAGE );
<a href="#7188" id="7188" class="l"> 7188: </a>                <span class="php-var">$enum_term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#7189" id="7189" class="l"> 7189: </a>                <span class="php-var">$enum_term</span>-&gt;Type( kTYPE_ENUM );
<a href="#7190" id="7190" class="l"> 7190: </a>                <span class="php-var">$enum_term</span>-&gt;Enumeration( <span class="php-var">$enum_term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#7191" id="7191" class="l"> 7191: </a>                <span class="php-var">$enum_term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7192" id="7192" class="l"> 7192: </a>            }
<a href="#7193" id="7193" class="l"> 7193: </a>            
<a href="#7194" id="7194" class="l"> 7194: </a>            <span class="php-comment">//</span>
<a href="#7195" id="7195" class="l"> 7195: </a>            <span class="php-comment">// Create status node.</span>
<a href="#7196" id="7196" class="l"> 7196: </a>            <span class="php-comment">//</span>
<a href="#7197" id="7197" class="l"> 7197: </a>            <span class="php-var">$enum_node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7198" id="7198" class="l"> 7198: </a>            <span class="php-var">$enum_node</span>-&gt;Term( <span class="php-var">$enum_term</span> );
<a href="#7199" id="7199" class="l"> 7199: </a>            <span class="php-var">$enum_node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#7200" id="7200" class="l"> 7200: </a>            <span class="php-var">$enum_node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7201" id="7201" class="l"> 7201: </a>            <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ] = <span class="php-var">$enum_node</span>;
<a href="#7202" id="7202" class="l"> 7202: </a>            
<a href="#7203" id="7203" class="l"> 7203: </a>            <span class="php-comment">//</span>
<a href="#7204" id="7204" class="l"> 7204: </a>            <span class="php-comment">// Handle first level status.</span>
<a href="#7205" id="7205" class="l"> 7205: </a>            <span class="php-comment">//</span>
<a href="#7206" id="7206" class="l"> 7206: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] === <span class="php-keyword1">NULL</span> )
<a href="#7207" id="7207" class="l"> 7207: </a>            {
<a href="#7208" id="7208" class="l"> 7208: </a>                <span class="php-var">$edge</span> = <span class="php-var">$enum_node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$node</span> );
<a href="#7209" id="7209" class="l"> 7209: </a>                <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7210" id="7210" class="l"> 7210: </a>            }
<a href="#7211" id="7211" class="l"> 7211: </a>            
<a href="#7212" id="7212" class="l"> 7212: </a>            <span class="php-comment">//</span>
<a href="#7213" id="7213" class="l"> 7213: </a>            <span class="php-comment">// Display.</span>
<a href="#7214" id="7214" class="l"> 7214: </a>            <span class="php-comment">//</span>
<a href="#7215" id="7215" class="l"> 7215: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7216" id="7216" class="l"> 7216: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$enum_term</span><span class="php-quote">] &quot;</span>
<a href="#7217" id="7217" class="l"> 7217: </a>                     .<span class="php-var">$enum_term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#7218" id="7218" class="l"> 7218: </a>                     .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7219" id="7219" class="l"> 7219: </a>        
<a href="#7220" id="7220" class="l"> 7220: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#7221" id="7221" class="l"> 7221: </a>        
<a href="#7222" id="7222" class="l"> 7222: </a>        <span class="php-comment">//</span>
<a href="#7223" id="7223" class="l"> 7223: </a>        <span class="php-comment">// Relate biological status codes.</span>
<a href="#7224" id="7224" class="l"> 7224: </a>        <span class="php-comment">//</span>
<a href="#7225" id="7225" class="l"> 7225: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#7226" id="7226" class="l"> 7226: </a><span class="php-quote">SELECT
</span><a href="#7227" id="7227" class="l"> 7227: </a><span class="php-quote">    `Code_AcquisitionSource`.`Code`,
</span><a href="#7228" id="7228" class="l"> 7228: </a><span class="php-quote">    `Code_AcquisitionSource`.`Parent`
</span><a href="#7229" id="7229" class="l"> 7229: </a><span class="php-quote">FROM
</span><a href="#7230" id="7230" class="l"> 7230: </a><span class="php-quote">    `Code_AcquisitionSource`
</span><a href="#7231" id="7231" class="l"> 7231: </a><span class="php-quote">WHERE
</span><a href="#7232" id="7232" class="l"> 7232: </a><span class="php-quote">    `Code_AcquisitionSource`.`Parent` IS NOT NULL
</span><a href="#7233" id="7233" class="l"> 7233: </a><span class="php-quote">ORDER BY
</span><a href="#7234" id="7234" class="l"> 7234: </a><span class="php-quote">    `Code_AcquisitionSource`.`Code`
</span><a href="#7235" id="7235" class="l"> 7235: </a><span class="php-quote">EOT;
</span><a href="#7236" id="7236" class="l"> 7236: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#7237" id="7237" class="l"> 7237: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#7238" id="7238" class="l"> 7238: </a>        {
<a href="#7239" id="7239" class="l"> 7239: </a>            <span class="php-comment">//</span>
<a href="#7240" id="7240" class="l"> 7240: </a>            <span class="php-comment">// Get child term.</span>
<a href="#7241" id="7241" class="l"> 7241: </a>            <span class="php-comment">//</span>
<a href="#7242" id="7242" class="l"> 7242: </a>            <span class="php-var">$child_term</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ]-&gt;Term();
<a href="#7243" id="7243" class="l"> 7243: </a>
<a href="#7244" id="7244" class="l"> 7244: </a>            <span class="php-comment">//</span>
<a href="#7245" id="7245" class="l"> 7245: </a>            <span class="php-comment">// Get child node.</span>
<a href="#7246" id="7246" class="l"> 7246: </a>            <span class="php-comment">//</span>
<a href="#7247" id="7247" class="l"> 7247: </a>            <span class="php-var">$child_node</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ];
<a href="#7248" id="7248" class="l"> 7248: </a>            
<a href="#7249" id="7249" class="l"> 7249: </a>            <span class="php-comment">//</span>
<a href="#7250" id="7250" class="l"> 7250: </a>            <span class="php-comment">// Get parent term.</span>
<a href="#7251" id="7251" class="l"> 7251: </a>            <span class="php-comment">//</span>
<a href="#7252" id="7252" class="l"> 7252: </a>            <span class="php-var">$parent_term</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] ]-&gt;Term();
<a href="#7253" id="7253" class="l"> 7253: </a>
<a href="#7254" id="7254" class="l"> 7254: </a>            <span class="php-comment">//</span>
<a href="#7255" id="7255" class="l"> 7255: </a>            <span class="php-comment">// Get parent node.</span>
<a href="#7256" id="7256" class="l"> 7256: </a>            <span class="php-comment">//</span>
<a href="#7257" id="7257" class="l"> 7257: </a>            <span class="php-var">$parent_node</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] ];
<a href="#7258" id="7258" class="l"> 7258: </a>            
<a href="#7259" id="7259" class="l"> 7259: </a>            <span class="php-comment">//</span>
<a href="#7260" id="7260" class="l"> 7260: </a>            <span class="php-comment">// Get status edge.</span>
<a href="#7261" id="7261" class="l"> 7261: </a>            <span class="php-comment">//</span>
<a href="#7262" id="7262" class="l"> 7262: </a>            <span class="php-var">$edge</span> = <span class="php-var">$child_node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent_node</span> );
<a href="#7263" id="7263" class="l"> 7263: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7264" id="7264" class="l"> 7264: </a>            
<a href="#7265" id="7265" class="l"> 7265: </a>            <span class="php-comment">//</span>
<a href="#7266" id="7266" class="l"> 7266: </a>            <span class="php-comment">// Display.</span>
<a href="#7267" id="7267" class="l"> 7267: </a>            <span class="php-comment">//</span>
<a href="#7268" id="7268" class="l"> 7268: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7269" id="7269" class="l"> 7269: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$child_term</span><span class="php-quote">] ==&gt; [</span><span class="php-var">$parent_term</span><span class="php-quote">]\n&quot;</span> );
<a href="#7270" id="7270" class="l"> 7270: </a>        
<a href="#7271" id="7271" class="l"> 7271: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#7272" id="7272" class="l"> 7272: </a>     
<a href="#7273" id="7273" class="l"> 7273: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7274" id="7274" class="l"> 7274: </a><span class="php-comment">         *  DONORCODE                                                                    *
</span><a href="#7275" id="7275" class="l"> 7275: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7276" id="7276" class="l"> 7276: </a>
<a href="#7277" id="7277" class="l"> 7277: </a>        <span class="php-comment">//</span>
<a href="#7278" id="7278" class="l"> 7278: </a>        <span class="php-comment">// Term.</span>
<a href="#7279" id="7279" class="l"> 7279: </a>        <span class="php-comment">//</span>
<a href="#7280" id="7280" class="l"> 7280: </a>        <span class="php-var">$term</span>
<a href="#7281" id="7281" class="l"> 7281: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7282" id="7282" class="l"> 7282: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:DONORCODE'</span> ) );
<a href="#7283" id="7283" class="l"> 7283: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7284" id="7284" class="l"> 7284: </a>        {
<a href="#7285" id="7285" class="l"> 7285: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#7286" id="7286" class="l"> 7286: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'DONORCODE'</span> );
<a href="#7287" id="7287" class="l"> 7287: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Donor institute code'</span>, kDEFAULT_LANGUAGE );
<a href="#7288" id="7288" class="l"> 7288: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7289" id="7289" class="l"> 7289: </a>            ( <span class="php-quote">'Code of the institute that donated the sample. '</span>
<a href="#7290" id="7290" class="l"> 7290: </a>             .<span class="php-quote">'Follows INSTCODE standard.'</span>,
<a href="#7291" id="7291" class="l"> 7291: </a>              kDEFAULT_LANGUAGE );
<a href="#7292" id="7292" class="l"> 7292: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7293" id="7293" class="l"> 7293: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[A-Z]{3}[0-9]{3,4}'</span> );
<a href="#7294" id="7294" class="l"> 7294: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'COL002'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7295" id="7295" class="l"> 7295: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'USA1001'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7296" id="7296" class="l"> 7296: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ <span class="php-quote">'INSTCODE'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#7297" id="7297" class="l"> 7297: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7298" id="7298" class="l"> 7298: </a>        }
<a href="#7299" id="7299" class="l"> 7299: </a>        
<a href="#7300" id="7300" class="l"> 7300: </a>        <span class="php-comment">//</span>
<a href="#7301" id="7301" class="l"> 7301: </a>        <span class="php-comment">// Node.</span>
<a href="#7302" id="7302" class="l"> 7302: </a>        <span class="php-comment">//</span>
<a href="#7303" id="7303" class="l"> 7303: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7304" id="7304" class="l"> 7304: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7305" id="7305" class="l"> 7305: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7306" id="7306" class="l"> 7306: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7307" id="7307" class="l"> 7307: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7308" id="7308" class="l"> 7308: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'DONORCODE'</span> ] = <span class="php-var">$node</span>;
<a href="#7309" id="7309" class="l"> 7309: </a>        
<a href="#7310" id="7310" class="l"> 7310: </a>        <span class="php-comment">//</span>
<a href="#7311" id="7311" class="l"> 7311: </a>        <span class="php-comment">// Edge.</span>
<a href="#7312" id="7312" class="l"> 7312: </a>        <span class="php-comment">//</span>
<a href="#7313" id="7313" class="l"> 7313: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7314" id="7314" class="l"> 7314: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7315" id="7315" class="l"> 7315: </a>        
<a href="#7316" id="7316" class="l"> 7316: </a>        <span class="php-comment">//</span>
<a href="#7317" id="7317" class="l"> 7317: </a>        <span class="php-comment">// Display.</span>
<a href="#7318" id="7318" class="l"> 7318: </a>        <span class="php-comment">//</span>
<a href="#7319" id="7319" class="l"> 7319: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7320" id="7320" class="l"> 7320: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7321" id="7321" class="l"> 7321: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7322" id="7322" class="l"> 7322: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7323" id="7323" class="l"> 7323: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7324" id="7324" class="l"> 7324: </a>     
<a href="#7325" id="7325" class="l"> 7325: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7326" id="7326" class="l"> 7326: </a><span class="php-comment">         *  DONORNUMB                                                                    *
</span><a href="#7327" id="7327" class="l"> 7327: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7328" id="7328" class="l"> 7328: </a>
<a href="#7329" id="7329" class="l"> 7329: </a>        <span class="php-comment">//</span>
<a href="#7330" id="7330" class="l"> 7330: </a>        <span class="php-comment">// Term.</span>
<a href="#7331" id="7331" class="l"> 7331: </a>        <span class="php-comment">//</span>
<a href="#7332" id="7332" class="l"> 7332: </a>        <span class="php-var">$term</span>
<a href="#7333" id="7333" class="l"> 7333: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7334" id="7334" class="l"> 7334: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:DONORNUMB'</span> ) );
<a href="#7335" id="7335" class="l"> 7335: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7336" id="7336" class="l"> 7336: </a>        {
<a href="#7337" id="7337" class="l"> 7337: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#7338" id="7338" class="l"> 7338: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'DONORNUMB'</span> );
<a href="#7339" id="7339" class="l"> 7339: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Donor accession number'</span>, kDEFAULT_LANGUAGE );
<a href="#7340" id="7340" class="l"> 7340: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7341" id="7341" class="l"> 7341: </a>            ( <span class="php-quote">'Accession number assigned to the accession by the donor.'</span>,
<a href="#7342" id="7342" class="l"> 7342: </a>              kDEFAULT_LANGUAGE );
<a href="#7343" id="7343" class="l"> 7343: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7344" id="7344" class="l"> 7344: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'NGB1912'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7345" id="7345" class="l"> 7345: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$nodes</span>[ <span class="php-quote">'ACCENUMB'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#7346" id="7346" class="l"> 7346: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7347" id="7347" class="l"> 7347: </a>        }
<a href="#7348" id="7348" class="l"> 7348: </a>        
<a href="#7349" id="7349" class="l"> 7349: </a>        <span class="php-comment">//</span>
<a href="#7350" id="7350" class="l"> 7350: </a>        <span class="php-comment">// Node.</span>
<a href="#7351" id="7351" class="l"> 7351: </a>        <span class="php-comment">//</span>
<a href="#7352" id="7352" class="l"> 7352: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7353" id="7353" class="l"> 7353: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7354" id="7354" class="l"> 7354: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7355" id="7355" class="l"> 7355: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7356" id="7356" class="l"> 7356: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7357" id="7357" class="l"> 7357: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'DONORNUMB'</span> ] = <span class="php-var">$node</span>;
<a href="#7358" id="7358" class="l"> 7358: </a>        
<a href="#7359" id="7359" class="l"> 7359: </a>        <span class="php-comment">//</span>
<a href="#7360" id="7360" class="l"> 7360: </a>        <span class="php-comment">// Edge.</span>
<a href="#7361" id="7361" class="l"> 7361: </a>        <span class="php-comment">//</span>
<a href="#7362" id="7362" class="l"> 7362: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7363" id="7363" class="l"> 7363: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7364" id="7364" class="l"> 7364: </a>        
<a href="#7365" id="7365" class="l"> 7365: </a>        <span class="php-comment">//</span>
<a href="#7366" id="7366" class="l"> 7366: </a>        <span class="php-comment">// Display.</span>
<a href="#7367" id="7367" class="l"> 7367: </a>        <span class="php-comment">//</span>
<a href="#7368" id="7368" class="l"> 7368: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7369" id="7369" class="l"> 7369: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7370" id="7370" class="l"> 7370: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7371" id="7371" class="l"> 7371: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7372" id="7372" class="l"> 7372: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7373" id="7373" class="l"> 7373: </a>     
<a href="#7374" id="7374" class="l"> 7374: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7375" id="7375" class="l"> 7375: </a><span class="php-comment">         *  OTHERNUMB                                                                    *
</span><a href="#7376" id="7376" class="l"> 7376: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7377" id="7377" class="l"> 7377: </a>
<a href="#7378" id="7378" class="l"> 7378: </a>        <span class="php-comment">//</span>
<a href="#7379" id="7379" class="l"> 7379: </a>        <span class="php-comment">// Term.</span>
<a href="#7380" id="7380" class="l"> 7380: </a>        <span class="php-comment">//</span>
<a href="#7381" id="7381" class="l"> 7381: </a>        <span class="php-var">$term</span>
<a href="#7382" id="7382" class="l"> 7382: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7383" id="7383" class="l"> 7383: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:OTHERNUMB'</span> ) );
<a href="#7384" id="7384" class="l"> 7384: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7385" id="7385" class="l"> 7385: </a>        {
<a href="#7386" id="7386" class="l"> 7386: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#7387" id="7387" class="l"> 7387: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'OTHERNUMB'</span> );
<a href="#7388" id="7388" class="l"> 7388: </a>            <span class="php-var">$term</span>-&gt;Name
<a href="#7389" id="7389" class="l"> 7389: </a>            ( <span class="php-quote">'Other identification (numbers) associated with the accession'</span>,
<a href="#7390" id="7390" class="l"> 7390: </a>              kDEFAULT_LANGUAGE );
<a href="#7391" id="7391" class="l"> 7391: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7392" id="7392" class="l"> 7392: </a>            ( <span class="php-quote">'Any other identification (numbers) known to exist in other collections for '</span>
<a href="#7393" id="7393" class="l"> 7393: </a>             .<span class="php-quote">'this accession. Use the following system: '</span>
<a href="#7394" id="7394" class="l"> 7394: </a>             .<span class="php-quote">'INSTCODE:ACCENUMB;INSTCODE:ACCENUMB;... INSTCODE and ACCENUMB follow the '</span>
<a href="#7395" id="7395" class="l"> 7395: </a>             .<span class="php-quote">'standard described above and are separated by a colon. Pairs of INSTCODE '</span>
<a href="#7396" id="7396" class="l"> 7396: </a>             .<span class="php-quote">'and ACCENUMB are separated by a semicolon without space. When the institute '</span>
<a href="#7397" id="7397" class="l"> 7397: </a>             .<span class="php-quote">'is not known, the number should be preceded by a colon.'</span>,
<a href="#7398" id="7398" class="l"> 7398: </a>              kDEFAULT_LANGUAGE );
<a href="#7399" id="7399" class="l"> 7399: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7400" id="7400" class="l"> 7400: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'NLD037:CGN00254'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7401" id="7401" class="l"> 7401: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">':WAB001'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7402" id="7402" class="l"> 7402: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'SWE002:NGB1912;NLD037:CGN00254'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7403" id="7403" class="l"> 7403: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'SWE002:NGB1912;:Bra2343'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7404" id="7404" class="l"> 7404: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ <span class="php-quote">'INSTCODE'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#7405" id="7405" class="l"> 7405: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$nodes</span>[ <span class="php-quote">'ACCENUMB'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#7406" id="7406" class="l"> 7406: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7407" id="7407" class="l"> 7407: </a>        }
<a href="#7408" id="7408" class="l"> 7408: </a>        
<a href="#7409" id="7409" class="l"> 7409: </a>        <span class="php-comment">//</span>
<a href="#7410" id="7410" class="l"> 7410: </a>        <span class="php-comment">// Node.</span>
<a href="#7411" id="7411" class="l"> 7411: </a>        <span class="php-comment">//</span>
<a href="#7412" id="7412" class="l"> 7412: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7413" id="7413" class="l"> 7413: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7414" id="7414" class="l"> 7414: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7415" id="7415" class="l"> 7415: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7416" id="7416" class="l"> 7416: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7417" id="7417" class="l"> 7417: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'OTHERNUMB'</span> ] = <span class="php-var">$node</span>;
<a href="#7418" id="7418" class="l"> 7418: </a>        
<a href="#7419" id="7419" class="l"> 7419: </a>        <span class="php-comment">//</span>
<a href="#7420" id="7420" class="l"> 7420: </a>        <span class="php-comment">// Edge.</span>
<a href="#7421" id="7421" class="l"> 7421: </a>        <span class="php-comment">//</span>
<a href="#7422" id="7422" class="l"> 7422: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7423" id="7423" class="l"> 7423: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7424" id="7424" class="l"> 7424: </a>        
<a href="#7425" id="7425" class="l"> 7425: </a>        <span class="php-comment">//</span>
<a href="#7426" id="7426" class="l"> 7426: </a>        <span class="php-comment">// Display.</span>
<a href="#7427" id="7427" class="l"> 7427: </a>        <span class="php-comment">//</span>
<a href="#7428" id="7428" class="l"> 7428: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7429" id="7429" class="l"> 7429: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7430" id="7430" class="l"> 7430: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7431" id="7431" class="l"> 7431: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7432" id="7432" class="l"> 7432: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7433" id="7433" class="l"> 7433: </a>     
<a href="#7434" id="7434" class="l"> 7434: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7435" id="7435" class="l"> 7435: </a><span class="php-comment">         *  DUPLSITE                                                                     *
</span><a href="#7436" id="7436" class="l"> 7436: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7437" id="7437" class="l"> 7437: </a>
<a href="#7438" id="7438" class="l"> 7438: </a>        <span class="php-comment">//</span>
<a href="#7439" id="7439" class="l"> 7439: </a>        <span class="php-comment">// Term.</span>
<a href="#7440" id="7440" class="l"> 7440: </a>        <span class="php-comment">//</span>
<a href="#7441" id="7441" class="l"> 7441: </a>        <span class="php-var">$term</span>
<a href="#7442" id="7442" class="l"> 7442: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7443" id="7443" class="l"> 7443: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:DUPLSITE'</span> ) );
<a href="#7444" id="7444" class="l"> 7444: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7445" id="7445" class="l"> 7445: </a>        {
<a href="#7446" id="7446" class="l"> 7446: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#7447" id="7447" class="l"> 7447: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'DUPLSITE'</span> );
<a href="#7448" id="7448" class="l"> 7448: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Location of safety duplicates'</span>, kDEFAULT_LANGUAGE );
<a href="#7449" id="7449" class="l"> 7449: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7450" id="7450" class="l"> 7450: </a>            ( <span class="php-quote">'FAO Institute Code of the institute where a safety duplicate of the '</span>
<a href="#7451" id="7451" class="l"> 7451: </a>             .<span class="php-quote">'accession is maintained. The codes consist of the 3-letter ISO 3166 '</span>
<a href="#7452" id="7452" class="l"> 7452: </a>             .<span class="php-quote">'country code of the country where the institute is located plus a number.'</span>,
<a href="#7453" id="7453" class="l"> 7453: </a>              kDEFAULT_LANGUAGE );
<a href="#7454" id="7454" class="l"> 7454: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7455" id="7455" class="l"> 7455: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[A-Z]{3}[0-9]{3,4}'</span> );
<a href="#7456" id="7456" class="l"> 7456: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'COL002'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7457" id="7457" class="l"> 7457: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'USA1001'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7458" id="7458" class="l"> 7458: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ <span class="php-quote">'INSTCODE'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#7459" id="7459" class="l"> 7459: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7460" id="7460" class="l"> 7460: </a>        }
<a href="#7461" id="7461" class="l"> 7461: </a>        
<a href="#7462" id="7462" class="l"> 7462: </a>        <span class="php-comment">//</span>
<a href="#7463" id="7463" class="l"> 7463: </a>        <span class="php-comment">// Node.</span>
<a href="#7464" id="7464" class="l"> 7464: </a>        <span class="php-comment">//</span>
<a href="#7465" id="7465" class="l"> 7465: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7466" id="7466" class="l"> 7466: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7467" id="7467" class="l"> 7467: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7468" id="7468" class="l"> 7468: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7469" id="7469" class="l"> 7469: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7470" id="7470" class="l"> 7470: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'DUPLSITE'</span> ] = <span class="php-var">$node</span>;
<a href="#7471" id="7471" class="l"> 7471: </a>        
<a href="#7472" id="7472" class="l"> 7472: </a>        <span class="php-comment">//</span>
<a href="#7473" id="7473" class="l"> 7473: </a>        <span class="php-comment">// Edge.</span>
<a href="#7474" id="7474" class="l"> 7474: </a>        <span class="php-comment">//</span>
<a href="#7475" id="7475" class="l"> 7475: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7476" id="7476" class="l"> 7476: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7477" id="7477" class="l"> 7477: </a>        
<a href="#7478" id="7478" class="l"> 7478: </a>        <span class="php-comment">//</span>
<a href="#7479" id="7479" class="l"> 7479: </a>        <span class="php-comment">// Display.</span>
<a href="#7480" id="7480" class="l"> 7480: </a>        <span class="php-comment">//</span>
<a href="#7481" id="7481" class="l"> 7481: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7482" id="7482" class="l"> 7482: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7483" id="7483" class="l"> 7483: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7484" id="7484" class="l"> 7484: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7485" id="7485" class="l"> 7485: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7486" id="7486" class="l"> 7486: </a>     
<a href="#7487" id="7487" class="l"> 7487: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7488" id="7488" class="l"> 7488: </a><span class="php-comment">         *  STORAGE                                                                      *
</span><a href="#7489" id="7489" class="l"> 7489: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7490" id="7490" class="l"> 7490: </a>
<a href="#7491" id="7491" class="l"> 7491: </a>        <span class="php-comment">//</span>
<a href="#7492" id="7492" class="l"> 7492: </a>        <span class="php-comment">// Term.</span>
<a href="#7493" id="7493" class="l"> 7493: </a>        <span class="php-comment">//</span>
<a href="#7494" id="7494" class="l"> 7494: </a>        <span class="php-var">$term</span>
<a href="#7495" id="7495" class="l"> 7495: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7496" id="7496" class="l"> 7496: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:STORAGE'</span> ) );
<a href="#7497" id="7497" class="l"> 7497: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7498" id="7498" class="l"> 7498: </a>        {
<a href="#7499" id="7499" class="l"> 7499: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#7500" id="7500" class="l"> 7500: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'STORAGE'</span> );
<a href="#7501" id="7501" class="l"> 7501: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Type of germplasm storage'</span>, kDEFAULT_LANGUAGE );
<a href="#7502" id="7502" class="l"> 7502: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7503" id="7503" class="l"> 7503: </a>            ( <span class="php-quote">'If germplasm is maintained under different types of storage, multiple '</span>
<a href="#7504" id="7504" class="l"> 7504: </a>             .<span class="php-quote">'choices are allowed (separated by a semicolon). (Refer to FAO/IPGRI '</span>
<a href="#7505" id="7505" class="l"> 7505: </a>             .<span class="php-quote">'Genebank Standards 1994 for details on storage type.)'</span>,
<a href="#7506" id="7506" class="l"> 7506: </a>              kDEFAULT_LANGUAGE );
<a href="#7507" id="7507" class="l"> 7507: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM_SET );
<a href="#7508" id="7508" class="l"> 7508: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[0-9]{2}'</span> );
<a href="#7509" id="7509" class="l"> 7509: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7510" id="7510" class="l"> 7510: </a>        }
<a href="#7511" id="7511" class="l"> 7511: </a>        
<a href="#7512" id="7512" class="l"> 7512: </a>        <span class="php-comment">//</span>
<a href="#7513" id="7513" class="l"> 7513: </a>        <span class="php-comment">// Node.</span>
<a href="#7514" id="7514" class="l"> 7514: </a>        <span class="php-comment">//</span>
<a href="#7515" id="7515" class="l"> 7515: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7516" id="7516" class="l"> 7516: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7517" id="7517" class="l"> 7517: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7518" id="7518" class="l"> 7518: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7519" id="7519" class="l"> 7519: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7520" id="7520" class="l"> 7520: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'STORAGE'</span> ] = <span class="php-var">$node</span>;
<a href="#7521" id="7521" class="l"> 7521: </a>        
<a href="#7522" id="7522" class="l"> 7522: </a>        <span class="php-comment">//</span>
<a href="#7523" id="7523" class="l"> 7523: </a>        <span class="php-comment">// Edge.</span>
<a href="#7524" id="7524" class="l"> 7524: </a>        <span class="php-comment">//</span>
<a href="#7525" id="7525" class="l"> 7525: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7526" id="7526" class="l"> 7526: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7527" id="7527" class="l"> 7527: </a>        
<a href="#7528" id="7528" class="l"> 7528: </a>        <span class="php-comment">//</span>
<a href="#7529" id="7529" class="l"> 7529: </a>        <span class="php-comment">// Display.</span>
<a href="#7530" id="7530" class="l"> 7530: </a>        <span class="php-comment">//</span>
<a href="#7531" id="7531" class="l"> 7531: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7532" id="7532" class="l"> 7532: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7533" id="7533" class="l"> 7533: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7534" id="7534" class="l"> 7534: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7535" id="7535" class="l"> 7535: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7536" id="7536" class="l"> 7536: </a>        
<a href="#7537" id="7537" class="l"> 7537: </a>        <span class="php-comment">//</span>
<a href="#7538" id="7538" class="l"> 7538: </a>        <span class="php-comment">// Load storage codes.</span>
<a href="#7539" id="7539" class="l"> 7539: </a>        <span class="php-comment">//</span>
<a href="#7540" id="7540" class="l"> 7540: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#7541" id="7541" class="l"> 7541: </a><span class="php-quote">SELECT
</span><a href="#7542" id="7542" class="l"> 7542: </a><span class="php-quote">    `Code_GermplasmStorage`.`Code`,
</span><a href="#7543" id="7543" class="l"> 7543: </a><span class="php-quote">    `Code_GermplasmStorage`.`Parent`,
</span><a href="#7544" id="7544" class="l"> 7544: </a><span class="php-quote">    `Code_GermplasmStorage`.`Label`,
</span><a href="#7545" id="7545" class="l"> 7545: </a><span class="php-quote">    `Code_GermplasmStorage`.`Description`
</span><a href="#7546" id="7546" class="l"> 7546: </a><span class="php-quote">FROM
</span><a href="#7547" id="7547" class="l"> 7547: </a><span class="php-quote">    `Code_GermplasmStorage`
</span><a href="#7548" id="7548" class="l"> 7548: </a><span class="php-quote">ORDER BY
</span><a href="#7549" id="7549" class="l"> 7549: </a><span class="php-quote">    `Code_GermplasmStorage`.`Code`
</span><a href="#7550" id="7550" class="l"> 7550: </a><span class="php-quote">EOT;
</span><a href="#7551" id="7551" class="l"> 7551: </a>        <span class="php-var">$enums</span> = <span class="php-keyword1">Array</span>();
<a href="#7552" id="7552" class="l"> 7552: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#7553" id="7553" class="l"> 7553: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#7554" id="7554" class="l"> 7554: </a>        {
<a href="#7555" id="7555" class="l"> 7555: </a>            <span class="php-comment">//</span>
<a href="#7556" id="7556" class="l"> 7556: </a>            <span class="php-comment">// Create storage term.</span>
<a href="#7557" id="7557" class="l"> 7557: </a>            <span class="php-comment">//</span>
<a href="#7558" id="7558" class="l"> 7558: </a>            <span class="php-var">$enum_term</span>
<a href="#7559" id="7559" class="l"> 7559: </a>                = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7560" id="7560" class="l"> 7560: </a>                    ( <span class="php-var">$theContainer</span>,
<a href="#7561" id="7561" class="l"> 7561: </a>                      COntologyTerm::HashIndex
<a href="#7562" id="7562" class="l"> 7562: </a>                        ( <span class="php-var">$term</span>.kTOKEN_INDEX_SEPARATOR.<span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ) );
<a href="#7563" id="7563" class="l"> 7563: </a>            <span class="php-keyword1">if</span>( ! <span class="php-var">$enum_term</span>-&gt;Persistent() )
<a href="#7564" id="7564" class="l"> 7564: </a>            {
<a href="#7565" id="7565" class="l"> 7565: </a>                <span class="php-var">$enum_term</span>-&gt;NS( <span class="php-var">$term</span> );
<a href="#7566" id="7566" class="l"> 7566: </a>                <span class="php-var">$enum_term</span>-&gt;Code( <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] );
<a href="#7567" id="7567" class="l"> 7567: </a>                <span class="php-var">$enum_term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Label'</span> ], kDEFAULT_LANGUAGE );
<a href="#7568" id="7568" class="l"> 7568: </a>                <span class="php-var">$enum_term</span>-&gt;Name( <span class="php-var">$record</span>[ <span class="php-quote">'Description'</span> ], kDEFAULT_LANGUAGE );
<a href="#7569" id="7569" class="l"> 7569: </a>                <span class="php-var">$enum_term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#7570" id="7570" class="l"> 7570: </a>                <span class="php-var">$enum_term</span>-&gt;Type( kTYPE_ENUM );
<a href="#7571" id="7571" class="l"> 7571: </a>                <span class="php-var">$enum_term</span>-&gt;Enumeration( <span class="php-var">$enum_term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#7572" id="7572" class="l"> 7572: </a>                <span class="php-var">$enum_term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7573" id="7573" class="l"> 7573: </a>            }
<a href="#7574" id="7574" class="l"> 7574: </a>            
<a href="#7575" id="7575" class="l"> 7575: </a>            <span class="php-comment">//</span>
<a href="#7576" id="7576" class="l"> 7576: </a>            <span class="php-comment">// Create storage node.</span>
<a href="#7577" id="7577" class="l"> 7577: </a>            <span class="php-comment">//</span>
<a href="#7578" id="7578" class="l"> 7578: </a>            <span class="php-var">$enum_node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7579" id="7579" class="l"> 7579: </a>            <span class="php-var">$enum_node</span>-&gt;Term( <span class="php-var">$enum_term</span> );
<a href="#7580" id="7580" class="l"> 7580: </a>            <span class="php-var">$enum_node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#7581" id="7581" class="l"> 7581: </a>            <span class="php-var">$enum_node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7582" id="7582" class="l"> 7582: </a>            <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ] = <span class="php-var">$enum_node</span>;
<a href="#7583" id="7583" class="l"> 7583: </a>            
<a href="#7584" id="7584" class="l"> 7584: </a>            <span class="php-comment">//</span>
<a href="#7585" id="7585" class="l"> 7585: </a>            <span class="php-comment">// Handle first level storage.</span>
<a href="#7586" id="7586" class="l"> 7586: </a>            <span class="php-comment">//</span>
<a href="#7587" id="7587" class="l"> 7587: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] === <span class="php-keyword1">NULL</span> )
<a href="#7588" id="7588" class="l"> 7588: </a>            {
<a href="#7589" id="7589" class="l"> 7589: </a>                <span class="php-var">$edge</span> = <span class="php-var">$enum_node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$node</span> );
<a href="#7590" id="7590" class="l"> 7590: </a>                <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7591" id="7591" class="l"> 7591: </a>            }
<a href="#7592" id="7592" class="l"> 7592: </a>            
<a href="#7593" id="7593" class="l"> 7593: </a>            <span class="php-comment">//</span>
<a href="#7594" id="7594" class="l"> 7594: </a>            <span class="php-comment">// Display.</span>
<a href="#7595" id="7595" class="l"> 7595: </a>            <span class="php-comment">//</span>
<a href="#7596" id="7596" class="l"> 7596: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7597" id="7597" class="l"> 7597: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$enum_term</span><span class="php-quote">] &quot;</span>
<a href="#7598" id="7598" class="l"> 7598: </a>                     .<span class="php-var">$enum_term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE )
<a href="#7599" id="7599" class="l"> 7599: </a>                     .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7600" id="7600" class="l"> 7600: </a>        
<a href="#7601" id="7601" class="l"> 7601: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#7602" id="7602" class="l"> 7602: </a>        
<a href="#7603" id="7603" class="l"> 7603: </a>        <span class="php-comment">//</span>
<a href="#7604" id="7604" class="l"> 7604: </a>        <span class="php-comment">// Relate storage codes.</span>
<a href="#7605" id="7605" class="l"> 7605: </a>        <span class="php-comment">//</span>
<a href="#7606" id="7606" class="l"> 7606: </a>        <span class="php-var">$query</span> = <span class="php-quote">&lt;&lt;&lt;EOT
</span><a href="#7607" id="7607" class="l"> 7607: </a><span class="php-quote">SELECT
</span><a href="#7608" id="7608" class="l"> 7608: </a><span class="php-quote">    `Code_GermplasmStorage`.`Code`,
</span><a href="#7609" id="7609" class="l"> 7609: </a><span class="php-quote">    `Code_GermplasmStorage`.`Parent`
</span><a href="#7610" id="7610" class="l"> 7610: </a><span class="php-quote">FROM
</span><a href="#7611" id="7611" class="l"> 7611: </a><span class="php-quote">    `Code_GermplasmStorage`
</span><a href="#7612" id="7612" class="l"> 7612: </a><span class="php-quote">WHERE
</span><a href="#7613" id="7613" class="l"> 7613: </a><span class="php-quote">    `Code_GermplasmStorage`.`Parent` IS NOT NULL
</span><a href="#7614" id="7614" class="l"> 7614: </a><span class="php-quote">ORDER BY
</span><a href="#7615" id="7615" class="l"> 7615: </a><span class="php-quote">    `Code_GermplasmStorage`.`Code`
</span><a href="#7616" id="7616" class="l"> 7616: </a><span class="php-quote">EOT;
</span><a href="#7617" id="7617" class="l"> 7617: </a>        <span class="php-var">$rs</span> = <span class="php-var">$mysql</span>-&gt;Execute( <span class="php-var">$query</span> );
<a href="#7618" id="7618" class="l"> 7618: </a>        <span class="php-keyword1">foreach</span>( <span class="php-var">$rs</span> <span class="php-keyword1">as</span> <span class="php-var">$record</span> )
<a href="#7619" id="7619" class="l"> 7619: </a>        {
<a href="#7620" id="7620" class="l"> 7620: </a>            <span class="php-comment">//</span>
<a href="#7621" id="7621" class="l"> 7621: </a>            <span class="php-comment">// Get child term.</span>
<a href="#7622" id="7622" class="l"> 7622: </a>            <span class="php-comment">//</span>
<a href="#7623" id="7623" class="l"> 7623: </a>            <span class="php-var">$child_term</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ]-&gt;Term();
<a href="#7624" id="7624" class="l"> 7624: </a>
<a href="#7625" id="7625" class="l"> 7625: </a>            <span class="php-comment">//</span>
<a href="#7626" id="7626" class="l"> 7626: </a>            <span class="php-comment">// Get child node.</span>
<a href="#7627" id="7627" class="l"> 7627: </a>            <span class="php-comment">//</span>
<a href="#7628" id="7628" class="l"> 7628: </a>            <span class="php-var">$child_node</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Code'</span> ] ];
<a href="#7629" id="7629" class="l"> 7629: </a>            
<a href="#7630" id="7630" class="l"> 7630: </a>            <span class="php-comment">//</span>
<a href="#7631" id="7631" class="l"> 7631: </a>            <span class="php-comment">// Get parent term.</span>
<a href="#7632" id="7632" class="l"> 7632: </a>            <span class="php-comment">//</span>
<a href="#7633" id="7633" class="l"> 7633: </a>            <span class="php-var">$parent_term</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] ]-&gt;Term();
<a href="#7634" id="7634" class="l"> 7634: </a>
<a href="#7635" id="7635" class="l"> 7635: </a>            <span class="php-comment">//</span>
<a href="#7636" id="7636" class="l"> 7636: </a>            <span class="php-comment">// Get parent node.</span>
<a href="#7637" id="7637" class="l"> 7637: </a>            <span class="php-comment">//</span>
<a href="#7638" id="7638" class="l"> 7638: </a>            <span class="php-var">$parent_node</span> = <span class="php-var">$enums</span>[ <span class="php-var">$record</span>[ <span class="php-quote">'Parent'</span> ] ];
<a href="#7639" id="7639" class="l"> 7639: </a>            
<a href="#7640" id="7640" class="l"> 7640: </a>            <span class="php-comment">//</span>
<a href="#7641" id="7641" class="l"> 7641: </a>            <span class="php-comment">// Get status edge.</span>
<a href="#7642" id="7642" class="l"> 7642: </a>            <span class="php-comment">//</span>
<a href="#7643" id="7643" class="l"> 7643: </a>            <span class="php-var">$edge</span> = <span class="php-var">$child_node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent_node</span> );
<a href="#7644" id="7644" class="l"> 7644: </a>            <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7645" id="7645" class="l"> 7645: </a>            
<a href="#7646" id="7646" class="l"> 7646: </a>            <span class="php-comment">//</span>
<a href="#7647" id="7647" class="l"> 7647: </a>            <span class="php-comment">// Display.</span>
<a href="#7648" id="7648" class="l"> 7648: </a>            <span class="php-comment">//</span>
<a href="#7649" id="7649" class="l"> 7649: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7650" id="7650" class="l"> 7650: </a>                <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$child_term</span><span class="php-quote">] ==&gt; [</span><span class="php-var">$parent_term</span><span class="php-quote">]\n&quot;</span> );
<a href="#7651" id="7651" class="l"> 7651: </a>        
<a href="#7652" id="7652" class="l"> 7652: </a>        } <span class="php-var">$rs</span>-&gt;Close();
<a href="#7653" id="7653" class="l"> 7653: </a>     
<a href="#7654" id="7654" class="l"> 7654: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7655" id="7655" class="l"> 7655: </a><span class="php-comment">         *  REMARKS                                                                      *
</span><a href="#7656" id="7656" class="l"> 7656: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7657" id="7657" class="l"> 7657: </a>
<a href="#7658" id="7658" class="l"> 7658: </a>        <span class="php-comment">//</span>
<a href="#7659" id="7659" class="l"> 7659: </a>        <span class="php-comment">// Term.</span>
<a href="#7660" id="7660" class="l"> 7660: </a>        <span class="php-comment">//</span>
<a href="#7661" id="7661" class="l"> 7661: </a>        <span class="php-var">$term</span>
<a href="#7662" id="7662" class="l"> 7662: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7663" id="7663" class="l"> 7663: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:REMARKS'</span> ) );
<a href="#7664" id="7664" class="l"> 7664: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7665" id="7665" class="l"> 7665: </a>        {
<a href="#7666" id="7666" class="l"> 7666: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD'</span> );
<a href="#7667" id="7667" class="l"> 7667: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'REMARKS'</span> );
<a href="#7668" id="7668" class="l"> 7668: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Remarks'</span>, kDEFAULT_LANGUAGE );
<a href="#7669" id="7669" class="l"> 7669: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7670" id="7670" class="l"> 7670: </a>            ( <span class="php-quote">'The remarks field is used to add notes or to elaborate on descriptors with '</span>
<a href="#7671" id="7671" class="l"> 7671: </a>             .<span class="php-quote">'value 99 or 999 (=Other). Prefix remarks with the field name they refer to '</span>
<a href="#7672" id="7672" class="l"> 7672: </a>             .<span class="php-quote">'and a colon. Separate remarks referring to different fields are separated '</span>
<a href="#7673" id="7673" class="l"> 7673: </a>             .<span class="php-quote">'by semicolons without space.'</span>,
<a href="#7674" id="7674" class="l"> 7674: </a>              kDEFAULT_LANGUAGE );
<a href="#7675" id="7675" class="l"> 7675: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7676" id="7676" class="l"> 7676: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'COLLSRC:roadside'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7677" id="7677" class="l"> 7677: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7678" id="7678" class="l"> 7678: </a>        }
<a href="#7679" id="7679" class="l"> 7679: </a>        
<a href="#7680" id="7680" class="l"> 7680: </a>        <span class="php-comment">//</span>
<a href="#7681" id="7681" class="l"> 7681: </a>        <span class="php-comment">// Node.</span>
<a href="#7682" id="7682" class="l"> 7682: </a>        <span class="php-comment">//</span>
<a href="#7683" id="7683" class="l"> 7683: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7684" id="7684" class="l"> 7684: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7685" id="7685" class="l"> 7685: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7686" id="7686" class="l"> 7686: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7687" id="7687" class="l"> 7687: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7688" id="7688" class="l"> 7688: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'NICODE'</span> ] = <span class="php-var">$node</span>;
<a href="#7689" id="7689" class="l"> 7689: </a>        
<a href="#7690" id="7690" class="l"> 7690: </a>        <span class="php-comment">//</span>
<a href="#7691" id="7691" class="l"> 7691: </a>        <span class="php-comment">// Edge.</span>
<a href="#7692" id="7692" class="l"> 7692: </a>        <span class="php-comment">//</span>
<a href="#7693" id="7693" class="l"> 7693: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7694" id="7694" class="l"> 7694: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7695" id="7695" class="l"> 7695: </a>        
<a href="#7696" id="7696" class="l"> 7696: </a>        <span class="php-comment">//</span>
<a href="#7697" id="7697" class="l"> 7697: </a>        <span class="php-comment">// Display.</span>
<a href="#7698" id="7698" class="l"> 7698: </a>        <span class="php-comment">//</span>
<a href="#7699" id="7699" class="l"> 7699: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7700" id="7700" class="l"> 7700: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7701" id="7701" class="l"> 7701: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7702" id="7702" class="l"> 7702: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7703" id="7703" class="l"> 7703: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7704" id="7704" class="l"> 7704: </a>     
<a href="#7705" id="7705" class="l"> 7705: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7706" id="7706" class="l"> 7706: </a><span class="php-comment">         *  NICODE                                                                       *
</span><a href="#7707" id="7707" class="l"> 7707: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7708" id="7708" class="l"> 7708: </a>
<a href="#7709" id="7709" class="l"> 7709: </a>        <span class="php-comment">//</span>
<a href="#7710" id="7710" class="l"> 7710: </a>        <span class="php-comment">// Term.</span>
<a href="#7711" id="7711" class="l"> 7711: </a>        <span class="php-comment">//</span>
<a href="#7712" id="7712" class="l"> 7712: </a>        <span class="php-var">$term</span>
<a href="#7713" id="7713" class="l"> 7713: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7714" id="7714" class="l"> 7714: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:EURISCO:NICODE'</span> ) );
<a href="#7715" id="7715" class="l"> 7715: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7716" id="7716" class="l"> 7716: </a>        {
<a href="#7717" id="7717" class="l"> 7717: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD:EURISCO'</span> );
<a href="#7718" id="7718" class="l"> 7718: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'NICODE'</span> );
<a href="#7719" id="7719" class="l"> 7719: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'National Inventory code'</span>, kDEFAULT_LANGUAGE );
<a href="#7720" id="7720" class="l"> 7720: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7721" id="7721" class="l"> 7721: </a>            ( <span class="php-quote">'Code identifying the National Inventory; the code of the country '</span>
<a href="#7722" id="7722" class="l"> 7722: </a>             .<span class="php-quote">'preparing the National Inventory. Exceptions are possible, if agreed '</span>
<a href="#7723" id="7723" class="l"> 7723: </a>             .<span class="php-quote">'with EURISCO such as NGB.'</span>,
<a href="#7724" id="7724" class="l"> 7724: </a>              kDEFAULT_LANGUAGE );
<a href="#7725" id="7725" class="l"> 7725: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7726" id="7726" class="l"> 7726: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[A-Z]{3}'</span> );
<a href="#7727" id="7727" class="l"> 7727: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'NGB'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7728" id="7728" class="l"> 7728: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'NLD'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7729" id="7729" class="l"> 7729: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7730" id="7730" class="l"> 7730: </a>        }
<a href="#7731" id="7731" class="l"> 7731: </a>        
<a href="#7732" id="7732" class="l"> 7732: </a>        <span class="php-comment">//</span>
<a href="#7733" id="7733" class="l"> 7733: </a>        <span class="php-comment">// Node.</span>
<a href="#7734" id="7734" class="l"> 7734: </a>        <span class="php-comment">//</span>
<a href="#7735" id="7735" class="l"> 7735: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7736" id="7736" class="l"> 7736: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7737" id="7737" class="l"> 7737: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7738" id="7738" class="l"> 7738: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7739" id="7739" class="l"> 7739: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7740" id="7740" class="l"> 7740: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'NICODE'</span> ] = <span class="php-var">$node</span>;
<a href="#7741" id="7741" class="l"> 7741: </a>        
<a href="#7742" id="7742" class="l"> 7742: </a>        <span class="php-comment">//</span>
<a href="#7743" id="7743" class="l"> 7743: </a>        <span class="php-comment">// Edge.</span>
<a href="#7744" id="7744" class="l"> 7744: </a>        <span class="php-comment">//</span>
<a href="#7745" id="7745" class="l"> 7745: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7746" id="7746" class="l"> 7746: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7747" id="7747" class="l"> 7747: </a>        
<a href="#7748" id="7748" class="l"> 7748: </a>        <span class="php-comment">//</span>
<a href="#7749" id="7749" class="l"> 7749: </a>        <span class="php-comment">// Display.</span>
<a href="#7750" id="7750" class="l"> 7750: </a>        <span class="php-comment">//</span>
<a href="#7751" id="7751" class="l"> 7751: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7752" id="7752" class="l"> 7752: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7753" id="7753" class="l"> 7753: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7754" id="7754" class="l"> 7754: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7755" id="7755" class="l"> 7755: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7756" id="7756" class="l"> 7756: </a>
<a href="#7757" id="7757" class="l"> 7757: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7758" id="7758" class="l"> 7758: </a><span class="php-comment">         *  COLLDESCR                                                                    *
</span><a href="#7759" id="7759" class="l"> 7759: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7760" id="7760" class="l"> 7760: </a>
<a href="#7761" id="7761" class="l"> 7761: </a>        <span class="php-comment">//</span>
<a href="#7762" id="7762" class="l"> 7762: </a>        <span class="php-comment">// Term.</span>
<a href="#7763" id="7763" class="l"> 7763: </a>        <span class="php-comment">//</span>
<a href="#7764" id="7764" class="l"> 7764: </a>        <span class="php-var">$term</span>
<a href="#7765" id="7765" class="l"> 7765: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7766" id="7766" class="l"> 7766: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:EURISCO:COLLDESCR'</span> ) );
<a href="#7767" id="7767" class="l"> 7767: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7768" id="7768" class="l"> 7768: </a>        {
<a href="#7769" id="7769" class="l"> 7769: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD:EURISCO'</span> );
<a href="#7770" id="7770" class="l"> 7770: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'COLLDESCR'</span> );
<a href="#7771" id="7771" class="l"> 7771: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Decoded collecting institute'</span>, kDEFAULT_LANGUAGE );
<a href="#7772" id="7772" class="l"> 7772: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7773" id="7773" class="l"> 7773: </a>            ( <span class="php-quote">'Brief name and location of the collecting institute. Only to be used '</span>
<a href="#7774" id="7774" class="l"> 7774: </a>             .<span class="php-quote">'if COLLCODE can not be used since the FAO Institution Code for this '</span>
<a href="#7775" id="7775" class="l"> 7775: </a>             .<span class="php-quote">'institute is not (yet) available.'</span>,
<a href="#7776" id="7776" class="l"> 7776: </a>              kDEFAULT_LANGUAGE );
<a href="#7777" id="7777" class="l"> 7777: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7778" id="7778" class="l"> 7778: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Tuinartikelen Jan van Zomeren, Arnhem, The Netherlands'</span>,
<a href="#7779" id="7779" class="l"> 7779: </a>                             <span class="php-keyword1">TRUE</span> );
<a href="#7780" id="7780" class="l"> 7780: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$nodes</span>[ <span class="php-quote">'COLLCODE'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#7781" id="7781" class="l"> 7781: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7782" id="7782" class="l"> 7782: </a>        }
<a href="#7783" id="7783" class="l"> 7783: </a>        
<a href="#7784" id="7784" class="l"> 7784: </a>        <span class="php-comment">//</span>
<a href="#7785" id="7785" class="l"> 7785: </a>        <span class="php-comment">// Node.</span>
<a href="#7786" id="7786" class="l"> 7786: </a>        <span class="php-comment">//</span>
<a href="#7787" id="7787" class="l"> 7787: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7788" id="7788" class="l"> 7788: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7789" id="7789" class="l"> 7789: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7790" id="7790" class="l"> 7790: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7791" id="7791" class="l"> 7791: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7792" id="7792" class="l"> 7792: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'COLLDESCR'</span> ] = <span class="php-var">$node</span>;
<a href="#7793" id="7793" class="l"> 7793: </a>        
<a href="#7794" id="7794" class="l"> 7794: </a>        <span class="php-comment">//</span>
<a href="#7795" id="7795" class="l"> 7795: </a>        <span class="php-comment">// Edge.</span>
<a href="#7796" id="7796" class="l"> 7796: </a>        <span class="php-comment">//</span>
<a href="#7797" id="7797" class="l"> 7797: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7798" id="7798" class="l"> 7798: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7799" id="7799" class="l"> 7799: </a>        
<a href="#7800" id="7800" class="l"> 7800: </a>        <span class="php-comment">//</span>
<a href="#7801" id="7801" class="l"> 7801: </a>        <span class="php-comment">// Display.</span>
<a href="#7802" id="7802" class="l"> 7802: </a>        <span class="php-comment">//</span>
<a href="#7803" id="7803" class="l"> 7803: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7804" id="7804" class="l"> 7804: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7805" id="7805" class="l"> 7805: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7806" id="7806" class="l"> 7806: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7807" id="7807" class="l"> 7807: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7808" id="7808" class="l"> 7808: </a>     
<a href="#7809" id="7809" class="l"> 7809: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7810" id="7810" class="l"> 7810: </a><span class="php-comment">         *  BREDDESCR                                                                    *
</span><a href="#7811" id="7811" class="l"> 7811: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7812" id="7812" class="l"> 7812: </a>
<a href="#7813" id="7813" class="l"> 7813: </a>        <span class="php-comment">//</span>
<a href="#7814" id="7814" class="l"> 7814: </a>        <span class="php-comment">// Term.</span>
<a href="#7815" id="7815" class="l"> 7815: </a>        <span class="php-comment">//</span>
<a href="#7816" id="7816" class="l"> 7816: </a>        <span class="php-var">$term</span>
<a href="#7817" id="7817" class="l"> 7817: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7818" id="7818" class="l"> 7818: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:EURISCO:BREDDESCR'</span> ) );
<a href="#7819" id="7819" class="l"> 7819: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7820" id="7820" class="l"> 7820: </a>        {
<a href="#7821" id="7821" class="l"> 7821: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD:EURISCO'</span> );
<a href="#7822" id="7822" class="l"> 7822: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'BREDDESCR'</span> );
<a href="#7823" id="7823" class="l"> 7823: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Decoded breeding institute'</span>, kDEFAULT_LANGUAGE );
<a href="#7824" id="7824" class="l"> 7824: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7825" id="7825" class="l"> 7825: </a>            ( <span class="php-quote">'Brief name and location of the breeding institute. Only to be used '</span>
<a href="#7826" id="7826" class="l"> 7826: </a>             .<span class="php-quote">'if BREDCODE can not be used since the FAO Institution Code for this '</span>
<a href="#7827" id="7827" class="l"> 7827: </a>             .<span class="php-quote">'institute is not (yet) available.'</span>,
<a href="#7828" id="7828" class="l"> 7828: </a>              kDEFAULT_LANGUAGE );
<a href="#7829" id="7829" class="l"> 7829: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7830" id="7830" class="l"> 7830: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'CFFR from Chile'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7831" id="7831" class="l"> 7831: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$nodes</span>[ <span class="php-quote">'BREDCODE'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#7832" id="7832" class="l"> 7832: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7833" id="7833" class="l"> 7833: </a>        }
<a href="#7834" id="7834" class="l"> 7834: </a>        
<a href="#7835" id="7835" class="l"> 7835: </a>        <span class="php-comment">//</span>
<a href="#7836" id="7836" class="l"> 7836: </a>        <span class="php-comment">// Node.</span>
<a href="#7837" id="7837" class="l"> 7837: </a>        <span class="php-comment">//</span>
<a href="#7838" id="7838" class="l"> 7838: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7839" id="7839" class="l"> 7839: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7840" id="7840" class="l"> 7840: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7841" id="7841" class="l"> 7841: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7842" id="7842" class="l"> 7842: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7843" id="7843" class="l"> 7843: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'BREDDESCR'</span> ] = <span class="php-var">$node</span>;
<a href="#7844" id="7844" class="l"> 7844: </a>        
<a href="#7845" id="7845" class="l"> 7845: </a>        <span class="php-comment">//</span>
<a href="#7846" id="7846" class="l"> 7846: </a>        <span class="php-comment">// Edge.</span>
<a href="#7847" id="7847" class="l"> 7847: </a>        <span class="php-comment">//</span>
<a href="#7848" id="7848" class="l"> 7848: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7849" id="7849" class="l"> 7849: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7850" id="7850" class="l"> 7850: </a>        
<a href="#7851" id="7851" class="l"> 7851: </a>        <span class="php-comment">//</span>
<a href="#7852" id="7852" class="l"> 7852: </a>        <span class="php-comment">// Display.</span>
<a href="#7853" id="7853" class="l"> 7853: </a>        <span class="php-comment">//</span>
<a href="#7854" id="7854" class="l"> 7854: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7855" id="7855" class="l"> 7855: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7856" id="7856" class="l"> 7856: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7857" id="7857" class="l"> 7857: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7858" id="7858" class="l"> 7858: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7859" id="7859" class="l"> 7859: </a>     
<a href="#7860" id="7860" class="l"> 7860: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7861" id="7861" class="l"> 7861: </a><span class="php-comment">         *  DONORDESCR                                                                   *
</span><a href="#7862" id="7862" class="l"> 7862: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7863" id="7863" class="l"> 7863: </a>
<a href="#7864" id="7864" class="l"> 7864: </a>        <span class="php-comment">//</span>
<a href="#7865" id="7865" class="l"> 7865: </a>        <span class="php-comment">// Term.</span>
<a href="#7866" id="7866" class="l"> 7866: </a>        <span class="php-comment">//</span>
<a href="#7867" id="7867" class="l"> 7867: </a>        <span class="php-var">$term</span>
<a href="#7868" id="7868" class="l"> 7868: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7869" id="7869" class="l"> 7869: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:EURISCO:DONORDESCR'</span> ) );
<a href="#7870" id="7870" class="l"> 7870: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7871" id="7871" class="l"> 7871: </a>        {
<a href="#7872" id="7872" class="l"> 7872: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD:EURISCO'</span> );
<a href="#7873" id="7873" class="l"> 7873: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'DONORDESCR'</span> );
<a href="#7874" id="7874" class="l"> 7874: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Decoded donor institute'</span>, kDEFAULT_LANGUAGE );
<a href="#7875" id="7875" class="l"> 7875: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7876" id="7876" class="l"> 7876: </a>            ( <span class="php-quote">'Brief name and location of the donor institute. Only to be used '</span>
<a href="#7877" id="7877" class="l"> 7877: </a>             .<span class="php-quote">'if DONORCODE can not be used since the FAO Institution Code for this '</span>
<a href="#7878" id="7878" class="l"> 7878: </a>             .<span class="php-quote">'institute is not (yet) available.'</span>,
<a href="#7879" id="7879" class="l"> 7879: </a>              kDEFAULT_LANGUAGE );
<a href="#7880" id="7880" class="l"> 7880: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7881" id="7881" class="l"> 7881: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Nelly Goudwaard, Groningen, The Netherlands'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7882" id="7882" class="l"> 7882: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$nodes</span>[ <span class="php-quote">'DONORCODE'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#7883" id="7883" class="l"> 7883: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7884" id="7884" class="l"> 7884: </a>        }
<a href="#7885" id="7885" class="l"> 7885: </a>        
<a href="#7886" id="7886" class="l"> 7886: </a>        <span class="php-comment">//</span>
<a href="#7887" id="7887" class="l"> 7887: </a>        <span class="php-comment">// Node.</span>
<a href="#7888" id="7888" class="l"> 7888: </a>        <span class="php-comment">//</span>
<a href="#7889" id="7889" class="l"> 7889: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7890" id="7890" class="l"> 7890: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7891" id="7891" class="l"> 7891: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7892" id="7892" class="l"> 7892: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7893" id="7893" class="l"> 7893: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7894" id="7894" class="l"> 7894: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'DONORDESCR'</span> ] = <span class="php-var">$node</span>;
<a href="#7895" id="7895" class="l"> 7895: </a>        
<a href="#7896" id="7896" class="l"> 7896: </a>        <span class="php-comment">//</span>
<a href="#7897" id="7897" class="l"> 7897: </a>        <span class="php-comment">// Edge.</span>
<a href="#7898" id="7898" class="l"> 7898: </a>        <span class="php-comment">//</span>
<a href="#7899" id="7899" class="l"> 7899: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7900" id="7900" class="l"> 7900: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7901" id="7901" class="l"> 7901: </a>        
<a href="#7902" id="7902" class="l"> 7902: </a>        <span class="php-comment">//</span>
<a href="#7903" id="7903" class="l"> 7903: </a>        <span class="php-comment">// Display.</span>
<a href="#7904" id="7904" class="l"> 7904: </a>        <span class="php-comment">//</span>
<a href="#7905" id="7905" class="l"> 7905: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7906" id="7906" class="l"> 7906: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7907" id="7907" class="l"> 7907: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7908" id="7908" class="l"> 7908: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7909" id="7909" class="l"> 7909: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7910" id="7910" class="l"> 7910: </a>     
<a href="#7911" id="7911" class="l"> 7911: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7912" id="7912" class="l"> 7912: </a><span class="php-comment">         *  DUPLDESCR                                                                    *
</span><a href="#7913" id="7913" class="l"> 7913: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7914" id="7914" class="l"> 7914: </a>
<a href="#7915" id="7915" class="l"> 7915: </a>        <span class="php-comment">//</span>
<a href="#7916" id="7916" class="l"> 7916: </a>        <span class="php-comment">// Term.</span>
<a href="#7917" id="7917" class="l"> 7917: </a>        <span class="php-comment">//</span>
<a href="#7918" id="7918" class="l"> 7918: </a>        <span class="php-var">$term</span>
<a href="#7919" id="7919" class="l"> 7919: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7920" id="7920" class="l"> 7920: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:EURISCO:DUPLDESCR'</span> ) );
<a href="#7921" id="7921" class="l"> 7921: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7922" id="7922" class="l"> 7922: </a>        {
<a href="#7923" id="7923" class="l"> 7923: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD:EURISCO'</span> );
<a href="#7924" id="7924" class="l"> 7924: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'DUPLDESCR'</span> );
<a href="#7925" id="7925" class="l"> 7925: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Decoded safety duplication location'</span>, kDEFAULT_LANGUAGE );
<a href="#7926" id="7926" class="l"> 7926: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7927" id="7927" class="l"> 7927: </a>            ( <span class="php-quote">'Brief name and location of the institute maintaining the safety duplicate. '</span>
<a href="#7928" id="7928" class="l"> 7928: </a>             .<span class="php-quote">'Only to be used if DUPLSITE can not be used since the FAO Institution Code '</span>
<a href="#7929" id="7929" class="l"> 7929: </a>             .<span class="php-quote">'for this institute is not (yet) available.'</span>,
<a href="#7930" id="7930" class="l"> 7930: </a>              kDEFAULT_LANGUAGE );
<a href="#7931" id="7931" class="l"> 7931: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7932" id="7932" class="l"> 7932: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Pakhoed Freezers inc., Paramaribo, Surinam'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#7933" id="7933" class="l"> 7933: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$nodes</span>[ <span class="php-quote">'DUPLSITE'</span> ], kTYPE_RELATED, <span class="php-keyword1">TRUE</span> );
<a href="#7934" id="7934" class="l"> 7934: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7935" id="7935" class="l"> 7935: </a>        }
<a href="#7936" id="7936" class="l"> 7936: </a>        
<a href="#7937" id="7937" class="l"> 7937: </a>        <span class="php-comment">//</span>
<a href="#7938" id="7938" class="l"> 7938: </a>        <span class="php-comment">// Node.</span>
<a href="#7939" id="7939" class="l"> 7939: </a>        <span class="php-comment">//</span>
<a href="#7940" id="7940" class="l"> 7940: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7941" id="7941" class="l"> 7941: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7942" id="7942" class="l"> 7942: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7943" id="7943" class="l"> 7943: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7944" id="7944" class="l"> 7944: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7945" id="7945" class="l"> 7945: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'DUPLDESCR'</span> ] = <span class="php-var">$node</span>;
<a href="#7946" id="7946" class="l"> 7946: </a>        
<a href="#7947" id="7947" class="l"> 7947: </a>        <span class="php-comment">//</span>
<a href="#7948" id="7948" class="l"> 7948: </a>        <span class="php-comment">// Edge.</span>
<a href="#7949" id="7949" class="l"> 7949: </a>        <span class="php-comment">//</span>
<a href="#7950" id="7950" class="l"> 7950: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#7951" id="7951" class="l"> 7951: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7952" id="7952" class="l"> 7952: </a>        
<a href="#7953" id="7953" class="l"> 7953: </a>        <span class="php-comment">//</span>
<a href="#7954" id="7954" class="l"> 7954: </a>        <span class="php-comment">// Display.</span>
<a href="#7955" id="7955" class="l"> 7955: </a>        <span class="php-comment">//</span>
<a href="#7956" id="7956" class="l"> 7956: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#7957" id="7957" class="l"> 7957: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#7958" id="7958" class="l"> 7958: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#7959" id="7959" class="l"> 7959: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#7960" id="7960" class="l"> 7960: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#7961" id="7961" class="l"> 7961: </a>     
<a href="#7962" id="7962" class="l"> 7962: </a>        <span class="php-comment">/*================================================================================
</span><a href="#7963" id="7963" class="l"> 7963: </a><span class="php-comment">         *  ACCEURL                                                                      *
</span><a href="#7964" id="7964" class="l"> 7964: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#7965" id="7965" class="l"> 7965: </a>
<a href="#7966" id="7966" class="l"> 7966: </a>        <span class="php-comment">//</span>
<a href="#7967" id="7967" class="l"> 7967: </a>        <span class="php-comment">// Term.</span>
<a href="#7968" id="7968" class="l"> 7968: </a>        <span class="php-comment">//</span>
<a href="#7969" id="7969" class="l"> 7969: </a>        <span class="php-var">$term</span>
<a href="#7970" id="7970" class="l"> 7970: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#7971" id="7971" class="l"> 7971: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:EURISCO:ACCEURL'</span> ) );
<a href="#7972" id="7972" class="l"> 7972: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#7973" id="7973" class="l"> 7973: </a>        {
<a href="#7974" id="7974" class="l"> 7974: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD:EURISCO'</span> );
<a href="#7975" id="7975" class="l"> 7975: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ACCEURL'</span> );
<a href="#7976" id="7976" class="l"> 7976: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Accession URL'</span>, kDEFAULT_LANGUAGE );
<a href="#7977" id="7977" class="l"> 7977: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#7978" id="7978" class="l"> 7978: </a>            ( <span class="php-quote">'URL linking to additional data about the accession either in the holding '</span>
<a href="#7979" id="7979" class="l"> 7979: </a>             .<span class="php-quote">'genebank or from another source.'</span>,
<a href="#7980" id="7980" class="l"> 7980: </a>              kDEFAULT_LANGUAGE );
<a href="#7981" id="7981" class="l"> 7981: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#7982" id="7982" class="l"> 7982: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'http://www.cgn.wageningen-ur.nl/pgr/collections/passdeta.asp?accenumb=CGN04848'</span>,
<a href="#7983" id="7983" class="l"> 7983: </a>                             <span class="php-keyword1">TRUE</span> );
<a href="#7984" id="7984" class="l"> 7984: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#7985" id="7985" class="l"> 7985: </a>        }
<a href="#7986" id="7986" class="l"> 7986: </a>        
<a href="#7987" id="7987" class="l"> 7987: </a>        <span class="php-comment">//</span>
<a href="#7988" id="7988" class="l"> 7988: </a>        <span class="php-comment">// Node.</span>
<a href="#7989" id="7989" class="l"> 7989: </a>        <span class="php-comment">//</span>
<a href="#7990" id="7990" class="l"> 7990: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#7991" id="7991" class="l"> 7991: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#7992" id="7992" class="l"> 7992: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#7993" id="7993" class="l"> 7993: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#7994" id="7994" class="l"> 7994: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#7995" id="7995" class="l"> 7995: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ACCEURL'</span> ] = <span class="php-var">$node</span>;
<a href="#7996" id="7996" class="l"> 7996: </a>        
<a href="#7997" id="7997" class="l"> 7997: </a>        <span class="php-comment">//</span>
<a href="#7998" id="7998" class="l"> 7998: </a>        <span class="php-comment">// Edge.</span>
<a href="#7999" id="7999" class="l"> 7999: </a>        <span class="php-comment">//</span>
<a href="#8000" id="8000" class="l"> 8000: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#8001" id="8001" class="l"> 8001: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8002" id="8002" class="l"> 8002: </a>        
<a href="#8003" id="8003" class="l"> 8003: </a>        <span class="php-comment">//</span>
<a href="#8004" id="8004" class="l"> 8004: </a>        <span class="php-comment">// Display.</span>
<a href="#8005" id="8005" class="l"> 8005: </a>        <span class="php-comment">//</span>
<a href="#8006" id="8006" class="l"> 8006: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8007" id="8007" class="l"> 8007: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#8008" id="8008" class="l"> 8008: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8009" id="8009" class="l"> 8009: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8010" id="8010" class="l"> 8010: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8011" id="8011" class="l"> 8011: </a>     
<a href="#8012" id="8012" class="l"> 8012: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8013" id="8013" class="l"> 8013: </a><span class="php-comment">         *  MLSSTAT                                                                      *
</span><a href="#8014" id="8014" class="l"> 8014: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8015" id="8015" class="l"> 8015: </a>
<a href="#8016" id="8016" class="l"> 8016: </a>        <span class="php-comment">//</span>
<a href="#8017" id="8017" class="l"> 8017: </a>        <span class="php-comment">// Term.</span>
<a href="#8018" id="8018" class="l"> 8018: </a>        <span class="php-comment">//</span>
<a href="#8019" id="8019" class="l"> 8019: </a>        <span class="php-var">$term</span>
<a href="#8020" id="8020" class="l"> 8020: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#8021" id="8021" class="l"> 8021: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:EURISCO:MLSSTAT'</span> ) );
<a href="#8022" id="8022" class="l"> 8022: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#8023" id="8023" class="l"> 8023: </a>        {
<a href="#8024" id="8024" class="l"> 8024: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD:EURISCO'</span> );
<a href="#8025" id="8025" class="l"> 8025: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'MLSSTAT'</span> );
<a href="#8026" id="8026" class="l"> 8026: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'MLS Status'</span>, kDEFAULT_LANGUAGE );
<a href="#8027" id="8027" class="l"> 8027: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#8028" id="8028" class="l"> 8028: </a>            ( <span class="php-quote">'The coded status of an accession with regards to the Multilateral System '</span>
<a href="#8029" id="8029" class="l"> 8029: </a>             .<span class="php-quote">'(MLS) of the International Treaty on Plant Genetic Resources for Food and '</span>
<a href="#8030" id="8030" class="l"> 8030: </a>             .<span class="php-quote">'Agriculture. Provides the information, whether the accession is included '</span>
<a href="#8031" id="8031" class="l"> 8031: </a>             .<span class="php-quote">'in the MLS. The value should be a single character: 0 means that it '</span>
<a href="#8032" id="8032" class="l"> 8032: </a>             .<span class="php-quote">'is not part of the MLS and 1 means it is part of the MLS; If the MLS status '</span>
<a href="#8033" id="8033" class="l"> 8033: </a>             .<span class="php-quote">'is unknown, the field stays empty'</span>,
<a href="#8034" id="8034" class="l"> 8034: </a>              kDEFAULT_LANGUAGE );
<a href="#8035" id="8035" class="l"> 8035: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#8036" id="8036" class="l"> 8036: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'1'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#8037" id="8037" class="l"> 8037: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'0'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#8038" id="8038" class="l"> 8038: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#8039" id="8039" class="l"> 8039: </a>        }
<a href="#8040" id="8040" class="l"> 8040: </a>        
<a href="#8041" id="8041" class="l"> 8041: </a>        <span class="php-comment">//</span>
<a href="#8042" id="8042" class="l"> 8042: </a>        <span class="php-comment">// Node.</span>
<a href="#8043" id="8043" class="l"> 8043: </a>        <span class="php-comment">//</span>
<a href="#8044" id="8044" class="l"> 8044: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8045" id="8045" class="l"> 8045: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8046" id="8046" class="l"> 8046: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8047" id="8047" class="l"> 8047: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8048" id="8048" class="l"> 8048: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8049" id="8049" class="l"> 8049: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'MLSSTAT'</span> ] = <span class="php-var">$node</span>;
<a href="#8050" id="8050" class="l"> 8050: </a>        
<a href="#8051" id="8051" class="l"> 8051: </a>        <span class="php-comment">//</span>
<a href="#8052" id="8052" class="l"> 8052: </a>        <span class="php-comment">// Edge.</span>
<a href="#8053" id="8053" class="l"> 8053: </a>        <span class="php-comment">//</span>
<a href="#8054" id="8054" class="l"> 8054: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#8055" id="8055" class="l"> 8055: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8056" id="8056" class="l"> 8056: </a>        
<a href="#8057" id="8057" class="l"> 8057: </a>        <span class="php-comment">//</span>
<a href="#8058" id="8058" class="l"> 8058: </a>        <span class="php-comment">// Display.</span>
<a href="#8059" id="8059" class="l"> 8059: </a>        <span class="php-comment">//</span>
<a href="#8060" id="8060" class="l"> 8060: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8061" id="8061" class="l"> 8061: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#8062" id="8062" class="l"> 8062: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8063" id="8063" class="l"> 8063: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8064" id="8064" class="l"> 8064: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8065" id="8065" class="l"> 8065: </a>     
<a href="#8066" id="8066" class="l"> 8066: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8067" id="8067" class="l"> 8067: </a><span class="php-comment">         *  AEGISSTAT                                                                    *
</span><a href="#8068" id="8068" class="l"> 8068: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8069" id="8069" class="l"> 8069: </a>
<a href="#8070" id="8070" class="l"> 8070: </a>        <span class="php-comment">//</span>
<a href="#8071" id="8071" class="l"> 8071: </a>        <span class="php-comment">// Term.</span>
<a href="#8072" id="8072" class="l"> 8072: </a>        <span class="php-comment">//</span>
<a href="#8073" id="8073" class="l"> 8073: </a>        <span class="php-var">$term</span>
<a href="#8074" id="8074" class="l"> 8074: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#8075" id="8075" class="l"> 8075: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'MCPD:EURISCO:AEGISSTAT'</span> ) );
<a href="#8076" id="8076" class="l"> 8076: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#8077" id="8077" class="l"> 8077: </a>        {
<a href="#8078" id="8078" class="l"> 8078: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-quote">'MCPD:EURISCO'</span> );
<a href="#8079" id="8079" class="l"> 8079: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'AEGISSTAT'</span> );
<a href="#8080" id="8080" class="l"> 8080: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'AEGIS Status'</span>, kDEFAULT_LANGUAGE );
<a href="#8081" id="8081" class="l"> 8081: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#8082" id="8082" class="l"> 8082: </a>            ( <span class="php-quote">'The coded status of an accession with regards to the European Genebank '</span>
<a href="#8083" id="8083" class="l"> 8083: </a>             .<span class="php-quote">'Integrated System (AEGIS). Provides the information, whether the accession '</span>
<a href="#8084" id="8084" class="l"> 8084: </a>             .<span class="php-quote">'is conserved for AEGIS. The value should be a single character: 0 means '</span>
<a href="#8085" id="8085" class="l"> 8085: </a>             .<span class="php-quote">'that it is not part of AEGIS and 1 means it is part of AEGIS; If the AEGIS '</span>
<a href="#8086" id="8086" class="l"> 8086: </a>             .<span class="php-quote">'status is unknown, the field stays empty'</span>,
<a href="#8087" id="8087" class="l"> 8087: </a>              kDEFAULT_LANGUAGE );
<a href="#8088" id="8088" class="l"> 8088: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#8089" id="8089" class="l"> 8089: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'1'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#8090" id="8090" class="l"> 8090: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'0'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#8091" id="8091" class="l"> 8091: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#8092" id="8092" class="l"> 8092: </a>        }
<a href="#8093" id="8093" class="l"> 8093: </a>        
<a href="#8094" id="8094" class="l"> 8094: </a>        <span class="php-comment">//</span>
<a href="#8095" id="8095" class="l"> 8095: </a>        <span class="php-comment">// Node.</span>
<a href="#8096" id="8096" class="l"> 8096: </a>        <span class="php-comment">//</span>
<a href="#8097" id="8097" class="l"> 8097: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8098" id="8098" class="l"> 8098: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8099" id="8099" class="l"> 8099: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8100" id="8100" class="l"> 8100: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8101" id="8101" class="l"> 8101: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8102" id="8102" class="l"> 8102: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'AEGISSTAT'</span> ] = <span class="php-var">$node</span>;
<a href="#8103" id="8103" class="l"> 8103: </a>        
<a href="#8104" id="8104" class="l"> 8104: </a>        <span class="php-comment">//</span>
<a href="#8105" id="8105" class="l"> 8105: </a>        <span class="php-comment">// Edge.</span>
<a href="#8106" id="8106" class="l"> 8106: </a>        <span class="php-comment">//</span>
<a href="#8107" id="8107" class="l"> 8107: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'MCPD'</span> ] );
<a href="#8108" id="8108" class="l"> 8108: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8109" id="8109" class="l"> 8109: </a>        
<a href="#8110" id="8110" class="l"> 8110: </a>        <span class="php-comment">//</span>
<a href="#8111" id="8111" class="l"> 8111: </a>        <span class="php-comment">// Display.</span>
<a href="#8112" id="8112" class="l"> 8112: </a>        <span class="php-comment">//</span>
<a href="#8113" id="8113" class="l"> 8113: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8114" id="8114" class="l"> 8114: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#8115" id="8115" class="l"> 8115: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8116" id="8116" class="l"> 8116: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8117" id="8117" class="l"> 8117: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8118" id="8118" class="l"> 8118: </a>        
<a href="#8119" id="8119" class="l"> 8119: </a>    } <span class="php-comment">// LoadMCPD.</span>
<a href="#8120" id="8120" class="l"> 8120: </a>
<a href="#8121" id="8121" class="l"> 8121: </a>     
<a href="#8122" id="8122" class="l"> 8122: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#8123" id="8123" class="l"> 8123: </a><span class="php-comment">     *  LoadDatadictStructs                                                             *
</span><a href="#8124" id="8124" class="l"> 8124: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#8125" id="8125" class="l"> 8125: </a>
<a href="#8126" id="8126" class="l"> 8126: </a>    <span class="php-comment">/**
</span><a href="#8127" id="8127" class="l"> 8127: </a><span class="php-comment">     * Load base structures.
</span><a href="#8128" id="8128" class="l"> 8128: </a><span class="php-comment">     *
</span><a href="#8129" id="8129" class="l"> 8129: </a><span class="php-comment">     * This function will load the default structures used by data dictionaries.
</span><a href="#8130" id="8130" class="l"> 8130: </a><span class="php-comment">     *
</span><a href="#8131" id="8131" class="l"> 8131: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#8132" id="8132" class="l"> 8132: </a><span class="php-comment">     * created terms.
</span><a href="#8133" id="8133" class="l"> 8133: </a><span class="php-comment">     *
</span><a href="#8134" id="8134" class="l"> 8134: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#8135" id="8135" class="l"> 8135: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#8136" id="8136" class="l"> 8136: </a><span class="php-comment">     *
</span><a href="#8137" id="8137" class="l"> 8137: </a><span class="php-comment">     * @access protected
</span><a href="#8138" id="8138" class="l"> 8138: </a><span class="php-comment">     */</span>
<a href="#8139" id="8139" class="l"> 8139: </a>    <span class="php-keyword1">function</span> LoadDatadictStructs( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#8140" id="8140" class="l"> 8140: </a>    {
<a href="#8141" id="8141" class="l"> 8141: </a>        <span class="php-comment">//</span>
<a href="#8142" id="8142" class="l"> 8142: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#8143" id="8143" class="l"> 8143: </a>        <span class="php-comment">//</span>
<a href="#8144" id="8144" class="l"> 8144: </a>        <span class="php-var">$nodes</span> = <span class="php-keyword1">Array</span>();
<a href="#8145" id="8145" class="l"> 8145: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#8146" id="8146" class="l"> 8146: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#8147" id="8147" class="l"> 8147: </a>        
<a href="#8148" id="8148" class="l"> 8148: </a>        <span class="php-comment">//</span>
<a href="#8149" id="8149" class="l"> 8149: </a>        <span class="php-comment">// Inform.</span>
<a href="#8150" id="8150" class="l"> 8150: </a>        <span class="php-comment">//</span>
<a href="#8151" id="8151" class="l"> 8151: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8152" id="8152" class="l"> 8152: </a>        {
<a href="#8153" id="8153" class="l"> 8153: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8154" id="8154" class="l"> 8154: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#8155" id="8155" class="l"> 8155: </a>        }
<a href="#8156" id="8156" class="l"> 8156: </a>        
<a href="#8157" id="8157" class="l"> 8157: </a>        <span class="php-comment">//</span>
<a href="#8158" id="8158" class="l"> 8158: </a>        <span class="php-comment">// ENUM-OF.</span>
<a href="#8159" id="8159" class="l"> 8159: </a>        <span class="php-comment">//</span>
<a href="#8160" id="8160" class="l"> 8160: </a>        <span class="php-var">$enum_of</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#8161" id="8161" class="l"> 8161: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_ENUM_OF ) );
<a href="#8162" id="8162" class="l"> 8162: </a>        
<a href="#8163" id="8163" class="l"> 8163: </a>        <span class="php-comment">//</span>
<a href="#8164" id="8164" class="l"> 8164: </a>        <span class="php-comment">// COMPONENT-OF.</span>
<a href="#8165" id="8165" class="l"> 8165: </a>        <span class="php-comment">//</span>
<a href="#8166" id="8166" class="l"> 8166: </a>        <span class="php-var">$component_of</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#8167" id="8167" class="l"> 8167: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_COMPONENT_OF ) );
<a href="#8168" id="8168" class="l"> 8168: </a>        
<a href="#8169" id="8169" class="l"> 8169: </a>        <span class="php-comment">//</span>
<a href="#8170" id="8170" class="l"> 8170: </a>        <span class="php-comment">// Get default namespace.</span>
<a href="#8171" id="8171" class="l"> 8171: </a>        <span class="php-comment">//</span>
<a href="#8172" id="8172" class="l"> 8172: </a>        <span class="php-var">$ns</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#8173" id="8173" class="l"> 8173: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( (string) <span class="php-var">$ns</span> ) + <span class="php-num">1</span>;
<a href="#8174" id="8174" class="l"> 8174: </a>        
<a href="#8175" id="8175" class="l"> 8175: </a>        <span class="php-comment">//</span>
<a href="#8176" id="8176" class="l"> 8176: </a>        <span class="php-comment">// Handle language (kTAG_LANGUAGE).</span>
<a href="#8177" id="8177" class="l"> 8177: </a>        <span class="php-comment">//</span>
<a href="#8178" id="8178" class="l"> 8178: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8179" id="8179" class="l"> 8179: </a>                                   COntologyTerm::HashIndex( kTAG_LANGUAGE ) );
<a href="#8180" id="8180" class="l"> 8180: </a>        <span class="php-comment">//</span>
<a href="#8181" id="8181" class="l"> 8181: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8182" id="8182" class="l"> 8182: </a>        <span class="php-comment">//</span>
<a href="#8183" id="8183" class="l"> 8183: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8184" id="8184" class="l"> 8184: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8185" id="8185" class="l"> 8185: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8186" id="8186" class="l"> 8186: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#8187" id="8187" class="l"> 8187: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#8188" id="8188" class="l"> 8188: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8189" id="8189" class="l"> 8189: </a>        <span class="php-comment">//</span>
<a href="#8190" id="8190" class="l"> 8190: </a>        <span class="php-comment">// Save node.</span>
<a href="#8191" id="8191" class="l"> 8191: </a>        <span class="php-comment">//</span>
<a href="#8192" id="8192" class="l"> 8192: </a>        <span class="php-var">$parent</span> = <span class="php-var">$nodes</span>[ kTAG_LANGUAGE ] = <span class="php-var">$node</span>;
<a href="#8193" id="8193" class="l"> 8193: </a>        <span class="php-comment">//</span>
<a href="#8194" id="8194" class="l"> 8194: </a>        <span class="php-comment">// Display.</span>
<a href="#8195" id="8195" class="l"> 8195: </a>        <span class="php-comment">//</span>
<a href="#8196" id="8196" class="l"> 8196: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8197" id="8197" class="l"> 8197: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_LANGUAGE) &quot;</span>
<a href="#8198" id="8198" class="l"> 8198: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8199" id="8199" class="l"> 8199: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8200" id="8200" class="l"> 8200: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8201" id="8201" class="l"> 8201: </a>        
<a href="#8202" id="8202" class="l"> 8202: </a>        <span class="php-comment">//</span>
<a href="#8203" id="8203" class="l"> 8203: </a>        <span class="php-comment">// Handle English.</span>
<a href="#8204" id="8204" class="l"> 8204: </a>        <span class="php-comment">//</span>
<a href="#8205" id="8205" class="l"> 8205: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8206" id="8206" class="l"> 8206: </a>                                   COntologyTerm::HashIndex( <span class="php-quote">'ISO:639:3:Part1:en'</span> ) );
<a href="#8207" id="8207" class="l"> 8207: </a>        <span class="php-comment">//</span>
<a href="#8208" id="8208" class="l"> 8208: </a>        <span class="php-comment">// Get node.</span>
<a href="#8209" id="8209" class="l"> 8209: </a>        <span class="php-comment">//</span>
<a href="#8210" id="8210" class="l"> 8210: </a>        <span class="php-var">$list</span> = <span class="php-var">$term</span>-&gt;Node();
<a href="#8211" id="8211" class="l"> 8211: </a>        <span class="php-comment">//</span>
<a href="#8212" id="8212" class="l"> 8212: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8213" id="8213" class="l"> 8213: </a>        <span class="php-comment">//</span>
<a href="#8214" id="8214" class="l"> 8214: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span>, <span class="php-var">$list</span>[ <span class="php-num">0</span> ] );
<a href="#8215" id="8215" class="l"> 8215: </a>        <span class="php-comment">//</span>
<a href="#8216" id="8216" class="l"> 8216: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8217" id="8217" class="l"> 8217: </a>        <span class="php-comment">//</span>
<a href="#8218" id="8218" class="l"> 8218: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent</span> );
<a href="#8219" id="8219" class="l"> 8219: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8220" id="8220" class="l"> 8220: </a>        <span class="php-comment">//</span>
<a href="#8221" id="8221" class="l"> 8221: </a>        <span class="php-comment">// Display.</span>
<a href="#8222" id="8222" class="l"> 8222: </a>        <span class="php-comment">//</span>
<a href="#8223" id="8223" class="l"> 8223: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8224" id="8224" class="l"> 8224: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#8225" id="8225" class="l"> 8225: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8226" id="8226" class="l"> 8226: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8227" id="8227" class="l"> 8227: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8228" id="8228" class="l"> 8228: </a>        
<a href="#8229" id="8229" class="l"> 8229: </a>        <span class="php-comment">//</span>
<a href="#8230" id="8230" class="l"> 8230: </a>        <span class="php-comment">// Handle French.</span>
<a href="#8231" id="8231" class="l"> 8231: </a>        <span class="php-comment">//</span>
<a href="#8232" id="8232" class="l"> 8232: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8233" id="8233" class="l"> 8233: </a>                                   COntologyTerm::HashIndex( <span class="php-quote">'ISO:639:3:Part1:fr'</span> ) );
<a href="#8234" id="8234" class="l"> 8234: </a>        <span class="php-comment">//</span>
<a href="#8235" id="8235" class="l"> 8235: </a>        <span class="php-comment">// Get node.</span>
<a href="#8236" id="8236" class="l"> 8236: </a>        <span class="php-comment">//</span>
<a href="#8237" id="8237" class="l"> 8237: </a>        <span class="php-var">$list</span> = <span class="php-var">$term</span>-&gt;Node();
<a href="#8238" id="8238" class="l"> 8238: </a>        <span class="php-comment">//</span>
<a href="#8239" id="8239" class="l"> 8239: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8240" id="8240" class="l"> 8240: </a>        <span class="php-comment">//</span>
<a href="#8241" id="8241" class="l"> 8241: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span>, <span class="php-var">$list</span>[ <span class="php-num">0</span> ] );
<a href="#8242" id="8242" class="l"> 8242: </a>        <span class="php-comment">//</span>
<a href="#8243" id="8243" class="l"> 8243: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8244" id="8244" class="l"> 8244: </a>        <span class="php-comment">//</span>
<a href="#8245" id="8245" class="l"> 8245: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent</span> );
<a href="#8246" id="8246" class="l"> 8246: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8247" id="8247" class="l"> 8247: </a>        <span class="php-comment">//</span>
<a href="#8248" id="8248" class="l"> 8248: </a>        <span class="php-comment">// Display.</span>
<a href="#8249" id="8249" class="l"> 8249: </a>        <span class="php-comment">//</span>
<a href="#8250" id="8250" class="l"> 8250: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8251" id="8251" class="l"> 8251: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#8252" id="8252" class="l"> 8252: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8253" id="8253" class="l"> 8253: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8254" id="8254" class="l"> 8254: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8255" id="8255" class="l"> 8255: </a>        
<a href="#8256" id="8256" class="l"> 8256: </a>        <span class="php-comment">//</span>
<a href="#8257" id="8257" class="l"> 8257: </a>        <span class="php-comment">// Handle Spanish.</span>
<a href="#8258" id="8258" class="l"> 8258: </a>        <span class="php-comment">//</span>
<a href="#8259" id="8259" class="l"> 8259: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8260" id="8260" class="l"> 8260: </a>                                   COntologyTerm::HashIndex( <span class="php-quote">'ISO:639:3:Part1:es'</span> ) );
<a href="#8261" id="8261" class="l"> 8261: </a>        <span class="php-comment">//</span>
<a href="#8262" id="8262" class="l"> 8262: </a>        <span class="php-comment">// Get node.</span>
<a href="#8263" id="8263" class="l"> 8263: </a>        <span class="php-comment">//</span>
<a href="#8264" id="8264" class="l"> 8264: </a>        <span class="php-var">$list</span> = <span class="php-var">$term</span>-&gt;Node();
<a href="#8265" id="8265" class="l"> 8265: </a>        <span class="php-comment">//</span>
<a href="#8266" id="8266" class="l"> 8266: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8267" id="8267" class="l"> 8267: </a>        <span class="php-comment">//</span>
<a href="#8268" id="8268" class="l"> 8268: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span>, <span class="php-var">$list</span>[ <span class="php-num">0</span> ] );
<a href="#8269" id="8269" class="l"> 8269: </a>        <span class="php-comment">//</span>
<a href="#8270" id="8270" class="l"> 8270: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8271" id="8271" class="l"> 8271: </a>        <span class="php-comment">//</span>
<a href="#8272" id="8272" class="l"> 8272: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent</span> );
<a href="#8273" id="8273" class="l"> 8273: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8274" id="8274" class="l"> 8274: </a>        <span class="php-comment">//</span>
<a href="#8275" id="8275" class="l"> 8275: </a>        <span class="php-comment">// Display.</span>
<a href="#8276" id="8276" class="l"> 8276: </a>        <span class="php-comment">//</span>
<a href="#8277" id="8277" class="l"> 8277: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8278" id="8278" class="l"> 8278: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#8279" id="8279" class="l"> 8279: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8280" id="8280" class="l"> 8280: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8281" id="8281" class="l"> 8281: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8282" id="8282" class="l"> 8282: </a>        
<a href="#8283" id="8283" class="l"> 8283: </a>        <span class="php-comment">//</span>
<a href="#8284" id="8284" class="l"> 8284: </a>        <span class="php-comment">// Handle Russian.</span>
<a href="#8285" id="8285" class="l"> 8285: </a>        <span class="php-comment">//</span>
<a href="#8286" id="8286" class="l"> 8286: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8287" id="8287" class="l"> 8287: </a>                                   COntologyTerm::HashIndex( <span class="php-quote">'ISO:639:3:Part1:ru'</span> ) );
<a href="#8288" id="8288" class="l"> 8288: </a>        <span class="php-comment">//</span>
<a href="#8289" id="8289" class="l"> 8289: </a>        <span class="php-comment">// Get node.</span>
<a href="#8290" id="8290" class="l"> 8290: </a>        <span class="php-comment">//</span>
<a href="#8291" id="8291" class="l"> 8291: </a>        <span class="php-var">$list</span> = <span class="php-var">$term</span>-&gt;Node();
<a href="#8292" id="8292" class="l"> 8292: </a>        <span class="php-comment">//</span>
<a href="#8293" id="8293" class="l"> 8293: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8294" id="8294" class="l"> 8294: </a>        <span class="php-comment">//</span>
<a href="#8295" id="8295" class="l"> 8295: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span>, <span class="php-var">$list</span>[ <span class="php-num">0</span> ] );
<a href="#8296" id="8296" class="l"> 8296: </a>        <span class="php-comment">//</span>
<a href="#8297" id="8297" class="l"> 8297: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8298" id="8298" class="l"> 8298: </a>        <span class="php-comment">//</span>
<a href="#8299" id="8299" class="l"> 8299: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent</span> );
<a href="#8300" id="8300" class="l"> 8300: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8301" id="8301" class="l"> 8301: </a>        <span class="php-comment">//</span>
<a href="#8302" id="8302" class="l"> 8302: </a>        <span class="php-comment">// Display.</span>
<a href="#8303" id="8303" class="l"> 8303: </a>        <span class="php-comment">//</span>
<a href="#8304" id="8304" class="l"> 8304: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8305" id="8305" class="l"> 8305: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#8306" id="8306" class="l"> 8306: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8307" id="8307" class="l"> 8307: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8308" id="8308" class="l"> 8308: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8309" id="8309" class="l"> 8309: </a>        
<a href="#8310" id="8310" class="l"> 8310: </a>        <span class="php-comment">//</span>
<a href="#8311" id="8311" class="l"> 8311: </a>        <span class="php-comment">// Handle data (kTAG_DATA).</span>
<a href="#8312" id="8312" class="l"> 8312: </a>        <span class="php-comment">//</span>
<a href="#8313" id="8313" class="l"> 8313: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8314" id="8314" class="l"> 8314: </a>                                   COntologyTerm::HashIndex( kTAG_DATA ) );
<a href="#8315" id="8315" class="l"> 8315: </a>        <span class="php-comment">//</span>
<a href="#8316" id="8316" class="l"> 8316: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8317" id="8317" class="l"> 8317: </a>        <span class="php-comment">//</span>
<a href="#8318" id="8318" class="l"> 8318: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8319" id="8319" class="l"> 8319: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8320" id="8320" class="l"> 8320: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8321" id="8321" class="l"> 8321: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#8322" id="8322" class="l"> 8322: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#8323" id="8323" class="l"> 8323: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8324" id="8324" class="l"> 8324: </a>        <span class="php-comment">//</span>
<a href="#8325" id="8325" class="l"> 8325: </a>        <span class="php-comment">// Save node.</span>
<a href="#8326" id="8326" class="l"> 8326: </a>        <span class="php-comment">//</span>
<a href="#8327" id="8327" class="l"> 8327: </a>        <span class="php-var">$nodes</span>[ kTAG_DATA ] = <span class="php-var">$node</span>;
<a href="#8328" id="8328" class="l"> 8328: </a>        <span class="php-comment">//</span>
<a href="#8329" id="8329" class="l"> 8329: </a>        <span class="php-comment">// Display.</span>
<a href="#8330" id="8330" class="l"> 8330: </a>        <span class="php-comment">//</span>
<a href="#8331" id="8331" class="l"> 8331: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8332" id="8332" class="l"> 8332: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_DATA) &quot;</span>
<a href="#8333" id="8333" class="l"> 8333: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8334" id="8334" class="l"> 8334: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8335" id="8335" class="l"> 8335: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8336" id="8336" class="l"> 8336: </a>     
<a href="#8337" id="8337" class="l"> 8337: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8338" id="8338" class="l"> 8338: </a><span class="php-comment">         *  kTAG_NAME                                                                    *
</span><a href="#8339" id="8339" class="l"> 8339: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8340" id="8340" class="l"> 8340: </a>
<a href="#8341" id="8341" class="l"> 8341: </a>        <span class="php-comment">//</span>
<a href="#8342" id="8342" class="l"> 8342: </a>        <span class="php-comment">// Handle name (kTAG_NAME).</span>
<a href="#8343" id="8343" class="l"> 8343: </a>        <span class="php-comment">//</span>
<a href="#8344" id="8344" class="l"> 8344: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8345" id="8345" class="l"> 8345: </a>                                   COntologyTerm::HashIndex( kTAG_NAME ) );
<a href="#8346" id="8346" class="l"> 8346: </a>        <span class="php-comment">//</span>
<a href="#8347" id="8347" class="l"> 8347: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8348" id="8348" class="l"> 8348: </a>        <span class="php-comment">//</span>
<a href="#8349" id="8349" class="l"> 8349: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8350" id="8350" class="l"> 8350: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8351" id="8351" class="l"> 8351: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8352" id="8352" class="l"> 8352: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_LIST );
<a href="#8353" id="8353" class="l"> 8353: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#8354" id="8354" class="l"> 8354: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8355" id="8355" class="l"> 8355: </a>        <span class="php-comment">//</span>
<a href="#8356" id="8356" class="l"> 8356: </a>        <span class="php-comment">// Save node.</span>
<a href="#8357" id="8357" class="l"> 8357: </a>        <span class="php-comment">//</span>
<a href="#8358" id="8358" class="l"> 8358: </a>        <span class="php-var">$parent</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ kTAG_NAME ] = <span class="php-var">$node</span>;
<a href="#8359" id="8359" class="l"> 8359: </a>        <span class="php-comment">//</span>
<a href="#8360" id="8360" class="l"> 8360: </a>        <span class="php-comment">// Display.</span>
<a href="#8361" id="8361" class="l"> 8361: </a>        <span class="php-comment">//</span>
<a href="#8362" id="8362" class="l"> 8362: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8363" id="8363" class="l"> 8363: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_NAME) &quot;</span>
<a href="#8364" id="8364" class="l"> 8364: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8365" id="8365" class="l"> 8365: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8366" id="8366" class="l"> 8366: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8367" id="8367" class="l"> 8367: </a>
<a href="#8368" id="8368" class="l"> 8368: </a>        <span class="php-comment">//</span>
<a href="#8369" id="8369" class="l"> 8369: </a>        <span class="php-comment">// Connect language.</span>
<a href="#8370" id="8370" class="l"> 8370: </a>        <span class="php-comment">//</span>
<a href="#8371" id="8371" class="l"> 8371: </a>        <span class="php-var">$edge</span> = <span class="php-var">$nodes</span>[ kTAG_LANGUAGE ]-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$parent</span> );
<a href="#8372" id="8372" class="l"> 8372: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8373" id="8373" class="l"> 8373: </a>
<a href="#8374" id="8374" class="l"> 8374: </a>        <span class="php-comment">//</span>
<a href="#8375" id="8375" class="l"> 8375: </a>        <span class="php-comment">// Connect data.</span>
<a href="#8376" id="8376" class="l"> 8376: </a>        <span class="php-comment">//</span>
<a href="#8377" id="8377" class="l"> 8377: </a>        <span class="php-var">$edge</span> = <span class="php-var">$nodes</span>[ kTAG_DATA ]-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$parent</span> );
<a href="#8378" id="8378" class="l"> 8378: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8379" id="8379" class="l"> 8379: </a>     
<a href="#8380" id="8380" class="l"> 8380: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8381" id="8381" class="l"> 8381: </a><span class="php-comment">         *  kTAG_DESCRIPTION                                                             *
</span><a href="#8382" id="8382" class="l"> 8382: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8383" id="8383" class="l"> 8383: </a>
<a href="#8384" id="8384" class="l"> 8384: </a>        <span class="php-comment">//</span>
<a href="#8385" id="8385" class="l"> 8385: </a>        <span class="php-comment">// Handle description (kTAG_DESCRIPTION).</span>
<a href="#8386" id="8386" class="l"> 8386: </a>        <span class="php-comment">//</span>
<a href="#8387" id="8387" class="l"> 8387: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8388" id="8388" class="l"> 8388: </a>                                   COntologyTerm::HashIndex( kTAG_DESCRIPTION ) );
<a href="#8389" id="8389" class="l"> 8389: </a>        <span class="php-comment">//</span>
<a href="#8390" id="8390" class="l"> 8390: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8391" id="8391" class="l"> 8391: </a>        <span class="php-comment">//</span>
<a href="#8392" id="8392" class="l"> 8392: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8393" id="8393" class="l"> 8393: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8394" id="8394" class="l"> 8394: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8395" id="8395" class="l"> 8395: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_LIST );
<a href="#8396" id="8396" class="l"> 8396: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#8397" id="8397" class="l"> 8397: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8398" id="8398" class="l"> 8398: </a>        <span class="php-comment">//</span>
<a href="#8399" id="8399" class="l"> 8399: </a>        <span class="php-comment">// Save node.</span>
<a href="#8400" id="8400" class="l"> 8400: </a>        <span class="php-comment">//</span>
<a href="#8401" id="8401" class="l"> 8401: </a>        <span class="php-var">$parent</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ kTAG_DESCRIPTION ] = <span class="php-var">$node</span>;
<a href="#8402" id="8402" class="l"> 8402: </a>        <span class="php-comment">//</span>
<a href="#8403" id="8403" class="l"> 8403: </a>        <span class="php-comment">// Display.</span>
<a href="#8404" id="8404" class="l"> 8404: </a>        <span class="php-comment">//</span>
<a href="#8405" id="8405" class="l"> 8405: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8406" id="8406" class="l"> 8406: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_DESCRIPTION) &quot;</span>
<a href="#8407" id="8407" class="l"> 8407: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8408" id="8408" class="l"> 8408: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8409" id="8409" class="l"> 8409: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8410" id="8410" class="l"> 8410: </a>
<a href="#8411" id="8411" class="l"> 8411: </a>        <span class="php-comment">//</span>
<a href="#8412" id="8412" class="l"> 8412: </a>        <span class="php-comment">// Connect language.</span>
<a href="#8413" id="8413" class="l"> 8413: </a>        <span class="php-comment">//</span>
<a href="#8414" id="8414" class="l"> 8414: </a>        <span class="php-var">$edge</span> = <span class="php-var">$nodes</span>[ kTAG_LANGUAGE ]-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$parent</span> );
<a href="#8415" id="8415" class="l"> 8415: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8416" id="8416" class="l"> 8416: </a>
<a href="#8417" id="8417" class="l"> 8417: </a>        <span class="php-comment">//</span>
<a href="#8418" id="8418" class="l"> 8418: </a>        <span class="php-comment">// Connect data.</span>
<a href="#8419" id="8419" class="l"> 8419: </a>        <span class="php-comment">//</span>
<a href="#8420" id="8420" class="l"> 8420: </a>        <span class="php-var">$edge</span> = <span class="php-var">$nodes</span>[ kTAG_DATA ]-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$parent</span> );
<a href="#8421" id="8421" class="l"> 8421: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8422" id="8422" class="l"> 8422: </a>     
<a href="#8423" id="8423" class="l"> 8423: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8424" id="8424" class="l"> 8424: </a><span class="php-comment">         *  kTAG_DEFINITION                                                              *
</span><a href="#8425" id="8425" class="l"> 8425: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8426" id="8426" class="l"> 8426: </a>
<a href="#8427" id="8427" class="l"> 8427: </a>        <span class="php-comment">//</span>
<a href="#8428" id="8428" class="l"> 8428: </a>        <span class="php-comment">// Handle definition (kTAG_DEFINITION).</span>
<a href="#8429" id="8429" class="l"> 8429: </a>        <span class="php-comment">//</span>
<a href="#8430" id="8430" class="l"> 8430: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8431" id="8431" class="l"> 8431: </a>                                   COntologyTerm::HashIndex( kTAG_DEFINITION ) );
<a href="#8432" id="8432" class="l"> 8432: </a>        <span class="php-comment">//</span>
<a href="#8433" id="8433" class="l"> 8433: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8434" id="8434" class="l"> 8434: </a>        <span class="php-comment">//</span>
<a href="#8435" id="8435" class="l"> 8435: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8436" id="8436" class="l"> 8436: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8437" id="8437" class="l"> 8437: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8438" id="8438" class="l"> 8438: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_LIST );
<a href="#8439" id="8439" class="l"> 8439: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#8440" id="8440" class="l"> 8440: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8441" id="8441" class="l"> 8441: </a>        <span class="php-comment">//</span>
<a href="#8442" id="8442" class="l"> 8442: </a>        <span class="php-comment">// Save node.</span>
<a href="#8443" id="8443" class="l"> 8443: </a>        <span class="php-comment">//</span>
<a href="#8444" id="8444" class="l"> 8444: </a>        <span class="php-var">$parent</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ kTAG_DEFINITION ] = <span class="php-var">$node</span>;
<a href="#8445" id="8445" class="l"> 8445: </a>        <span class="php-comment">//</span>
<a href="#8446" id="8446" class="l"> 8446: </a>        <span class="php-comment">// Display.</span>
<a href="#8447" id="8447" class="l"> 8447: </a>        <span class="php-comment">//</span>
<a href="#8448" id="8448" class="l"> 8448: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8449" id="8449" class="l"> 8449: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_DEFINITION) &quot;</span>
<a href="#8450" id="8450" class="l"> 8450: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8451" id="8451" class="l"> 8451: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8452" id="8452" class="l"> 8452: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8453" id="8453" class="l"> 8453: </a>
<a href="#8454" id="8454" class="l"> 8454: </a>        <span class="php-comment">//</span>
<a href="#8455" id="8455" class="l"> 8455: </a>        <span class="php-comment">// Connect language.</span>
<a href="#8456" id="8456" class="l"> 8456: </a>        <span class="php-comment">//</span>
<a href="#8457" id="8457" class="l"> 8457: </a>        <span class="php-var">$edge</span> = <span class="php-var">$nodes</span>[ kTAG_LANGUAGE ]-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$parent</span> );
<a href="#8458" id="8458" class="l"> 8458: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8459" id="8459" class="l"> 8459: </a>
<a href="#8460" id="8460" class="l"> 8460: </a>        <span class="php-comment">//</span>
<a href="#8461" id="8461" class="l"> 8461: </a>        <span class="php-comment">// Connect data.</span>
<a href="#8462" id="8462" class="l"> 8462: </a>        <span class="php-comment">//</span>
<a href="#8463" id="8463" class="l"> 8463: </a>        <span class="php-var">$edge</span> = <span class="php-var">$nodes</span>[ kTAG_DATA ]-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$parent</span> );
<a href="#8464" id="8464" class="l"> 8464: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8465" id="8465" class="l"> 8465: </a>        
<a href="#8466" id="8466" class="l"> 8466: </a>    } <span class="php-comment">// LoadDatadictStructs.</span>
<a href="#8467" id="8467" class="l"> 8467: </a>
<a href="#8468" id="8468" class="l"> 8468: </a>     
<a href="#8469" id="8469" class="l"> 8469: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#8470" id="8470" class="l"> 8470: </a><span class="php-comment">     *  LoadEntityDatadict                                                              *
</span><a href="#8471" id="8471" class="l"> 8471: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#8472" id="8472" class="l"> 8472: </a>
<a href="#8473" id="8473" class="l"> 8473: </a>    <span class="php-comment">/**
</span><a href="#8474" id="8474" class="l"> 8474: </a><span class="php-comment">     * Load entity data dictionary.
</span><a href="#8475" id="8475" class="l"> 8475: </a><span class="php-comment">     *
</span><a href="#8476" id="8476" class="l"> 8476: </a><span class="php-comment">     * This function will load the entity data dictionary.
</span><a href="#8477" id="8477" class="l"> 8477: </a><span class="php-comment">     *
</span><a href="#8478" id="8478" class="l"> 8478: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#8479" id="8479" class="l"> 8479: </a><span class="php-comment">     * created terms.
</span><a href="#8480" id="8480" class="l"> 8480: </a><span class="php-comment">     *
</span><a href="#8481" id="8481" class="l"> 8481: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#8482" id="8482" class="l"> 8482: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#8483" id="8483" class="l"> 8483: </a><span class="php-comment">     *
</span><a href="#8484" id="8484" class="l"> 8484: </a><span class="php-comment">     * @access protected
</span><a href="#8485" id="8485" class="l"> 8485: </a><span class="php-comment">     */</span>
<a href="#8486" id="8486" class="l"> 8486: </a>    <span class="php-keyword1">function</span> LoadEntityDatadict( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#8487" id="8487" class="l"> 8487: </a>    {
<a href="#8488" id="8488" class="l"> 8488: </a>        <span class="php-comment">//</span>
<a href="#8489" id="8489" class="l"> 8489: </a>        <span class="php-comment">//  [:ENTITY:USER]</span>
<a href="#8490" id="8490" class="l"> 8490: </a>        <span class="php-comment">//      Code()          [:CODE] (string)        *</span>
<a href="#8491" id="8491" class="l"> 8491: </a>        <span class="php-comment">//      Password()      [:PASS] (string)</span>
<a href="#8492" id="8492" class="l"> 8492: </a>        <span class="php-comment">//      Name()          [:NAME] (string)        *</span>
<a href="#8493" id="8493" class="l"> 8493: </a>        <span class="php-comment">//      Email()         [:EMAIL] (string)       *</span>
<a href="#8494" id="8494" class="l"> 8494: </a>        <span class="php-comment">//      Kind()          [:KIND] (array)         *</span>
<a href="#8495" id="8495" class="l"> 8495: </a>        <span class="php-comment">//      Relate()        [:REFS] (array)         *</span>
<a href="#8496" id="8496" class="l"> 8496: </a>        <span class="php-comment">//                          [:KIND] (scalar)</span>
<a href="#8497" id="8497" class="l"> 8497: </a>        <span class="php-comment">//                          [:DATA] (scalar)</span>
<a href="#8498" id="8498" class="l"> 8498: </a>        <span class="php-comment">//      Preferred()     [:PREFERRED] (scalar)   *</span>
<a href="#8499" id="8499" class="l"> 8499: </a>        <span class="php-comment">//      Used()          [:DEFAULT] (scalar)     *</span>
<a href="#8500" id="8500" class="l"> 8500: </a>        <span class="php-comment">//      Valid()         [:VALID] (scalar)       *</span>
<a href="#8501" id="8501" class="l"> 8501: </a>        <span class="php-comment">//      Manager()       [:MANAGER] (scalar)     *</span>
<a href="#8502" id="8502" class="l"> 8502: </a>        <span class="php-comment">//      Role()          [:ROLE] (array)</span>
<a href="#8503" id="8503" class="l"> 8503: </a>        <span class="php-comment">//      Created()       [:CREATED] (stamp)      *</span>
<a href="#8504" id="8504" class="l"> 8504: </a>        <span class="php-comment">//      Modified()      [:MODIFIED] (stamp)     *</span>
<a href="#8505" id="8505" class="l"> 8505: </a>        <span class="php-comment">//</span>
<a href="#8506" id="8506" class="l"> 8506: </a>        
<a href="#8507" id="8507" class="l"> 8507: </a>        <span class="php-comment">//</span>
<a href="#8508" id="8508" class="l"> 8508: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#8509" id="8509" class="l"> 8509: </a>        <span class="php-comment">//</span>
<a href="#8510" id="8510" class="l"> 8510: </a>        <span class="php-var">$nodes</span> = <span class="php-keyword1">Array</span>();
<a href="#8511" id="8511" class="l"> 8511: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#8512" id="8512" class="l"> 8512: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#8513" id="8513" class="l"> 8513: </a>        
<a href="#8514" id="8514" class="l"> 8514: </a>        <span class="php-comment">//</span>
<a href="#8515" id="8515" class="l"> 8515: </a>        <span class="php-comment">// Inform.</span>
<a href="#8516" id="8516" class="l"> 8516: </a>        <span class="php-comment">//</span>
<a href="#8517" id="8517" class="l"> 8517: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8518" id="8518" class="l"> 8518: </a>        {
<a href="#8519" id="8519" class="l"> 8519: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8520" id="8520" class="l"> 8520: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#8521" id="8521" class="l"> 8521: </a>        }
<a href="#8522" id="8522" class="l"> 8522: </a>        
<a href="#8523" id="8523" class="l"> 8523: </a>        <span class="php-comment">//</span>
<a href="#8524" id="8524" class="l"> 8524: </a>        <span class="php-comment">// IS-A.</span>
<a href="#8525" id="8525" class="l"> 8525: </a>        <span class="php-comment">//</span>
<a href="#8526" id="8526" class="l"> 8526: </a>        <span class="php-var">$is_a</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#8527" id="8527" class="l"> 8527: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_IS_A ) );
<a href="#8528" id="8528" class="l"> 8528: </a>        
<a href="#8529" id="8529" class="l"> 8529: </a>        <span class="php-comment">//</span>
<a href="#8530" id="8530" class="l"> 8530: </a>        <span class="php-comment">// ENUM-OF.</span>
<a href="#8531" id="8531" class="l"> 8531: </a>        <span class="php-comment">//</span>
<a href="#8532" id="8532" class="l"> 8532: </a>        <span class="php-var">$enum_of</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#8533" id="8533" class="l"> 8533: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_ENUM_OF ) );
<a href="#8534" id="8534" class="l"> 8534: </a>        
<a href="#8535" id="8535" class="l"> 8535: </a>        <span class="php-comment">//</span>
<a href="#8536" id="8536" class="l"> 8536: </a>        <span class="php-comment">// COMPONENT-OF.</span>
<a href="#8537" id="8537" class="l"> 8537: </a>        <span class="php-comment">//</span>
<a href="#8538" id="8538" class="l"> 8538: </a>        <span class="php-var">$component_of</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#8539" id="8539" class="l"> 8539: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_COMPONENT_OF ) );
<a href="#8540" id="8540" class="l"> 8540: </a>        
<a href="#8541" id="8541" class="l"> 8541: </a>        <span class="php-comment">//</span>
<a href="#8542" id="8542" class="l"> 8542: </a>        <span class="php-comment">// METHOD-OF.</span>
<a href="#8543" id="8543" class="l"> 8543: </a>        <span class="php-comment">//</span>
<a href="#8544" id="8544" class="l"> 8544: </a>        <span class="php-var">$method_of</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#8545" id="8545" class="l"> 8545: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_METHOD_OF ) );
<a href="#8546" id="8546" class="l"> 8546: </a>        
<a href="#8547" id="8547" class="l"> 8547: </a>        <span class="php-comment">//</span>
<a href="#8548" id="8548" class="l"> 8548: </a>        <span class="php-comment">// Get default namespace.</span>
<a href="#8549" id="8549" class="l"> 8549: </a>        <span class="php-comment">//</span>
<a href="#8550" id="8550" class="l"> 8550: </a>        <span class="php-var">$ns</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#8551" id="8551" class="l"> 8551: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( (string) <span class="php-var">$ns</span> ) + <span class="php-num">1</span>;
<a href="#8552" id="8552" class="l"> 8552: </a>     
<a href="#8553" id="8553" class="l"> 8553: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8554" id="8554" class="l"> 8554: </a><span class="php-comment">         *  kENTITY_USER                                                                 *
</span><a href="#8555" id="8555" class="l"> 8555: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8556" id="8556" class="l"> 8556: </a>
<a href="#8557" id="8557" class="l"> 8557: </a>        <span class="php-comment">//</span>
<a href="#8558" id="8558" class="l"> 8558: </a>        <span class="php-comment">// Handle kENTITY_USER.</span>
<a href="#8559" id="8559" class="l"> 8559: </a>        <span class="php-comment">//</span>
<a href="#8560" id="8560" class="l"> 8560: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8561" id="8561" class="l"> 8561: </a>                                   COntologyTerm::HashIndex( kENTITY_USER ) );
<a href="#8562" id="8562" class="l"> 8562: </a>        <span class="php-comment">//</span>
<a href="#8563" id="8563" class="l"> 8563: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8564" id="8564" class="l"> 8564: </a>        <span class="php-comment">//</span>
<a href="#8565" id="8565" class="l"> 8565: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8566" id="8566" class="l"> 8566: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8567" id="8567" class="l"> 8567: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8568" id="8568" class="l"> 8568: </a>        <span class="php-comment">//</span>
<a href="#8569" id="8569" class="l"> 8569: </a>        <span class="php-comment">// Save node.</span>
<a href="#8570" id="8570" class="l"> 8570: </a>        <span class="php-comment">//</span>
<a href="#8571" id="8571" class="l"> 8571: </a>        <span class="php-var">$nodes</span>[ kENTITY_USER ] = <span class="php-var">$node</span>;
<a href="#8572" id="8572" class="l"> 8572: </a>        <span class="php-comment">//</span>
<a href="#8573" id="8573" class="l"> 8573: </a>        <span class="php-comment">// Display.</span>
<a href="#8574" id="8574" class="l"> 8574: </a>        <span class="php-comment">//</span>
<a href="#8575" id="8575" class="l"> 8575: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8576" id="8576" class="l"> 8576: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kENTITY_USER) &quot;</span>
<a href="#8577" id="8577" class="l"> 8577: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8578" id="8578" class="l"> 8578: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8579" id="8579" class="l"> 8579: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8580" id="8580" class="l"> 8580: </a>     
<a href="#8581" id="8581" class="l"> 8581: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8582" id="8582" class="l"> 8582: </a><span class="php-comment">         *  kTAG_CODE                                                                    *
</span><a href="#8583" id="8583" class="l"> 8583: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8584" id="8584" class="l"> 8584: </a>
<a href="#8585" id="8585" class="l"> 8585: </a>        <span class="php-comment">//</span>
<a href="#8586" id="8586" class="l"> 8586: </a>        <span class="php-comment">// Handle user code (kTAG_CODE).</span>
<a href="#8587" id="8587" class="l"> 8587: </a>        <span class="php-comment">//</span>
<a href="#8588" id="8588" class="l"> 8588: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8589" id="8589" class="l"> 8589: </a>                                   COntologyTerm::HashIndex( kTAG_CODE ) );
<a href="#8590" id="8590" class="l"> 8590: </a>        <span class="php-comment">//</span>
<a href="#8591" id="8591" class="l"> 8591: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8592" id="8592" class="l"> 8592: </a>        <span class="php-comment">//</span>
<a href="#8593" id="8593" class="l"> 8593: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8594" id="8594" class="l"> 8594: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8595" id="8595" class="l"> 8595: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8596" id="8596" class="l"> 8596: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8597" id="8597" class="l"> 8597: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#8598" id="8598" class="l"> 8598: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#8599" id="8599" class="l"> 8599: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8600" id="8600" class="l"> 8600: </a>        <span class="php-comment">//</span>
<a href="#8601" id="8601" class="l"> 8601: </a>        <span class="php-comment">// Save node.</span>
<a href="#8602" id="8602" class="l"> 8602: </a>        <span class="php-comment">//</span>
<a href="#8603" id="8603" class="l"> 8603: </a>        <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ kTAG_CODE ] = <span class="php-var">$nodes</span>[ kTAG_CODE ] = <span class="php-var">$node</span>;
<a href="#8604" id="8604" class="l"> 8604: </a>        <span class="php-comment">//</span>
<a href="#8605" id="8605" class="l"> 8605: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8606" id="8606" class="l"> 8606: </a>        <span class="php-comment">//</span>
<a href="#8607" id="8607" class="l"> 8607: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#8608" id="8608" class="l"> 8608: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8609" id="8609" class="l"> 8609: </a>        <span class="php-comment">//</span>
<a href="#8610" id="8610" class="l"> 8610: </a>        <span class="php-comment">// Display.</span>
<a href="#8611" id="8611" class="l"> 8611: </a>        <span class="php-comment">//</span>
<a href="#8612" id="8612" class="l"> 8612: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8613" id="8613" class="l"> 8613: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_CODE) &quot;</span>
<a href="#8614" id="8614" class="l"> 8614: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8615" id="8615" class="l"> 8615: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8616" id="8616" class="l"> 8616: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8617" id="8617" class="l"> 8617: </a>     
<a href="#8618" id="8618" class="l"> 8618: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8619" id="8619" class="l"> 8619: </a><span class="php-comment">         *  kOFFSET_PASSWORD                                                             *
</span><a href="#8620" id="8620" class="l"> 8620: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8621" id="8621" class="l"> 8621: </a>
<a href="#8622" id="8622" class="l"> 8622: </a>        <span class="php-comment">//</span>
<a href="#8623" id="8623" class="l"> 8623: </a>        <span class="php-comment">// Handle user password (kOFFSET_PASSWORD).</span>
<a href="#8624" id="8624" class="l"> 8624: </a>        <span class="php-comment">//</span>
<a href="#8625" id="8625" class="l"> 8625: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8626" id="8626" class="l"> 8626: </a>                                   COntologyTerm::HashIndex( kOFFSET_PASSWORD ) );
<a href="#8627" id="8627" class="l"> 8627: </a>        <span class="php-comment">//</span>
<a href="#8628" id="8628" class="l"> 8628: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8629" id="8629" class="l"> 8629: </a>        <span class="php-comment">//</span>
<a href="#8630" id="8630" class="l"> 8630: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8631" id="8631" class="l"> 8631: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8632" id="8632" class="l"> 8632: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8633" id="8633" class="l"> 8633: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8634" id="8634" class="l"> 8634: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#8635" id="8635" class="l"> 8635: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#8636" id="8636" class="l"> 8636: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8637" id="8637" class="l"> 8637: </a>        <span class="php-comment">//</span>
<a href="#8638" id="8638" class="l"> 8638: </a>        <span class="php-comment">// Save node.</span>
<a href="#8639" id="8639" class="l"> 8639: </a>        <span class="php-comment">//</span>
<a href="#8640" id="8640" class="l"> 8640: </a>        <span class="php-var">$nodes</span>[ kOFFSET_PASSWORD ] = <span class="php-var">$node</span>;
<a href="#8641" id="8641" class="l"> 8641: </a>        <span class="php-comment">//</span>
<a href="#8642" id="8642" class="l"> 8642: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8643" id="8643" class="l"> 8643: </a>        <span class="php-comment">//</span>
<a href="#8644" id="8644" class="l"> 8644: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#8645" id="8645" class="l"> 8645: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8646" id="8646" class="l"> 8646: </a>        <span class="php-comment">//</span>
<a href="#8647" id="8647" class="l"> 8647: </a>        <span class="php-comment">// Display.</span>
<a href="#8648" id="8648" class="l"> 8648: </a>        <span class="php-comment">//</span>
<a href="#8649" id="8649" class="l"> 8649: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8650" id="8650" class="l"> 8650: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kOFFSET_PASSWORD) &quot;</span>
<a href="#8651" id="8651" class="l"> 8651: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8652" id="8652" class="l"> 8652: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8653" id="8653" class="l"> 8653: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8654" id="8654" class="l"> 8654: </a>     
<a href="#8655" id="8655" class="l"> 8655: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8656" id="8656" class="l"> 8656: </a><span class="php-comment">         *  kTAG_NAME (user)                                                             *
</span><a href="#8657" id="8657" class="l"> 8657: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8658" id="8658" class="l"> 8658: </a>
<a href="#8659" id="8659" class="l"> 8659: </a>        <span class="php-comment">//</span>
<a href="#8660" id="8660" class="l"> 8660: </a>        <span class="php-comment">// Handle user name (kTAG_NAME).</span>
<a href="#8661" id="8661" class="l"> 8661: </a>        <span class="php-comment">//</span>
<a href="#8662" id="8662" class="l"> 8662: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8663" id="8663" class="l"> 8663: </a>                                   COntologyTerm::HashIndex( kTAG_NAME ) );
<a href="#8664" id="8664" class="l"> 8664: </a>        <span class="php-comment">//</span>
<a href="#8665" id="8665" class="l"> 8665: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8666" id="8666" class="l"> 8666: </a>        <span class="php-comment">//</span>
<a href="#8667" id="8667" class="l"> 8667: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8668" id="8668" class="l"> 8668: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8669" id="8669" class="l"> 8669: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8670" id="8670" class="l"> 8670: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8671" id="8671" class="l"> 8671: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#8672" id="8672" class="l"> 8672: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#8673" id="8673" class="l"> 8673: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8674" id="8674" class="l"> 8674: </a>        <span class="php-comment">//</span>
<a href="#8675" id="8675" class="l"> 8675: </a>        <span class="php-comment">// Save node.</span>
<a href="#8676" id="8676" class="l"> 8676: </a>        <span class="php-comment">//</span>
<a href="#8677" id="8677" class="l"> 8677: </a>        <span class="php-var">$nodes</span>[ kTAG_NAME ] = <span class="php-var">$node</span>;
<a href="#8678" id="8678" class="l"> 8678: </a>        <span class="php-comment">//</span>
<a href="#8679" id="8679" class="l"> 8679: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8680" id="8680" class="l"> 8680: </a>        <span class="php-comment">//</span>
<a href="#8681" id="8681" class="l"> 8681: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#8682" id="8682" class="l"> 8682: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8683" id="8683" class="l"> 8683: </a>        <span class="php-comment">//</span>
<a href="#8684" id="8684" class="l"> 8684: </a>        <span class="php-comment">// Display.</span>
<a href="#8685" id="8685" class="l"> 8685: </a>        <span class="php-comment">//</span>
<a href="#8686" id="8686" class="l"> 8686: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8687" id="8687" class="l"> 8687: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_NAME) &quot;</span>
<a href="#8688" id="8688" class="l"> 8688: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8689" id="8689" class="l"> 8689: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8690" id="8690" class="l"> 8690: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8691" id="8691" class="l"> 8691: </a>     
<a href="#8692" id="8692" class="l"> 8692: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8693" id="8693" class="l"> 8693: </a><span class="php-comment">         *  kOFFSET_EMAIL (user)                                                         *
</span><a href="#8694" id="8694" class="l"> 8694: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8695" id="8695" class="l"> 8695: </a>
<a href="#8696" id="8696" class="l"> 8696: </a>        <span class="php-comment">//</span>
<a href="#8697" id="8697" class="l"> 8697: </a>        <span class="php-comment">// Handle user e-mail (kOFFSET_EMAIL).</span>
<a href="#8698" id="8698" class="l"> 8698: </a>        <span class="php-comment">//</span>
<a href="#8699" id="8699" class="l"> 8699: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8700" id="8700" class="l"> 8700: </a>                                   COntologyTerm::HashIndex( kOFFSET_EMAIL ) );
<a href="#8701" id="8701" class="l"> 8701: </a>        <span class="php-comment">//</span>
<a href="#8702" id="8702" class="l"> 8702: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8703" id="8703" class="l"> 8703: </a>        <span class="php-comment">//</span>
<a href="#8704" id="8704" class="l"> 8704: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8705" id="8705" class="l"> 8705: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8706" id="8706" class="l"> 8706: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8707" id="8707" class="l"> 8707: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8708" id="8708" class="l"> 8708: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#8709" id="8709" class="l"> 8709: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#8710" id="8710" class="l"> 8710: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8711" id="8711" class="l"> 8711: </a>        <span class="php-comment">//</span>
<a href="#8712" id="8712" class="l"> 8712: </a>        <span class="php-comment">// Save node.</span>
<a href="#8713" id="8713" class="l"> 8713: </a>        <span class="php-comment">//</span>
<a href="#8714" id="8714" class="l"> 8714: </a>        <span class="php-var">$nodes</span>[ kOFFSET_EMAIL ] = <span class="php-var">$node</span>;
<a href="#8715" id="8715" class="l"> 8715: </a>        <span class="php-comment">//</span>
<a href="#8716" id="8716" class="l"> 8716: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8717" id="8717" class="l"> 8717: </a>        <span class="php-comment">//</span>
<a href="#8718" id="8718" class="l"> 8718: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#8719" id="8719" class="l"> 8719: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8720" id="8720" class="l"> 8720: </a>        <span class="php-comment">//</span>
<a href="#8721" id="8721" class="l"> 8721: </a>        <span class="php-comment">// Display.</span>
<a href="#8722" id="8722" class="l"> 8722: </a>        <span class="php-comment">//</span>
<a href="#8723" id="8723" class="l"> 8723: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8724" id="8724" class="l"> 8724: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kOFFSET_EMAIL) &quot;</span>
<a href="#8725" id="8725" class="l"> 8725: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8726" id="8726" class="l"> 8726: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8727" id="8727" class="l"> 8727: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8728" id="8728" class="l"> 8728: </a>     
<a href="#8729" id="8729" class="l"> 8729: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8730" id="8730" class="l"> 8730: </a><span class="php-comment">         *  kTAG_KIND                                                                    *
</span><a href="#8731" id="8731" class="l"> 8731: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8732" id="8732" class="l"> 8732: </a>
<a href="#8733" id="8733" class="l"> 8733: </a>        <span class="php-comment">//</span>
<a href="#8734" id="8734" class="l"> 8734: </a>        <span class="php-comment">// Handle user kind (kTAG_KIND).</span>
<a href="#8735" id="8735" class="l"> 8735: </a>        <span class="php-comment">//</span>
<a href="#8736" id="8736" class="l"> 8736: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8737" id="8737" class="l"> 8737: </a>                                   COntologyTerm::HashIndex( kTAG_KIND ) );
<a href="#8738" id="8738" class="l"> 8738: </a>        <span class="php-comment">//</span>
<a href="#8739" id="8739" class="l"> 8739: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8740" id="8740" class="l"> 8740: </a>        <span class="php-comment">//</span>
<a href="#8741" id="8741" class="l"> 8741: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8742" id="8742" class="l"> 8742: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8743" id="8743" class="l"> 8743: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8744" id="8744" class="l"> 8744: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8745" id="8745" class="l"> 8745: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#8746" id="8746" class="l"> 8746: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#8747" id="8747" class="l"> 8747: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8748" id="8748" class="l"> 8748: </a>        <span class="php-comment">//</span>
<a href="#8749" id="8749" class="l"> 8749: </a>        <span class="php-comment">// Save node.</span>
<a href="#8750" id="8750" class="l"> 8750: </a>        <span class="php-comment">//</span>
<a href="#8751" id="8751" class="l"> 8751: </a>        <span class="php-var">$nodes</span>[ kTAG_KIND ] = <span class="php-var">$node</span>;
<a href="#8752" id="8752" class="l"> 8752: </a>        <span class="php-comment">//</span>
<a href="#8753" id="8753" class="l"> 8753: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8754" id="8754" class="l"> 8754: </a>        <span class="php-comment">//</span>
<a href="#8755" id="8755" class="l"> 8755: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#8756" id="8756" class="l"> 8756: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8757" id="8757" class="l"> 8757: </a>        <span class="php-comment">//</span>
<a href="#8758" id="8758" class="l"> 8758: </a>        <span class="php-comment">// Display.</span>
<a href="#8759" id="8759" class="l"> 8759: </a>        <span class="php-comment">//</span>
<a href="#8760" id="8760" class="l"> 8760: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8761" id="8761" class="l"> 8761: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_KIND) &quot;</span>
<a href="#8762" id="8762" class="l"> 8762: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8763" id="8763" class="l"> 8763: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8764" id="8764" class="l"> 8764: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8765" id="8765" class="l"> 8765: </a>     
<a href="#8766" id="8766" class="l"> 8766: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8767" id="8767" class="l"> 8767: </a><span class="php-comment">         *  kTAG_REFS                                                                    *
</span><a href="#8768" id="8768" class="l"> 8768: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8769" id="8769" class="l"> 8769: </a>
<a href="#8770" id="8770" class="l"> 8770: </a>        <span class="php-comment">//</span>
<a href="#8771" id="8771" class="l"> 8771: </a>        <span class="php-comment">// Handle user references (kTAG_REFS).</span>
<a href="#8772" id="8772" class="l"> 8772: </a>        <span class="php-comment">//</span>
<a href="#8773" id="8773" class="l"> 8773: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8774" id="8774" class="l"> 8774: </a>                                   COntologyTerm::HashIndex( kTAG_REFS ) );
<a href="#8775" id="8775" class="l"> 8775: </a>        <span class="php-comment">//</span>
<a href="#8776" id="8776" class="l"> 8776: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8777" id="8777" class="l"> 8777: </a>        <span class="php-comment">//</span>
<a href="#8778" id="8778" class="l"> 8778: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8779" id="8779" class="l"> 8779: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8780" id="8780" class="l"> 8780: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8781" id="8781" class="l"> 8781: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_LIST );
<a href="#8782" id="8782" class="l"> 8782: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#8783" id="8783" class="l"> 8783: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8784" id="8784" class="l"> 8784: </a>        <span class="php-comment">//</span>
<a href="#8785" id="8785" class="l"> 8785: </a>        <span class="php-comment">// Save node.</span>
<a href="#8786" id="8786" class="l"> 8786: </a>        <span class="php-comment">//</span>
<a href="#8787" id="8787" class="l"> 8787: </a>        <span class="php-var">$parent</span> = <span class="php-var">$nodes</span>[ kTAG_REFS ] = <span class="php-var">$node</span>;
<a href="#8788" id="8788" class="l"> 8788: </a>        <span class="php-comment">//</span>
<a href="#8789" id="8789" class="l"> 8789: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8790" id="8790" class="l"> 8790: </a>        <span class="php-comment">//</span>
<a href="#8791" id="8791" class="l"> 8791: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#8792" id="8792" class="l"> 8792: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8793" id="8793" class="l"> 8793: </a>        <span class="php-comment">//</span>
<a href="#8794" id="8794" class="l"> 8794: </a>        <span class="php-comment">// Display.</span>
<a href="#8795" id="8795" class="l"> 8795: </a>        <span class="php-comment">//</span>
<a href="#8796" id="8796" class="l"> 8796: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8797" id="8797" class="l"> 8797: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_REFS) &quot;</span>
<a href="#8798" id="8798" class="l"> 8798: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8799" id="8799" class="l"> 8799: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8800" id="8800" class="l"> 8800: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8801" id="8801" class="l"> 8801: </a>        <span class="php-comment">//</span>
<a href="#8802" id="8802" class="l"> 8802: </a>        <span class="php-comment">// Handle user reference kind (kTAG_KIND).</span>
<a href="#8803" id="8803" class="l"> 8803: </a>        <span class="php-comment">//</span>
<a href="#8804" id="8804" class="l"> 8804: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8805" id="8805" class="l"> 8805: </a>                                   COntologyTerm::HashIndex( kTAG_KIND ) );
<a href="#8806" id="8806" class="l"> 8806: </a>        <span class="php-comment">//</span>
<a href="#8807" id="8807" class="l"> 8807: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8808" id="8808" class="l"> 8808: </a>        <span class="php-comment">//</span>
<a href="#8809" id="8809" class="l"> 8809: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8810" id="8810" class="l"> 8810: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8811" id="8811" class="l"> 8811: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8812" id="8812" class="l"> 8812: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8813" id="8813" class="l"> 8813: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#8814" id="8814" class="l"> 8814: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8815" id="8815" class="l"> 8815: </a>        <span class="php-comment">//</span>
<a href="#8816" id="8816" class="l"> 8816: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8817" id="8817" class="l"> 8817: </a>        <span class="php-comment">//</span>
<a href="#8818" id="8818" class="l"> 8818: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$parent</span> );
<a href="#8819" id="8819" class="l"> 8819: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8820" id="8820" class="l"> 8820: </a>        <span class="php-comment">//</span>
<a href="#8821" id="8821" class="l"> 8821: </a>        <span class="php-comment">// Display.</span>
<a href="#8822" id="8822" class="l"> 8822: </a>        <span class="php-comment">//</span>
<a href="#8823" id="8823" class="l"> 8823: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8824" id="8824" class="l"> 8824: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_KIND) &quot;</span>
<a href="#8825" id="8825" class="l"> 8825: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8826" id="8826" class="l"> 8826: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8827" id="8827" class="l"> 8827: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8828" id="8828" class="l"> 8828: </a>        <span class="php-comment">//</span>
<a href="#8829" id="8829" class="l"> 8829: </a>        <span class="php-comment">// Handle user reference data (kTAG_DATA).</span>
<a href="#8830" id="8830" class="l"> 8830: </a>        <span class="php-comment">//</span>
<a href="#8831" id="8831" class="l"> 8831: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8832" id="8832" class="l"> 8832: </a>                                   COntologyTerm::HashIndex( kTAG_DATA ) );
<a href="#8833" id="8833" class="l"> 8833: </a>        <span class="php-comment">//</span>
<a href="#8834" id="8834" class="l"> 8834: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8835" id="8835" class="l"> 8835: </a>        <span class="php-comment">//</span>
<a href="#8836" id="8836" class="l"> 8836: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8837" id="8837" class="l"> 8837: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8838" id="8838" class="l"> 8838: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8839" id="8839" class="l"> 8839: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8840" id="8840" class="l"> 8840: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#8841" id="8841" class="l"> 8841: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8842" id="8842" class="l"> 8842: </a>        <span class="php-comment">//</span>
<a href="#8843" id="8843" class="l"> 8843: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8844" id="8844" class="l"> 8844: </a>        <span class="php-comment">//</span>
<a href="#8845" id="8845" class="l"> 8845: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$parent</span> );
<a href="#8846" id="8846" class="l"> 8846: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8847" id="8847" class="l"> 8847: </a>        <span class="php-comment">//</span>
<a href="#8848" id="8848" class="l"> 8848: </a>        <span class="php-comment">// Display.</span>
<a href="#8849" id="8849" class="l"> 8849: </a>        <span class="php-comment">//</span>
<a href="#8850" id="8850" class="l"> 8850: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8851" id="8851" class="l"> 8851: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_DATA) &quot;</span>
<a href="#8852" id="8852" class="l"> 8852: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8853" id="8853" class="l"> 8853: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8854" id="8854" class="l"> 8854: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8855" id="8855" class="l"> 8855: </a>     
<a href="#8856" id="8856" class="l"> 8856: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8857" id="8857" class="l"> 8857: </a><span class="php-comment">         *  kTAG_PREFERRED                                                               *
</span><a href="#8858" id="8858" class="l"> 8858: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8859" id="8859" class="l"> 8859: </a>
<a href="#8860" id="8860" class="l"> 8860: </a>        <span class="php-comment">//</span>
<a href="#8861" id="8861" class="l"> 8861: </a>        <span class="php-comment">// Handle preferred user reference (kTAG_PREFERRED).</span>
<a href="#8862" id="8862" class="l"> 8862: </a>        <span class="php-comment">//</span>
<a href="#8863" id="8863" class="l"> 8863: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8864" id="8864" class="l"> 8864: </a>                                   COntologyTerm::HashIndex( kTAG_PREFERRED ) );
<a href="#8865" id="8865" class="l"> 8865: </a>        <span class="php-comment">//</span>
<a href="#8866" id="8866" class="l"> 8866: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8867" id="8867" class="l"> 8867: </a>        <span class="php-comment">//</span>
<a href="#8868" id="8868" class="l"> 8868: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8869" id="8869" class="l"> 8869: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8870" id="8870" class="l"> 8870: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8871" id="8871" class="l"> 8871: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8872" id="8872" class="l"> 8872: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#8873" id="8873" class="l"> 8873: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8874" id="8874" class="l"> 8874: </a>        <span class="php-comment">//</span>
<a href="#8875" id="8875" class="l"> 8875: </a>        <span class="php-comment">// Save node.</span>
<a href="#8876" id="8876" class="l"> 8876: </a>        <span class="php-comment">//</span>
<a href="#8877" id="8877" class="l"> 8877: </a>        <span class="php-var">$nodes</span>[ kTAG_PREFERRED ] = <span class="php-var">$node</span>;
<a href="#8878" id="8878" class="l"> 8878: </a>        <span class="php-comment">//</span>
<a href="#8879" id="8879" class="l"> 8879: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8880" id="8880" class="l"> 8880: </a>        <span class="php-comment">//</span>
<a href="#8881" id="8881" class="l"> 8881: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#8882" id="8882" class="l"> 8882: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8883" id="8883" class="l"> 8883: </a>        <span class="php-comment">//</span>
<a href="#8884" id="8884" class="l"> 8884: </a>        <span class="php-comment">// Display.</span>
<a href="#8885" id="8885" class="l"> 8885: </a>        <span class="php-comment">//</span>
<a href="#8886" id="8886" class="l"> 8886: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8887" id="8887" class="l"> 8887: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_PREFERRED) &quot;</span>
<a href="#8888" id="8888" class="l"> 8888: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8889" id="8889" class="l"> 8889: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8890" id="8890" class="l"> 8890: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8891" id="8891" class="l"> 8891: </a>     
<a href="#8892" id="8892" class="l"> 8892: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8893" id="8893" class="l"> 8893: </a><span class="php-comment">         *  kTAG_DEFAULT                                                                 *
</span><a href="#8894" id="8894" class="l"> 8894: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8895" id="8895" class="l"> 8895: </a>
<a href="#8896" id="8896" class="l"> 8896: </a>        <span class="php-comment">//</span>
<a href="#8897" id="8897" class="l"> 8897: </a>        <span class="php-comment">// Handle default user reference (kTAG_DEFAULT).</span>
<a href="#8898" id="8898" class="l"> 8898: </a>        <span class="php-comment">//</span>
<a href="#8899" id="8899" class="l"> 8899: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8900" id="8900" class="l"> 8900: </a>                                   COntologyTerm::HashIndex( kTAG_DEFAULT ) );
<a href="#8901" id="8901" class="l"> 8901: </a>        <span class="php-comment">//</span>
<a href="#8902" id="8902" class="l"> 8902: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8903" id="8903" class="l"> 8903: </a>        <span class="php-comment">//</span>
<a href="#8904" id="8904" class="l"> 8904: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8905" id="8905" class="l"> 8905: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8906" id="8906" class="l"> 8906: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8907" id="8907" class="l"> 8907: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8908" id="8908" class="l"> 8908: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#8909" id="8909" class="l"> 8909: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8910" id="8910" class="l"> 8910: </a>        <span class="php-comment">//</span>
<a href="#8911" id="8911" class="l"> 8911: </a>        <span class="php-comment">// Save node.</span>
<a href="#8912" id="8912" class="l"> 8912: </a>        <span class="php-comment">//</span>
<a href="#8913" id="8913" class="l"> 8913: </a>        <span class="php-var">$nodes</span>[ kTAG_DEFAULT ] = <span class="php-var">$node</span>;
<a href="#8914" id="8914" class="l"> 8914: </a>        <span class="php-comment">//</span>
<a href="#8915" id="8915" class="l"> 8915: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8916" id="8916" class="l"> 8916: </a>        <span class="php-comment">//</span>
<a href="#8917" id="8917" class="l"> 8917: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#8918" id="8918" class="l"> 8918: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8919" id="8919" class="l"> 8919: </a>        <span class="php-comment">//</span>
<a href="#8920" id="8920" class="l"> 8920: </a>        <span class="php-comment">// Display.</span>
<a href="#8921" id="8921" class="l"> 8921: </a>        <span class="php-comment">//</span>
<a href="#8922" id="8922" class="l"> 8922: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8923" id="8923" class="l"> 8923: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_DEFAULT) &quot;</span>
<a href="#8924" id="8924" class="l"> 8924: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8925" id="8925" class="l"> 8925: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8926" id="8926" class="l"> 8926: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8927" id="8927" class="l"> 8927: </a>     
<a href="#8928" id="8928" class="l"> 8928: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8929" id="8929" class="l"> 8929: </a><span class="php-comment">         *  kTAG_VALID                                                                   *
</span><a href="#8930" id="8930" class="l"> 8930: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8931" id="8931" class="l"> 8931: </a>
<a href="#8932" id="8932" class="l"> 8932: </a>        <span class="php-comment">//</span>
<a href="#8933" id="8933" class="l"> 8933: </a>        <span class="php-comment">// Handle valid user reference (kTAG_VALID).</span>
<a href="#8934" id="8934" class="l"> 8934: </a>        <span class="php-comment">//</span>
<a href="#8935" id="8935" class="l"> 8935: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8936" id="8936" class="l"> 8936: </a>                                   COntologyTerm::HashIndex( kTAG_VALID ) );
<a href="#8937" id="8937" class="l"> 8937: </a>        <span class="php-comment">//</span>
<a href="#8938" id="8938" class="l"> 8938: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8939" id="8939" class="l"> 8939: </a>        <span class="php-comment">//</span>
<a href="#8940" id="8940" class="l"> 8940: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8941" id="8941" class="l"> 8941: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8942" id="8942" class="l"> 8942: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8943" id="8943" class="l"> 8943: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8944" id="8944" class="l"> 8944: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#8945" id="8945" class="l"> 8945: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8946" id="8946" class="l"> 8946: </a>        <span class="php-comment">//</span>
<a href="#8947" id="8947" class="l"> 8947: </a>        <span class="php-comment">// Save node.</span>
<a href="#8948" id="8948" class="l"> 8948: </a>        <span class="php-comment">//</span>
<a href="#8949" id="8949" class="l"> 8949: </a>        <span class="php-var">$nodes</span>[ kTAG_VALID ] = <span class="php-var">$node</span>;
<a href="#8950" id="8950" class="l"> 8950: </a>        <span class="php-comment">//</span>
<a href="#8951" id="8951" class="l"> 8951: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#8952" id="8952" class="l"> 8952: </a>        <span class="php-comment">//</span>
<a href="#8953" id="8953" class="l"> 8953: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#8954" id="8954" class="l"> 8954: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8955" id="8955" class="l"> 8955: </a>        <span class="php-comment">//</span>
<a href="#8956" id="8956" class="l"> 8956: </a>        <span class="php-comment">// Display.</span>
<a href="#8957" id="8957" class="l"> 8957: </a>        <span class="php-comment">//</span>
<a href="#8958" id="8958" class="l"> 8958: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8959" id="8959" class="l"> 8959: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_VALID) &quot;</span>
<a href="#8960" id="8960" class="l"> 8960: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8961" id="8961" class="l"> 8961: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8962" id="8962" class="l"> 8962: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8963" id="8963" class="l"> 8963: </a>     
<a href="#8964" id="8964" class="l"> 8964: </a>        <span class="php-comment">/*================================================================================
</span><a href="#8965" id="8965" class="l"> 8965: </a><span class="php-comment">         *  kTAG_ROLE                                                                    *
</span><a href="#8966" id="8966" class="l"> 8966: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#8967" id="8967" class="l"> 8967: </a>
<a href="#8968" id="8968" class="l"> 8968: </a>        <span class="php-comment">//</span>
<a href="#8969" id="8969" class="l"> 8969: </a>        <span class="php-comment">// Handle user roles (kTAG_ROLE).</span>
<a href="#8970" id="8970" class="l"> 8970: </a>        <span class="php-comment">//</span>
<a href="#8971" id="8971" class="l"> 8971: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#8972" id="8972" class="l"> 8972: </a>                                   COntologyTerm::HashIndex( kTAG_ROLE ) );
<a href="#8973" id="8973" class="l"> 8973: </a>        <span class="php-comment">//</span>
<a href="#8974" id="8974" class="l"> 8974: </a>        <span class="php-comment">// Handle node.</span>
<a href="#8975" id="8975" class="l"> 8975: </a>        <span class="php-comment">//</span>
<a href="#8976" id="8976" class="l"> 8976: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#8977" id="8977" class="l"> 8977: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#8978" id="8978" class="l"> 8978: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#8979" id="8979" class="l"> 8979: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#8980" id="8980" class="l"> 8980: </a>        <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#8981" id="8981" class="l"> 8981: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#8982" id="8982" class="l"> 8982: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#8983" id="8983" class="l"> 8983: </a>        <span class="php-comment">//</span>
<a href="#8984" id="8984" class="l"> 8984: </a>        <span class="php-comment">// Save node.</span>
<a href="#8985" id="8985" class="l"> 8985: </a>        <span class="php-comment">//</span>
<a href="#8986" id="8986" class="l"> 8986: </a>        <span class="php-var">$parent</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ kTAG_ROLE ] = <span class="php-var">$node</span>;
<a href="#8987" id="8987" class="l"> 8987: </a>        <span class="php-comment">//</span>
<a href="#8988" id="8988" class="l"> 8988: </a>        <span class="php-comment">// Display.</span>
<a href="#8989" id="8989" class="l"> 8989: </a>        <span class="php-comment">//</span>
<a href="#8990" id="8990" class="l"> 8990: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#8991" id="8991" class="l"> 8991: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_ROLE) &quot;</span>
<a href="#8992" id="8992" class="l"> 8992: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#8993" id="8993" class="l"> 8993: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#8994" id="8994" class="l"> 8994: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#8995" id="8995" class="l"> 8995: </a>        
<a href="#8996" id="8996" class="l"> 8996: </a>        <span class="php-comment">//</span>
<a href="#8997" id="8997" class="l"> 8997: </a>        <span class="php-comment">// Set namespace.</span>
<a href="#8998" id="8998" class="l"> 8998: </a>        <span class="php-comment">//</span>
<a href="#8999" id="8999" class="l"> 8999: </a>        <span class="php-var">$ns</span> = <span class="php-var">$term</span>;
<a href="#9000" id="9000" class="l"> 9000: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( (string) <span class="php-var">$ns</span> ) + <span class="php-num">1</span>;
<a href="#9001" id="9001" class="l"> 9001: </a>        
<a href="#9002" id="9002" class="l"> 9002: </a>        <span class="php-comment">//</span>
<a href="#9003" id="9003" class="l"> 9003: </a>        <span class="php-comment">// Handle file import (kROLE_FILE_IMPORT).</span>
<a href="#9004" id="9004" class="l"> 9004: </a>        <span class="php-comment">//</span>
<a href="#9005" id="9005" class="l"> 9005: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9006" id="9006" class="l"> 9006: </a>                                   COntologyTerm::HashIndex( kROLE_FILE_IMPORT ) );
<a href="#9007" id="9007" class="l"> 9007: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#9008" id="9008" class="l"> 9008: </a>        {
<a href="#9009" id="9009" class="l"> 9009: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#9010" id="9010" class="l"> 9010: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( kROLE_FILE_IMPORT, <span class="php-var">$len</span> ) );
<a href="#9011" id="9011" class="l"> 9011: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#9012" id="9012" class="l"> 9012: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#9013" id="9013" class="l"> 9013: </a>            <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#9014" id="9014" class="l"> 9014: </a>            <span class="php-var">$term</span>-&gt;Name(
<a href="#9015" id="9015" class="l"> 9015: </a>                <span class="php-quote">&quot;File import&quot;</span>,
<a href="#9016" id="9016" class="l"> 9016: </a>                kDEFAULT_LANGUAGE );
<a href="#9017" id="9017" class="l"> 9017: </a>            <span class="php-var">$term</span>-&gt;Definition(
<a href="#9018" id="9018" class="l"> 9018: </a>                <span class="php-quote">&quot;Dataset file importer.&quot;</span>,
<a href="#9019" id="9019" class="l"> 9019: </a>                kDEFAULT_LANGUAGE );
<a href="#9020" id="9020" class="l"> 9020: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#9021" id="9021" class="l"> 9021: </a>        }
<a href="#9022" id="9022" class="l"> 9022: </a>        <span class="php-comment">//</span>
<a href="#9023" id="9023" class="l"> 9023: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9024" id="9024" class="l"> 9024: </a>        <span class="php-comment">//</span>
<a href="#9025" id="9025" class="l"> 9025: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9026" id="9026" class="l"> 9026: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9027" id="9027" class="l"> 9027: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#9028" id="9028" class="l"> 9028: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#9029" id="9029" class="l"> 9029: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9030" id="9030" class="l"> 9030: </a>        <span class="php-comment">//</span>
<a href="#9031" id="9031" class="l"> 9031: </a>        <span class="php-comment">// Connect edge.</span>
<a href="#9032" id="9032" class="l"> 9032: </a>        <span class="php-comment">//</span>
<a href="#9033" id="9033" class="l"> 9033: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent</span> );
<a href="#9034" id="9034" class="l"> 9034: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9035" id="9035" class="l"> 9035: </a>        <span class="php-comment">//</span>
<a href="#9036" id="9036" class="l"> 9036: </a>        <span class="php-comment">// Display.</span>
<a href="#9037" id="9037" class="l"> 9037: </a>        <span class="php-comment">//</span>
<a href="#9038" id="9038" class="l"> 9038: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9039" id="9039" class="l"> 9039: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kROLE_FILE_IMPORT) &quot;</span>
<a href="#9040" id="9040" class="l"> 9040: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9041" id="9041" class="l"> 9041: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9042" id="9042" class="l"> 9042: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9043" id="9043" class="l"> 9043: </a>        
<a href="#9044" id="9044" class="l"> 9044: </a>        <span class="php-comment">//</span>
<a href="#9045" id="9045" class="l"> 9045: </a>        <span class="php-comment">// Handle file import (kROLE_USER_MANAGE).</span>
<a href="#9046" id="9046" class="l"> 9046: </a>        <span class="php-comment">//</span>
<a href="#9047" id="9047" class="l"> 9047: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9048" id="9048" class="l"> 9048: </a>                                   COntologyTerm::HashIndex( kROLE_USER_MANAGE ) );
<a href="#9049" id="9049" class="l"> 9049: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#9050" id="9050" class="l"> 9050: </a>        {
<a href="#9051" id="9051" class="l"> 9051: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#9052" id="9052" class="l"> 9052: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( kROLE_USER_MANAGE, <span class="php-var">$len</span> ) );
<a href="#9053" id="9053" class="l"> 9053: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#9054" id="9054" class="l"> 9054: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_ENUM );
<a href="#9055" id="9055" class="l"> 9055: </a>            <span class="php-var">$term</span>-&gt;Enumeration( <span class="php-var">$term</span>-&gt;Code(), <span class="php-keyword1">TRUE</span> );
<a href="#9056" id="9056" class="l"> 9056: </a>            <span class="php-var">$term</span>-&gt;Name(
<a href="#9057" id="9057" class="l"> 9057: </a>                <span class="php-quote">&quot;User management&quot;</span>,
<a href="#9058" id="9058" class="l"> 9058: </a>                kDEFAULT_LANGUAGE );
<a href="#9059" id="9059" class="l"> 9059: </a>            <span class="php-var">$term</span>-&gt;Definition(
<a href="#9060" id="9060" class="l"> 9060: </a>                <span class="php-quote">&quot;Create, modify and delete users.&quot;</span>,
<a href="#9061" id="9061" class="l"> 9061: </a>                kDEFAULT_LANGUAGE );
<a href="#9062" id="9062" class="l"> 9062: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#9063" id="9063" class="l"> 9063: </a>        }
<a href="#9064" id="9064" class="l"> 9064: </a>        <span class="php-comment">//</span>
<a href="#9065" id="9065" class="l"> 9065: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9066" id="9066" class="l"> 9066: </a>        <span class="php-comment">//</span>
<a href="#9067" id="9067" class="l"> 9067: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9068" id="9068" class="l"> 9068: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9069" id="9069" class="l"> 9069: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_ENUMERATION, <span class="php-keyword1">TRUE</span> );
<a href="#9070" id="9070" class="l"> 9070: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_ENUM, <span class="php-keyword1">TRUE</span> );
<a href="#9071" id="9071" class="l"> 9071: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9072" id="9072" class="l"> 9072: </a>        <span class="php-comment">//</span>
<a href="#9073" id="9073" class="l"> 9073: </a>        <span class="php-comment">// Connect edge.</span>
<a href="#9074" id="9074" class="l"> 9074: </a>        <span class="php-comment">//</span>
<a href="#9075" id="9075" class="l"> 9075: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$enum_of</span>, <span class="php-var">$parent</span> );
<a href="#9076" id="9076" class="l"> 9076: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9077" id="9077" class="l"> 9077: </a>        <span class="php-comment">//</span>
<a href="#9078" id="9078" class="l"> 9078: </a>        <span class="php-comment">// Display.</span>
<a href="#9079" id="9079" class="l"> 9079: </a>        <span class="php-comment">//</span>
<a href="#9080" id="9080" class="l"> 9080: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9081" id="9081" class="l"> 9081: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kROLE_USER_MANAGE) &quot;</span>
<a href="#9082" id="9082" class="l"> 9082: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9083" id="9083" class="l"> 9083: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9084" id="9084" class="l"> 9084: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9085" id="9085" class="l"> 9085: </a>     
<a href="#9086" id="9086" class="l"> 9086: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9087" id="9087" class="l"> 9087: </a><span class="php-comment">         *  kTAG_CREATED                                                                 *
</span><a href="#9088" id="9088" class="l"> 9088: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9089" id="9089" class="l"> 9089: </a>
<a href="#9090" id="9090" class="l"> 9090: </a>        <span class="php-comment">//</span>
<a href="#9091" id="9091" class="l"> 9091: </a>        <span class="php-comment">// Handle user creation time-stamp (kTAG_CREATED).</span>
<a href="#9092" id="9092" class="l"> 9092: </a>        <span class="php-comment">//</span>
<a href="#9093" id="9093" class="l"> 9093: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9094" id="9094" class="l"> 9094: </a>                                   COntologyTerm::HashIndex( kTAG_CREATED ) );
<a href="#9095" id="9095" class="l"> 9095: </a>        <span class="php-comment">//</span>
<a href="#9096" id="9096" class="l"> 9096: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9097" id="9097" class="l"> 9097: </a>        <span class="php-comment">//</span>
<a href="#9098" id="9098" class="l"> 9098: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9099" id="9099" class="l"> 9099: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9100" id="9100" class="l"> 9100: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#9101" id="9101" class="l"> 9101: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9102" id="9102" class="l"> 9102: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STAMP );
<a href="#9103" id="9103" class="l"> 9103: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#9104" id="9104" class="l"> 9104: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9105" id="9105" class="l"> 9105: </a>        <span class="php-comment">//</span>
<a href="#9106" id="9106" class="l"> 9106: </a>        <span class="php-comment">// Save node.</span>
<a href="#9107" id="9107" class="l"> 9107: </a>        <span class="php-comment">//</span>
<a href="#9108" id="9108" class="l"> 9108: </a>        <span class="php-var">$nodes</span>[ kTAG_CREATED ] = <span class="php-var">$node</span>;
<a href="#9109" id="9109" class="l"> 9109: </a>        <span class="php-comment">//</span>
<a href="#9110" id="9110" class="l"> 9110: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9111" id="9111" class="l"> 9111: </a>        <span class="php-comment">//</span>
<a href="#9112" id="9112" class="l"> 9112: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#9113" id="9113" class="l"> 9113: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9114" id="9114" class="l"> 9114: </a>        <span class="php-comment">//</span>
<a href="#9115" id="9115" class="l"> 9115: </a>        <span class="php-comment">// Display.</span>
<a href="#9116" id="9116" class="l"> 9116: </a>        <span class="php-comment">//</span>
<a href="#9117" id="9117" class="l"> 9117: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9118" id="9118" class="l"> 9118: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_CREATED) &quot;</span>
<a href="#9119" id="9119" class="l"> 9119: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9120" id="9120" class="l"> 9120: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9121" id="9121" class="l"> 9121: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9122" id="9122" class="l"> 9122: </a>     
<a href="#9123" id="9123" class="l"> 9123: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9124" id="9124" class="l"> 9124: </a><span class="php-comment">         *  kTAG_MODIFIED                                                                *
</span><a href="#9125" id="9125" class="l"> 9125: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9126" id="9126" class="l"> 9126: </a>
<a href="#9127" id="9127" class="l"> 9127: </a>        <span class="php-comment">//</span>
<a href="#9128" id="9128" class="l"> 9128: </a>        <span class="php-comment">// Handle user last modification time-stamp (kTAG_MODIFIED).</span>
<a href="#9129" id="9129" class="l"> 9129: </a>        <span class="php-comment">//</span>
<a href="#9130" id="9130" class="l"> 9130: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9131" id="9131" class="l"> 9131: </a>                                   COntologyTerm::HashIndex( kTAG_MODIFIED ) );
<a href="#9132" id="9132" class="l"> 9132: </a>        <span class="php-comment">//</span>
<a href="#9133" id="9133" class="l"> 9133: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9134" id="9134" class="l"> 9134: </a>        <span class="php-comment">//</span>
<a href="#9135" id="9135" class="l"> 9135: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9136" id="9136" class="l"> 9136: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9137" id="9137" class="l"> 9137: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#9138" id="9138" class="l"> 9138: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9139" id="9139" class="l"> 9139: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STAMP );
<a href="#9140" id="9140" class="l"> 9140: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#9141" id="9141" class="l"> 9141: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9142" id="9142" class="l"> 9142: </a>        <span class="php-comment">//</span>
<a href="#9143" id="9143" class="l"> 9143: </a>        <span class="php-comment">// Save node.</span>
<a href="#9144" id="9144" class="l"> 9144: </a>        <span class="php-comment">//</span>
<a href="#9145" id="9145" class="l"> 9145: </a>        <span class="php-var">$nodes</span>[ kTAG_MODIFIED ] = <span class="php-var">$node</span>;
<a href="#9146" id="9146" class="l"> 9146: </a>        <span class="php-comment">//</span>
<a href="#9147" id="9147" class="l"> 9147: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9148" id="9148" class="l"> 9148: </a>        <span class="php-comment">//</span>
<a href="#9149" id="9149" class="l"> 9149: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kENTITY_USER ] );
<a href="#9150" id="9150" class="l"> 9150: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9151" id="9151" class="l"> 9151: </a>        <span class="php-comment">//</span>
<a href="#9152" id="9152" class="l"> 9152: </a>        <span class="php-comment">// Display.</span>
<a href="#9153" id="9153" class="l"> 9153: </a>        <span class="php-comment">//</span>
<a href="#9154" id="9154" class="l"> 9154: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9155" id="9155" class="l"> 9155: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_MODIFIED) &quot;</span>
<a href="#9156" id="9156" class="l"> 9156: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9157" id="9157" class="l"> 9157: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9158" id="9158" class="l"> 9158: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9159" id="9159" class="l"> 9159: </a>        
<a href="#9160" id="9160" class="l"> 9160: </a>    } <span class="php-comment">// LoadEntityDatadict.</span>
<a href="#9161" id="9161" class="l"> 9161: </a>
<a href="#9162" id="9162" class="l"> 9162: </a>     
<a href="#9163" id="9163" class="l"> 9163: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#9164" id="9164" class="l"> 9164: </a><span class="php-comment">     *  LoadDatasetDatadict                                                             *
</span><a href="#9165" id="9165" class="l"> 9165: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#9166" id="9166" class="l"> 9166: </a>
<a href="#9167" id="9167" class="l"> 9167: </a>    <span class="php-comment">/**
</span><a href="#9168" id="9168" class="l"> 9168: </a><span class="php-comment">     * Load dataset data dictionary.
</span><a href="#9169" id="9169" class="l"> 9169: </a><span class="php-comment">     *
</span><a href="#9170" id="9170" class="l"> 9170: </a><span class="php-comment">     * This function will load the dataset data dictionary.
</span><a href="#9171" id="9171" class="l"> 9171: </a><span class="php-comment">     *
</span><a href="#9172" id="9172" class="l"> 9172: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#9173" id="9173" class="l"> 9173: </a><span class="php-comment">     * created terms.
</span><a href="#9174" id="9174" class="l"> 9174: </a><span class="php-comment">     *
</span><a href="#9175" id="9175" class="l"> 9175: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#9176" id="9176" class="l"> 9176: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#9177" id="9177" class="l"> 9177: </a><span class="php-comment">     *
</span><a href="#9178" id="9178" class="l"> 9178: </a><span class="php-comment">     * @access protected
</span><a href="#9179" id="9179" class="l"> 9179: </a><span class="php-comment">     */</span>
<a href="#9180" id="9180" class="l"> 9180: </a>    <span class="php-keyword1">function</span> LoadDatasetDatadict( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#9181" id="9181" class="l"> 9181: </a>    {
<a href="#9182" id="9182" class="l"> 9182: </a>        <span class="php-comment">//</span>
<a href="#9183" id="9183" class="l"> 9183: </a>        <span class="php-comment">//  [:DATASET]</span>
<a href="#9184" id="9184" class="l"> 9184: </a>        <span class="php-comment">//      [:TITLE] (string) Dataset title</span>
<a href="#9185" id="9185" class="l"> 9185: </a>        <span class="php-comment">//      [:ENTITY:USER] (binary) User ID</span>
<a href="#9186" id="9186" class="l"> 9186: </a>        <span class="php-comment">//      [:NAME] (array) Dataset name</span>
<a href="#9187" id="9187" class="l"> 9187: </a>        <span class="php-comment">//          [:LANGUAGE] (string) Dataset name language code</span>
<a href="#9188" id="9188" class="l"> 9188: </a>        <span class="php-comment">//          [:DATA] (string) Dataset name string</span>
<a href="#9189" id="9189" class="l"> 9189: </a>        <span class="php-comment">//      [:DESCR] (struct) Dataset description</span>
<a href="#9190" id="9190" class="l"> 9190: </a>        <span class="php-comment">//          [:LANGUAGE] (string) Dataset description language code</span>
<a href="#9191" id="9191" class="l"> 9191: </a>        <span class="php-comment">//          [:DATA] (string) Dataset description string</span>
<a href="#9192" id="9192" class="l"> 9192: </a>        <span class="php-comment">//      [:DOMAIN] (array) Dataset domain</span>
<a href="#9193" id="9193" class="l"> 9193: </a>        <span class="php-comment">//      [:CATEGORY] (array) Dataset domain category</span>
<a href="#9194" id="9194" class="l"> 9194: </a>        <span class="php-comment">//      [:FILES] (array)</span>
<a href="#9195" id="9195" class="l"> 9195: </a>        <span class="php-comment">//          [:FILE] (ObjectId) File reference</span>
<a href="#9196" id="9196" class="l"> 9196: </a>        <span class="php-comment">//          [:REFS] (array) Referenced files list</span>
<a href="#9197" id="9197" class="l"> 9197: </a>        <span class="php-comment">//          [:STATUS] (array) File status</span>
<a href="#9198" id="9198" class="l"> 9198: </a>        <span class="php-comment">//          [:KIND] (array) File kind</span>
<a href="#9199" id="9199" class="l"> 9199: </a>        <span class="php-comment">//          [:COLS] (array) Data dictionary</span>
<a href="#9200" id="9200" class="l"> 9200: </a>        <span class="php-comment">//              [:TAG] (string) Tag GID</span>
<a href="#9201" id="9201" class="l"> 9201: </a>        <span class="php-comment">//              [:TITLE] (string) Original column header value</span>
<a href="#9202" id="9202" class="l"> 9202: </a>        <span class="php-comment">//</span>
<a href="#9203" id="9203" class="l"> 9203: </a>        
<a href="#9204" id="9204" class="l"> 9204: </a>        <span class="php-comment">//</span>
<a href="#9205" id="9205" class="l"> 9205: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#9206" id="9206" class="l"> 9206: </a>        <span class="php-comment">//</span>
<a href="#9207" id="9207" class="l"> 9207: </a>        <span class="php-var">$nodes</span> = <span class="php-keyword1">Array</span>();
<a href="#9208" id="9208" class="l"> 9208: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#9209" id="9209" class="l"> 9209: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#9210" id="9210" class="l"> 9210: </a>        
<a href="#9211" id="9211" class="l"> 9211: </a>        <span class="php-comment">//</span>
<a href="#9212" id="9212" class="l"> 9212: </a>        <span class="php-comment">// Inform.</span>
<a href="#9213" id="9213" class="l"> 9213: </a>        <span class="php-comment">//</span>
<a href="#9214" id="9214" class="l"> 9214: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9215" id="9215" class="l"> 9215: </a>        {
<a href="#9216" id="9216" class="l"> 9216: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9217" id="9217" class="l"> 9217: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#9218" id="9218" class="l"> 9218: </a>        }
<a href="#9219" id="9219" class="l"> 9219: </a>        
<a href="#9220" id="9220" class="l"> 9220: </a>        <span class="php-comment">//</span>
<a href="#9221" id="9221" class="l"> 9221: </a>        <span class="php-comment">// IS-A.</span>
<a href="#9222" id="9222" class="l"> 9222: </a>        <span class="php-comment">//</span>
<a href="#9223" id="9223" class="l"> 9223: </a>        <span class="php-var">$is_a</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#9224" id="9224" class="l"> 9224: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_IS_A ) );
<a href="#9225" id="9225" class="l"> 9225: </a>        
<a href="#9226" id="9226" class="l"> 9226: </a>        <span class="php-comment">//</span>
<a href="#9227" id="9227" class="l"> 9227: </a>        <span class="php-comment">// ENUM-OF.</span>
<a href="#9228" id="9228" class="l"> 9228: </a>        <span class="php-comment">//</span>
<a href="#9229" id="9229" class="l"> 9229: </a>        <span class="php-var">$enum_of</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#9230" id="9230" class="l"> 9230: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_ENUM_OF ) );
<a href="#9231" id="9231" class="l"> 9231: </a>        
<a href="#9232" id="9232" class="l"> 9232: </a>        <span class="php-comment">//</span>
<a href="#9233" id="9233" class="l"> 9233: </a>        <span class="php-comment">// COMPONENT-OF.</span>
<a href="#9234" id="9234" class="l"> 9234: </a>        <span class="php-comment">//</span>
<a href="#9235" id="9235" class="l"> 9235: </a>        <span class="php-var">$component_of</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#9236" id="9236" class="l"> 9236: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_COMPONENT_OF ) );
<a href="#9237" id="9237" class="l"> 9237: </a>        
<a href="#9238" id="9238" class="l"> 9238: </a>        <span class="php-comment">//</span>
<a href="#9239" id="9239" class="l"> 9239: </a>        <span class="php-comment">// Get default namespace.</span>
<a href="#9240" id="9240" class="l"> 9240: </a>        <span class="php-comment">//</span>
<a href="#9241" id="9241" class="l"> 9241: </a>        <span class="php-var">$ns</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">''</span> ) );
<a href="#9242" id="9242" class="l"> 9242: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( (string) <span class="php-var">$ns</span> ) + <span class="php-num">1</span>;
<a href="#9243" id="9243" class="l"> 9243: </a>     
<a href="#9244" id="9244" class="l"> 9244: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9245" id="9245" class="l"> 9245: </a><span class="php-comment">         *  kTAG_DATASET                                                                 *
</span><a href="#9246" id="9246" class="l"> 9246: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9247" id="9247" class="l"> 9247: </a>
<a href="#9248" id="9248" class="l"> 9248: </a>        <span class="php-comment">//</span>
<a href="#9249" id="9249" class="l"> 9249: </a>        <span class="php-comment">// Handle kTAG_DATASET.</span>
<a href="#9250" id="9250" class="l"> 9250: </a>        <span class="php-comment">//</span>
<a href="#9251" id="9251" class="l"> 9251: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9252" id="9252" class="l"> 9252: </a>                                   COntologyTerm::HashIndex( kTAG_DATASET ) );
<a href="#9253" id="9253" class="l"> 9253: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#9254" id="9254" class="l"> 9254: </a>        {
<a href="#9255" id="9255" class="l"> 9255: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#9256" id="9256" class="l"> 9256: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-keyword2">substr</span>( kTAG_DATASET, <span class="php-var">$len</span> ) );
<a href="#9257" id="9257" class="l"> 9257: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Dataset'</span>, kDEFAULT_LANGUAGE );
<a href="#9258" id="9258" class="l"> 9258: </a>            <span class="php-var">$term</span>-&gt;Definition( <span class="php-quote">'Data collection.'</span>, kDEFAULT_LANGUAGE );
<a href="#9259" id="9259" class="l"> 9259: </a>            <span class="php-var">$term</span>-&gt;Synonym( <span class="php-quote">'kTAG_DATASET'</span>, kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#9260" id="9260" class="l"> 9260: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#9261" id="9261" class="l"> 9261: </a>        }
<a href="#9262" id="9262" class="l"> 9262: </a>        <span class="php-comment">//</span>
<a href="#9263" id="9263" class="l"> 9263: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9264" id="9264" class="l"> 9264: </a>        <span class="php-comment">//</span>
<a href="#9265" id="9265" class="l"> 9265: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9266" id="9266" class="l"> 9266: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9267" id="9267" class="l"> 9267: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_ROOT, <span class="php-keyword1">TRUE</span> );
<a href="#9268" id="9268" class="l"> 9268: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_DICTIONARY, <span class="php-keyword1">TRUE</span> );
<a href="#9269" id="9269" class="l"> 9269: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9270" id="9270" class="l"> 9270: </a>        <span class="php-comment">//</span>
<a href="#9271" id="9271" class="l"> 9271: </a>        <span class="php-comment">// Save node.</span>
<a href="#9272" id="9272" class="l"> 9272: </a>        <span class="php-comment">//</span>
<a href="#9273" id="9273" class="l"> 9273: </a>        <span class="php-var">$nodes</span>[ kTAG_DATASET ] = <span class="php-var">$node</span>;
<a href="#9274" id="9274" class="l"> 9274: </a>        <span class="php-comment">//</span>
<a href="#9275" id="9275" class="l"> 9275: </a>        <span class="php-comment">// Display.</span>
<a href="#9276" id="9276" class="l"> 9276: </a>        <span class="php-comment">//</span>
<a href="#9277" id="9277" class="l"> 9277: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9278" id="9278" class="l"> 9278: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_DATASET) &quot;</span>
<a href="#9279" id="9279" class="l"> 9279: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9280" id="9280" class="l"> 9280: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9281" id="9281" class="l"> 9281: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9282" id="9282" class="l"> 9282: </a>     
<a href="#9283" id="9283" class="l"> 9283: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9284" id="9284" class="l"> 9284: </a><span class="php-comment">         *  kTAG_TITLE                                                                   *
</span><a href="#9285" id="9285" class="l"> 9285: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9286" id="9286" class="l"> 9286: </a>
<a href="#9287" id="9287" class="l"> 9287: </a>        <span class="php-comment">//</span>
<a href="#9288" id="9288" class="l"> 9288: </a>        <span class="php-comment">// Handle dataset title (kTAG_TITLE).</span>
<a href="#9289" id="9289" class="l"> 9289: </a>        <span class="php-comment">//</span>
<a href="#9290" id="9290" class="l"> 9290: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9291" id="9291" class="l"> 9291: </a>                                   COntologyTerm::HashIndex( kTAG_TITLE ) );
<a href="#9292" id="9292" class="l"> 9292: </a>        <span class="php-comment">//</span>
<a href="#9293" id="9293" class="l"> 9293: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9294" id="9294" class="l"> 9294: </a>        <span class="php-comment">//</span>
<a href="#9295" id="9295" class="l"> 9295: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9296" id="9296" class="l"> 9296: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9297" id="9297" class="l"> 9297: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#9298" id="9298" class="l"> 9298: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9299" id="9299" class="l"> 9299: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#9300" id="9300" class="l"> 9300: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#9301" id="9301" class="l"> 9301: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9302" id="9302" class="l"> 9302: </a>        <span class="php-comment">//</span>
<a href="#9303" id="9303" class="l"> 9303: </a>        <span class="php-comment">// Save node.</span>
<a href="#9304" id="9304" class="l"> 9304: </a>        <span class="php-comment">//</span>
<a href="#9305" id="9305" class="l"> 9305: </a>        <span class="php-var">$nodes</span>[ kTAG_TITLE ] = <span class="php-var">$node</span>;
<a href="#9306" id="9306" class="l"> 9306: </a>        <span class="php-comment">//</span>
<a href="#9307" id="9307" class="l"> 9307: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9308" id="9308" class="l"> 9308: </a>        <span class="php-comment">//</span>
<a href="#9309" id="9309" class="l"> 9309: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kTAG_DATASET ] );
<a href="#9310" id="9310" class="l"> 9310: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9311" id="9311" class="l"> 9311: </a>        <span class="php-comment">//</span>
<a href="#9312" id="9312" class="l"> 9312: </a>        <span class="php-comment">// Display.</span>
<a href="#9313" id="9313" class="l"> 9313: </a>        <span class="php-comment">//</span>
<a href="#9314" id="9314" class="l"> 9314: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9315" id="9315" class="l"> 9315: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_TITLE) &quot;</span>
<a href="#9316" id="9316" class="l"> 9316: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9317" id="9317" class="l"> 9317: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9318" id="9318" class="l"> 9318: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9319" id="9319" class="l"> 9319: </a>     
<a href="#9320" id="9320" class="l"> 9320: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9321" id="9321" class="l"> 9321: </a><span class="php-comment">         *  kENTITY_USER                                                                 *
</span><a href="#9322" id="9322" class="l"> 9322: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9323" id="9323" class="l"> 9323: </a>
<a href="#9324" id="9324" class="l"> 9324: </a>        <span class="php-comment">//</span>
<a href="#9325" id="9325" class="l"> 9325: </a>        <span class="php-comment">// Handle dataset user (kENTITY_USER).</span>
<a href="#9326" id="9326" class="l"> 9326: </a>        <span class="php-comment">//</span>
<a href="#9327" id="9327" class="l"> 9327: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9328" id="9328" class="l"> 9328: </a>                                   COntologyTerm::HashIndex( kENTITY_USER ) );
<a href="#9329" id="9329" class="l"> 9329: </a>        <span class="php-comment">//</span>
<a href="#9330" id="9330" class="l"> 9330: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9331" id="9331" class="l"> 9331: </a>        <span class="php-comment">//</span>
<a href="#9332" id="9332" class="l"> 9332: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9333" id="9333" class="l"> 9333: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9334" id="9334" class="l"> 9334: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#9335" id="9335" class="l"> 9335: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9336" id="9336" class="l"> 9336: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_BINARY );
<a href="#9337" id="9337" class="l"> 9337: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#9338" id="9338" class="l"> 9338: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9339" id="9339" class="l"> 9339: </a>        <span class="php-comment">//</span>
<a href="#9340" id="9340" class="l"> 9340: </a>        <span class="php-comment">// Save node.</span>
<a href="#9341" id="9341" class="l"> 9341: </a>        <span class="php-comment">//</span>
<a href="#9342" id="9342" class="l"> 9342: </a>        <span class="php-var">$nodes</span>[ kENTITY_USER ] = <span class="php-var">$node</span>;
<a href="#9343" id="9343" class="l"> 9343: </a>        <span class="php-comment">//</span>
<a href="#9344" id="9344" class="l"> 9344: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9345" id="9345" class="l"> 9345: </a>        <span class="php-comment">//</span>
<a href="#9346" id="9346" class="l"> 9346: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kTAG_DATASET ] );
<a href="#9347" id="9347" class="l"> 9347: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9348" id="9348" class="l"> 9348: </a>        <span class="php-comment">//</span>
<a href="#9349" id="9349" class="l"> 9349: </a>        <span class="php-comment">// Display.</span>
<a href="#9350" id="9350" class="l"> 9350: </a>        <span class="php-comment">//</span>
<a href="#9351" id="9351" class="l"> 9351: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9352" id="9352" class="l"> 9352: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kENTITY_USER) &quot;</span>
<a href="#9353" id="9353" class="l"> 9353: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9354" id="9354" class="l"> 9354: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9355" id="9355" class="l"> 9355: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9356" id="9356" class="l"> 9356: </a>     
<a href="#9357" id="9357" class="l"> 9357: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9358" id="9358" class="l"> 9358: </a><span class="php-comment">         *  kTAG_NAME                                                                    *
</span><a href="#9359" id="9359" class="l"> 9359: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9360" id="9360" class="l"> 9360: </a>
<a href="#9361" id="9361" class="l"> 9361: </a>        <span class="php-comment">//</span>
<a href="#9362" id="9362" class="l"> 9362: </a>        <span class="php-comment">// Handle dataset name (kTAG_NAME).</span>
<a href="#9363" id="9363" class="l"> 9363: </a>        <span class="php-comment">//</span>
<a href="#9364" id="9364" class="l"> 9364: </a>        <span class="php-var">$node</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ kTAG_NAME ];
<a href="#9365" id="9365" class="l"> 9365: </a>        <span class="php-var">$term</span> = <span class="php-var">$node</span>-&gt;Term();
<a href="#9366" id="9366" class="l"> 9366: </a>        <span class="php-comment">//</span>
<a href="#9367" id="9367" class="l"> 9367: </a>        <span class="php-comment">// Save node.</span>
<a href="#9368" id="9368" class="l"> 9368: </a>        <span class="php-comment">//</span>
<a href="#9369" id="9369" class="l"> 9369: </a>        <span class="php-var">$nodes</span>[ kTAG_NAME ] = <span class="php-var">$node</span>;
<a href="#9370" id="9370" class="l"> 9370: </a>        <span class="php-comment">//</span>
<a href="#9371" id="9371" class="l"> 9371: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9372" id="9372" class="l"> 9372: </a>        <span class="php-comment">//</span>
<a href="#9373" id="9373" class="l"> 9373: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kTAG_DATASET ] );
<a href="#9374" id="9374" class="l"> 9374: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9375" id="9375" class="l"> 9375: </a>        <span class="php-comment">//</span>
<a href="#9376" id="9376" class="l"> 9376: </a>        <span class="php-comment">// Display.</span>
<a href="#9377" id="9377" class="l"> 9377: </a>        <span class="php-comment">//</span>
<a href="#9378" id="9378" class="l"> 9378: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9379" id="9379" class="l"> 9379: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_NAME) &quot;</span>
<a href="#9380" id="9380" class="l"> 9380: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9381" id="9381" class="l"> 9381: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9382" id="9382" class="l"> 9382: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9383" id="9383" class="l"> 9383: </a>     
<a href="#9384" id="9384" class="l"> 9384: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9385" id="9385" class="l"> 9385: </a><span class="php-comment">         *  kTAG_DESCRIPTION                                                             *
</span><a href="#9386" id="9386" class="l"> 9386: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9387" id="9387" class="l"> 9387: </a>
<a href="#9388" id="9388" class="l"> 9388: </a>        <span class="php-comment">//</span>
<a href="#9389" id="9389" class="l"> 9389: </a>        <span class="php-comment">// Handle dataset description (kTAG_DESCRIPTION).</span>
<a href="#9390" id="9390" class="l"> 9390: </a>        <span class="php-comment">//</span>
<a href="#9391" id="9391" class="l"> 9391: </a>        <span class="php-var">$node</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ kTAG_DESCRIPTION ];
<a href="#9392" id="9392" class="l"> 9392: </a>        <span class="php-var">$term</span> = <span class="php-var">$node</span>-&gt;Term();
<a href="#9393" id="9393" class="l"> 9393: </a>        <span class="php-comment">//</span>
<a href="#9394" id="9394" class="l"> 9394: </a>        <span class="php-comment">// Save node.</span>
<a href="#9395" id="9395" class="l"> 9395: </a>        <span class="php-comment">//</span>
<a href="#9396" id="9396" class="l"> 9396: </a>        <span class="php-var">$nodes</span>[ kTAG_DESCRIPTION ] = <span class="php-var">$node</span>;
<a href="#9397" id="9397" class="l"> 9397: </a>        <span class="php-comment">//</span>
<a href="#9398" id="9398" class="l"> 9398: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9399" id="9399" class="l"> 9399: </a>        <span class="php-comment">//</span>
<a href="#9400" id="9400" class="l"> 9400: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kTAG_DATASET ] );
<a href="#9401" id="9401" class="l"> 9401: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9402" id="9402" class="l"> 9402: </a>        <span class="php-comment">//</span>
<a href="#9403" id="9403" class="l"> 9403: </a>        <span class="php-comment">// Display.</span>
<a href="#9404" id="9404" class="l"> 9404: </a>        <span class="php-comment">//</span>
<a href="#9405" id="9405" class="l"> 9405: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9406" id="9406" class="l"> 9406: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_DESCRIPTION) &quot;</span>
<a href="#9407" id="9407" class="l"> 9407: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9408" id="9408" class="l"> 9408: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9409" id="9409" class="l"> 9409: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9410" id="9410" class="l"> 9410: </a>     
<a href="#9411" id="9411" class="l"> 9411: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9412" id="9412" class="l"> 9412: </a><span class="php-comment">         *  kTAG_DOMAIN                                                                  *
</span><a href="#9413" id="9413" class="l"> 9413: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9414" id="9414" class="l"> 9414: </a>
<a href="#9415" id="9415" class="l"> 9415: </a>        <span class="php-comment">//</span>
<a href="#9416" id="9416" class="l"> 9416: </a>        <span class="php-comment">// Handle dataset domain (kTAG_DOMAIN).</span>
<a href="#9417" id="9417" class="l"> 9417: </a>        <span class="php-comment">//</span>
<a href="#9418" id="9418" class="l"> 9418: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9419" id="9419" class="l"> 9419: </a>                                   COntologyTerm::HashIndex( kTAG_DOMAIN ) );
<a href="#9420" id="9420" class="l"> 9420: </a>        <span class="php-comment">//</span>
<a href="#9421" id="9421" class="l"> 9421: </a>        <span class="php-comment">// Get term node.</span>
<a href="#9422" id="9422" class="l"> 9422: </a>        <span class="php-comment">//</span>
<a href="#9423" id="9423" class="l"> 9423: </a>        <span class="php-var">$list</span> = <span class="php-var">$term</span>-&gt;Node();
<a href="#9424" id="9424" class="l"> 9424: </a>        <span class="php-comment">//</span>
<a href="#9425" id="9425" class="l"> 9425: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9426" id="9426" class="l"> 9426: </a>        <span class="php-comment">//</span>
<a href="#9427" id="9427" class="l"> 9427: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span>, <span class="php-var">$list</span>[ <span class="php-num">0</span> ] );
<a href="#9428" id="9428" class="l"> 9428: </a>        <span class="php-comment">//</span>
<a href="#9429" id="9429" class="l"> 9429: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9430" id="9430" class="l"> 9430: </a>        <span class="php-comment">//</span>
<a href="#9431" id="9431" class="l"> 9431: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kTAG_DATASET ] );
<a href="#9432" id="9432" class="l"> 9432: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9433" id="9433" class="l"> 9433: </a>        <span class="php-comment">//</span>
<a href="#9434" id="9434" class="l"> 9434: </a>        <span class="php-comment">// Display.</span>
<a href="#9435" id="9435" class="l"> 9435: </a>        <span class="php-comment">//</span>
<a href="#9436" id="9436" class="l"> 9436: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9437" id="9437" class="l"> 9437: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_DOMAIN) &quot;</span>
<a href="#9438" id="9438" class="l"> 9438: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9439" id="9439" class="l"> 9439: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9440" id="9440" class="l"> 9440: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9441" id="9441" class="l"> 9441: </a>     
<a href="#9442" id="9442" class="l"> 9442: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9443" id="9443" class="l"> 9443: </a><span class="php-comment">         *  kTAG_CATEGORY                                                                *
</span><a href="#9444" id="9444" class="l"> 9444: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9445" id="9445" class="l"> 9445: </a>
<a href="#9446" id="9446" class="l"> 9446: </a>        <span class="php-comment">//</span>
<a href="#9447" id="9447" class="l"> 9447: </a>        <span class="php-comment">// Handle dataset category (kTAG_CATEGORY).</span>
<a href="#9448" id="9448" class="l"> 9448: </a>        <span class="php-comment">//</span>
<a href="#9449" id="9449" class="l"> 9449: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9450" id="9450" class="l"> 9450: </a>                                   COntologyTerm::HashIndex( kTAG_CATEGORY ) );
<a href="#9451" id="9451" class="l"> 9451: </a>        <span class="php-comment">//</span>
<a href="#9452" id="9452" class="l"> 9452: </a>        <span class="php-comment">// Get term node.</span>
<a href="#9453" id="9453" class="l"> 9453: </a>        <span class="php-comment">//</span>
<a href="#9454" id="9454" class="l"> 9454: </a>        <span class="php-var">$list</span> = <span class="php-var">$term</span>-&gt;Node();
<a href="#9455" id="9455" class="l"> 9455: </a>        <span class="php-comment">//</span>
<a href="#9456" id="9456" class="l"> 9456: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9457" id="9457" class="l"> 9457: </a>        <span class="php-comment">//</span>
<a href="#9458" id="9458" class="l"> 9458: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span>, <span class="php-var">$list</span>[ <span class="php-num">0</span> ] );
<a href="#9459" id="9459" class="l"> 9459: </a>        <span class="php-comment">//</span>
<a href="#9460" id="9460" class="l"> 9460: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9461" id="9461" class="l"> 9461: </a>        <span class="php-comment">//</span>
<a href="#9462" id="9462" class="l"> 9462: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kTAG_DATASET ] );
<a href="#9463" id="9463" class="l"> 9463: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9464" id="9464" class="l"> 9464: </a>        <span class="php-comment">//</span>
<a href="#9465" id="9465" class="l"> 9465: </a>        <span class="php-comment">// Display.</span>
<a href="#9466" id="9466" class="l"> 9466: </a>        <span class="php-comment">//</span>
<a href="#9467" id="9467" class="l"> 9467: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9468" id="9468" class="l"> 9468: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_CATEGORY) &quot;</span>
<a href="#9469" id="9469" class="l"> 9469: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9470" id="9470" class="l"> 9470: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9471" id="9471" class="l"> 9471: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9472" id="9472" class="l"> 9472: </a>     
<a href="#9473" id="9473" class="l"> 9473: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9474" id="9474" class="l"> 9474: </a><span class="php-comment">         *  kOFFSET_FILES                                                                *
</span><a href="#9475" id="9475" class="l"> 9475: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9476" id="9476" class="l"> 9476: </a>
<a href="#9477" id="9477" class="l"> 9477: </a>        <span class="php-comment">//</span>
<a href="#9478" id="9478" class="l"> 9478: </a>        <span class="php-comment">// Handle dataset files (kOFFSET_FILES).</span>
<a href="#9479" id="9479" class="l"> 9479: </a>        <span class="php-comment">//</span>
<a href="#9480" id="9480" class="l"> 9480: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9481" id="9481" class="l"> 9481: </a>                                   COntologyTerm::HashIndex( kOFFSET_FILES ) );
<a href="#9482" id="9482" class="l"> 9482: </a>        <span class="php-comment">//</span>
<a href="#9483" id="9483" class="l"> 9483: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9484" id="9484" class="l"> 9484: </a>        <span class="php-comment">//</span>
<a href="#9485" id="9485" class="l"> 9485: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9486" id="9486" class="l"> 9486: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9487" id="9487" class="l"> 9487: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#9488" id="9488" class="l"> 9488: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_LIST );
<a href="#9489" id="9489" class="l"> 9489: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#9490" id="9490" class="l"> 9490: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9491" id="9491" class="l"> 9491: </a>        <span class="php-comment">//</span>
<a href="#9492" id="9492" class="l"> 9492: </a>        <span class="php-comment">// Save node.</span>
<a href="#9493" id="9493" class="l"> 9493: </a>        <span class="php-comment">//</span>
<a href="#9494" id="9494" class="l"> 9494: </a>        <span class="php-var">$nodes</span>[ kOFFSET_FILES ] = <span class="php-var">$node</span>;
<a href="#9495" id="9495" class="l"> 9495: </a>        <span class="php-comment">//</span>
<a href="#9496" id="9496" class="l"> 9496: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9497" id="9497" class="l"> 9497: </a>        <span class="php-comment">//</span>
<a href="#9498" id="9498" class="l"> 9498: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kTAG_DATASET ] );
<a href="#9499" id="9499" class="l"> 9499: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9500" id="9500" class="l"> 9500: </a>        <span class="php-comment">//</span>
<a href="#9501" id="9501" class="l"> 9501: </a>        <span class="php-comment">// Display.</span>
<a href="#9502" id="9502" class="l"> 9502: </a>        <span class="php-comment">//</span>
<a href="#9503" id="9503" class="l"> 9503: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9504" id="9504" class="l"> 9504: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kOFFSET_FILES) &quot;</span>
<a href="#9505" id="9505" class="l"> 9505: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9506" id="9506" class="l"> 9506: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9507" id="9507" class="l"> 9507: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9508" id="9508" class="l"> 9508: </a>     
<a href="#9509" id="9509" class="l"> 9509: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9510" id="9510" class="l"> 9510: </a><span class="php-comment">         *  kOFFSET_FILE                                                                 *
</span><a href="#9511" id="9511" class="l"> 9511: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9512" id="9512" class="l"> 9512: </a>
<a href="#9513" id="9513" class="l"> 9513: </a>        <span class="php-comment">//</span>
<a href="#9514" id="9514" class="l"> 9514: </a>        <span class="php-comment">// Handle dataset provided file reference (kOFFSET_FILE).</span>
<a href="#9515" id="9515" class="l"> 9515: </a>        <span class="php-comment">//</span>
<a href="#9516" id="9516" class="l"> 9516: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9517" id="9517" class="l"> 9517: </a>                                   COntologyTerm::HashIndex( kOFFSET_FILE ) );
<a href="#9518" id="9518" class="l"> 9518: </a>        <span class="php-comment">//</span>
<a href="#9519" id="9519" class="l"> 9519: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9520" id="9520" class="l"> 9520: </a>        <span class="php-comment">//</span>
<a href="#9521" id="9521" class="l"> 9521: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9522" id="9522" class="l"> 9522: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9523" id="9523" class="l"> 9523: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9524" id="9524" class="l"> 9524: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_MongoId );
<a href="#9525" id="9525" class="l"> 9525: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#9526" id="9526" class="l"> 9526: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9527" id="9527" class="l"> 9527: </a>        <span class="php-comment">//</span>
<a href="#9528" id="9528" class="l"> 9528: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9529" id="9529" class="l"> 9529: </a>        <span class="php-comment">//</span>
<a href="#9530" id="9530" class="l"> 9530: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kOFFSET_FILES ] );
<a href="#9531" id="9531" class="l"> 9531: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9532" id="9532" class="l"> 9532: </a>        <span class="php-comment">//</span>
<a href="#9533" id="9533" class="l"> 9533: </a>        <span class="php-comment">// Display.</span>
<a href="#9534" id="9534" class="l"> 9534: </a>        <span class="php-comment">//</span>
<a href="#9535" id="9535" class="l"> 9535: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9536" id="9536" class="l"> 9536: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kOFFSET_FILE) &quot;</span>
<a href="#9537" id="9537" class="l"> 9537: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9538" id="9538" class="l"> 9538: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9539" id="9539" class="l"> 9539: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9540" id="9540" class="l"> 9540: </a>     
<a href="#9541" id="9541" class="l"> 9541: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9542" id="9542" class="l"> 9542: </a><span class="php-comment">         *  kTAG_REFS                                                                    *
</span><a href="#9543" id="9543" class="l"> 9543: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9544" id="9544" class="l"> 9544: </a>
<a href="#9545" id="9545" class="l"> 9545: </a>        <span class="php-comment">//</span>
<a href="#9546" id="9546" class="l"> 9546: </a>        <span class="php-comment">// Handle dataset file references (kTAG_REFS).</span>
<a href="#9547" id="9547" class="l"> 9547: </a>        <span class="php-comment">//</span>
<a href="#9548" id="9548" class="l"> 9548: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9549" id="9549" class="l"> 9549: </a>                                   COntologyTerm::HashIndex( kTAG_REFS ) );
<a href="#9550" id="9550" class="l"> 9550: </a>        <span class="php-comment">//</span>
<a href="#9551" id="9551" class="l"> 9551: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9552" id="9552" class="l"> 9552: </a>        <span class="php-comment">//</span>
<a href="#9553" id="9553" class="l"> 9553: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9554" id="9554" class="l"> 9554: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9555" id="9555" class="l"> 9555: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9556" id="9556" class="l"> 9556: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_MongoId );
<a href="#9557" id="9557" class="l"> 9557: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#9558" id="9558" class="l"> 9558: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9559" id="9559" class="l"> 9559: </a>        <span class="php-comment">//</span>
<a href="#9560" id="9560" class="l"> 9560: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9561" id="9561" class="l"> 9561: </a>        <span class="php-comment">//</span>
<a href="#9562" id="9562" class="l"> 9562: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kOFFSET_FILES ] );
<a href="#9563" id="9563" class="l"> 9563: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9564" id="9564" class="l"> 9564: </a>        <span class="php-comment">//</span>
<a href="#9565" id="9565" class="l"> 9565: </a>        <span class="php-comment">// Display.</span>
<a href="#9566" id="9566" class="l"> 9566: </a>        <span class="php-comment">//</span>
<a href="#9567" id="9567" class="l"> 9567: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9568" id="9568" class="l"> 9568: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_REFS) &quot;</span>
<a href="#9569" id="9569" class="l"> 9569: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9570" id="9570" class="l"> 9570: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9571" id="9571" class="l"> 9571: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9572" id="9572" class="l"> 9572: </a>     
<a href="#9573" id="9573" class="l"> 9573: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9574" id="9574" class="l"> 9574: </a><span class="php-comment">         *  kTAG_STATUS                                                                  *
</span><a href="#9575" id="9575" class="l"> 9575: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9576" id="9576" class="l"> 9576: </a>
<a href="#9577" id="9577" class="l"> 9577: </a>        <span class="php-comment">//</span>
<a href="#9578" id="9578" class="l"> 9578: </a>        <span class="php-comment">// Handle dataset provided file status (kTAG_STATUS).</span>
<a href="#9579" id="9579" class="l"> 9579: </a>        <span class="php-comment">//</span>
<a href="#9580" id="9580" class="l"> 9580: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9581" id="9581" class="l"> 9581: </a>                                   COntologyTerm::HashIndex( kTAG_STATUS ) );
<a href="#9582" id="9582" class="l"> 9582: </a>        <span class="php-comment">//</span>
<a href="#9583" id="9583" class="l"> 9583: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9584" id="9584" class="l"> 9584: </a>        <span class="php-comment">//</span>
<a href="#9585" id="9585" class="l"> 9585: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9586" id="9586" class="l"> 9586: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9587" id="9587" class="l"> 9587: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9588" id="9588" class="l"> 9588: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#9589" id="9589" class="l"> 9589: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#9590" id="9590" class="l"> 9590: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9591" id="9591" class="l"> 9591: </a>        <span class="php-comment">//</span>
<a href="#9592" id="9592" class="l"> 9592: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9593" id="9593" class="l"> 9593: </a>        <span class="php-comment">//</span>
<a href="#9594" id="9594" class="l"> 9594: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kOFFSET_FILES ] );
<a href="#9595" id="9595" class="l"> 9595: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9596" id="9596" class="l"> 9596: </a>        <span class="php-comment">//</span>
<a href="#9597" id="9597" class="l"> 9597: </a>        <span class="php-comment">// Display.</span>
<a href="#9598" id="9598" class="l"> 9598: </a>        <span class="php-comment">//</span>
<a href="#9599" id="9599" class="l"> 9599: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9600" id="9600" class="l"> 9600: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_STATUS) &quot;</span>
<a href="#9601" id="9601" class="l"> 9601: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9602" id="9602" class="l"> 9602: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9603" id="9603" class="l"> 9603: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9604" id="9604" class="l"> 9604: </a>     
<a href="#9605" id="9605" class="l"> 9605: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9606" id="9606" class="l"> 9606: </a><span class="php-comment">         *  kTAG_KIND                                                                    *
</span><a href="#9607" id="9607" class="l"> 9607: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9608" id="9608" class="l"> 9608: </a>
<a href="#9609" id="9609" class="l"> 9609: </a>        <span class="php-comment">//</span>
<a href="#9610" id="9610" class="l"> 9610: </a>        <span class="php-comment">// Handle dataset file kind (kTAG_KIND).</span>
<a href="#9611" id="9611" class="l"> 9611: </a>        <span class="php-comment">//</span>
<a href="#9612" id="9612" class="l"> 9612: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9613" id="9613" class="l"> 9613: </a>                                   COntologyTerm::HashIndex( kTAG_KIND ) );
<a href="#9614" id="9614" class="l"> 9614: </a>        <span class="php-comment">//</span>
<a href="#9615" id="9615" class="l"> 9615: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9616" id="9616" class="l"> 9616: </a>        <span class="php-comment">//</span>
<a href="#9617" id="9617" class="l"> 9617: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9618" id="9618" class="l"> 9618: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9619" id="9619" class="l"> 9619: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9620" id="9620" class="l"> 9620: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#9621" id="9621" class="l"> 9621: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#9622" id="9622" class="l"> 9622: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9623" id="9623" class="l"> 9623: </a>        <span class="php-comment">//</span>
<a href="#9624" id="9624" class="l"> 9624: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9625" id="9625" class="l"> 9625: </a>        <span class="php-comment">//</span>
<a href="#9626" id="9626" class="l"> 9626: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kOFFSET_FILES ] );
<a href="#9627" id="9627" class="l"> 9627: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9628" id="9628" class="l"> 9628: </a>        <span class="php-comment">//</span>
<a href="#9629" id="9629" class="l"> 9629: </a>        <span class="php-comment">// Display.</span>
<a href="#9630" id="9630" class="l"> 9630: </a>        <span class="php-comment">//</span>
<a href="#9631" id="9631" class="l"> 9631: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9632" id="9632" class="l"> 9632: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_KIND) &quot;</span>
<a href="#9633" id="9633" class="l"> 9633: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9634" id="9634" class="l"> 9634: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9635" id="9635" class="l"> 9635: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9636" id="9636" class="l"> 9636: </a>     
<a href="#9637" id="9637" class="l"> 9637: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9638" id="9638" class="l"> 9638: </a><span class="php-comment">         *  kOFFSET_COLS                                                                 *
</span><a href="#9639" id="9639" class="l"> 9639: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9640" id="9640" class="l"> 9640: </a>
<a href="#9641" id="9641" class="l"> 9641: </a>        <span class="php-comment">//</span>
<a href="#9642" id="9642" class="l"> 9642: </a>        <span class="php-comment">// Handle dataset file column metadata (kOFFSET_COLS).</span>
<a href="#9643" id="9643" class="l"> 9643: </a>        <span class="php-comment">//</span>
<a href="#9644" id="9644" class="l"> 9644: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9645" id="9645" class="l"> 9645: </a>                                   COntologyTerm::HashIndex( kOFFSET_COLS ) );
<a href="#9646" id="9646" class="l"> 9646: </a>        <span class="php-comment">//</span>
<a href="#9647" id="9647" class="l"> 9647: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9648" id="9648" class="l"> 9648: </a>        <span class="php-comment">//</span>
<a href="#9649" id="9649" class="l"> 9649: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9650" id="9650" class="l"> 9650: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9651" id="9651" class="l"> 9651: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#9652" id="9652" class="l"> 9652: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_LIST );
<a href="#9653" id="9653" class="l"> 9653: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_ANY );
<a href="#9654" id="9654" class="l"> 9654: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9655" id="9655" class="l"> 9655: </a>        <span class="php-comment">//</span>
<a href="#9656" id="9656" class="l"> 9656: </a>        <span class="php-comment">// Save node.</span>
<a href="#9657" id="9657" class="l"> 9657: </a>        <span class="php-comment">//</span>
<a href="#9658" id="9658" class="l"> 9658: </a>        <span class="php-var">$nodes</span>[ kOFFSET_COLS ] = <span class="php-var">$node</span>;
<a href="#9659" id="9659" class="l"> 9659: </a>        <span class="php-comment">//</span>
<a href="#9660" id="9660" class="l"> 9660: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9661" id="9661" class="l"> 9661: </a>        <span class="php-comment">//</span>
<a href="#9662" id="9662" class="l"> 9662: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kOFFSET_FILES ] );
<a href="#9663" id="9663" class="l"> 9663: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9664" id="9664" class="l"> 9664: </a>        <span class="php-comment">//</span>
<a href="#9665" id="9665" class="l"> 9665: </a>        <span class="php-comment">// Display.</span>
<a href="#9666" id="9666" class="l"> 9666: </a>        <span class="php-comment">//</span>
<a href="#9667" id="9667" class="l"> 9667: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9668" id="9668" class="l"> 9668: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kOFFSET_COLS) &quot;</span>
<a href="#9669" id="9669" class="l"> 9669: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9670" id="9670" class="l"> 9670: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9671" id="9671" class="l"> 9671: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9672" id="9672" class="l"> 9672: </a>     
<a href="#9673" id="9673" class="l"> 9673: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9674" id="9674" class="l"> 9674: </a><span class="php-comment">         *  kTAG_TAG                                                                     *
</span><a href="#9675" id="9675" class="l"> 9675: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9676" id="9676" class="l"> 9676: </a>
<a href="#9677" id="9677" class="l"> 9677: </a>        <span class="php-comment">//</span>
<a href="#9678" id="9678" class="l"> 9678: </a>        <span class="php-comment">// Handle dataset generated file column metadata tag (kTAG_TAG).</span>
<a href="#9679" id="9679" class="l"> 9679: </a>        <span class="php-comment">//</span>
<a href="#9680" id="9680" class="l"> 9680: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9681" id="9681" class="l"> 9681: </a>                                   COntologyTerm::HashIndex( kTAG_TAG ) );
<a href="#9682" id="9682" class="l"> 9682: </a>        <span class="php-comment">//</span>
<a href="#9683" id="9683" class="l"> 9683: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9684" id="9684" class="l"> 9684: </a>        <span class="php-comment">//</span>
<a href="#9685" id="9685" class="l"> 9685: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9686" id="9686" class="l"> 9686: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9687" id="9687" class="l"> 9687: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9688" id="9688" class="l"> 9688: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#9689" id="9689" class="l"> 9689: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#9690" id="9690" class="l"> 9690: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9691" id="9691" class="l"> 9691: </a>        <span class="php-comment">//</span>
<a href="#9692" id="9692" class="l"> 9692: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9693" id="9693" class="l"> 9693: </a>        <span class="php-comment">//</span>
<a href="#9694" id="9694" class="l"> 9694: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kOFFSET_COLS ] );
<a href="#9695" id="9695" class="l"> 9695: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9696" id="9696" class="l"> 9696: </a>        <span class="php-comment">//</span>
<a href="#9697" id="9697" class="l"> 9697: </a>        <span class="php-comment">// Display.</span>
<a href="#9698" id="9698" class="l"> 9698: </a>        <span class="php-comment">//</span>
<a href="#9699" id="9699" class="l"> 9699: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9700" id="9700" class="l"> 9700: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_TAG) &quot;</span>
<a href="#9701" id="9701" class="l"> 9701: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9702" id="9702" class="l"> 9702: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9703" id="9703" class="l"> 9703: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9704" id="9704" class="l"> 9704: </a>     
<a href="#9705" id="9705" class="l"> 9705: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9706" id="9706" class="l"> 9706: </a><span class="php-comment">         *  kTAG_TITLE                                                                   *
</span><a href="#9707" id="9707" class="l"> 9707: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9708" id="9708" class="l"> 9708: </a>
<a href="#9709" id="9709" class="l"> 9709: </a>        <span class="php-comment">//</span>
<a href="#9710" id="9710" class="l"> 9710: </a>        <span class="php-comment">// Handle dataset generated file column metadata title (kTAG_TITLE).</span>
<a href="#9711" id="9711" class="l"> 9711: </a>        <span class="php-comment">//</span>
<a href="#9712" id="9712" class="l"> 9712: </a>        <span class="php-var">$term</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, 
<a href="#9713" id="9713" class="l"> 9713: </a>                                   COntologyTerm::HashIndex( kTAG_TITLE ) );
<a href="#9714" id="9714" class="l"> 9714: </a>        <span class="php-comment">//</span>
<a href="#9715" id="9715" class="l"> 9715: </a>        <span class="php-comment">// Handle node.</span>
<a href="#9716" id="9716" class="l"> 9716: </a>        <span class="php-comment">//</span>
<a href="#9717" id="9717" class="l"> 9717: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9718" id="9718" class="l"> 9718: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9719" id="9719" class="l"> 9719: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9720" id="9720" class="l"> 9720: </a>        <span class="php-var">$node</span>-&gt;Type( kTYPE_STRING );
<a href="#9721" id="9721" class="l"> 9721: </a>        <span class="php-var">$node</span>-&gt;Cardinality( kCARD_1 );
<a href="#9722" id="9722" class="l"> 9722: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9723" id="9723" class="l"> 9723: </a>        <span class="php-comment">//</span>
<a href="#9724" id="9724" class="l"> 9724: </a>        <span class="php-comment">// Handle edge.</span>
<a href="#9725" id="9725" class="l"> 9725: </a>        <span class="php-comment">//</span>
<a href="#9726" id="9726" class="l"> 9726: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$component_of</span>, <span class="php-var">$nodes</span>[ kOFFSET_COLS ] );
<a href="#9727" id="9727" class="l"> 9727: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9728" id="9728" class="l"> 9728: </a>        <span class="php-comment">//</span>
<a href="#9729" id="9729" class="l"> 9729: </a>        <span class="php-comment">// Display.</span>
<a href="#9730" id="9730" class="l"> 9730: </a>        <span class="php-comment">//</span>
<a href="#9731" id="9731" class="l"> 9731: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9732" id="9732" class="l"> 9732: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] (kTAG_TITLE) &quot;</span>
<a href="#9733" id="9733" class="l"> 9733: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9734" id="9734" class="l"> 9734: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9735" id="9735" class="l"> 9735: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9736" id="9736" class="l"> 9736: </a>        
<a href="#9737" id="9737" class="l"> 9737: </a>    } <span class="php-comment">// LoadDatasetDatadict.</span>
<a href="#9738" id="9738" class="l"> 9738: </a>
<a href="#9739" id="9739" class="l"> 9739: </a>
<a href="#9740" id="9740" class="l"> 9740: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#9741" id="9741" class="l"> 9741: </a><span class="php-comment">     *  LoadFAOInstituteDDict                                                           *
</span><a href="#9742" id="9742" class="l"> 9742: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#9743" id="9743" class="l"> 9743: </a>
<a href="#9744" id="9744" class="l"> 9744: </a>    <span class="php-comment">/**
</span><a href="#9745" id="9745" class="l"> 9745: </a><span class="php-comment">     * Load MCPD.
</span><a href="#9746" id="9746" class="l"> 9746: </a><span class="php-comment">     *
</span><a href="#9747" id="9747" class="l"> 9747: </a><span class="php-comment">     * Load FAO/WIEWS institutes data sictionary.
</span><a href="#9748" id="9748" class="l"> 9748: </a><span class="php-comment">     *
</span><a href="#9749" id="9749" class="l"> 9749: </a><span class="php-comment">     * This function will load the FAO/WIEWS institutes ontology.
</span><a href="#9750" id="9750" class="l"> 9750: </a><span class="php-comment">     *
</span><a href="#9751" id="9751" class="l"> 9751: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#9752" id="9752" class="l"> 9752: </a><span class="php-comment">     * created terms.
</span><a href="#9753" id="9753" class="l"> 9753: </a><span class="php-comment">     *
</span><a href="#9754" id="9754" class="l"> 9754: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#9755" id="9755" class="l"> 9755: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#9756" id="9756" class="l"> 9756: </a><span class="php-comment">     *
</span><a href="#9757" id="9757" class="l"> 9757: </a><span class="php-comment">     * @access protected
</span><a href="#9758" id="9758" class="l"> 9758: </a><span class="php-comment">     */</span>
<a href="#9759" id="9759" class="l"> 9759: </a>    <span class="php-keyword1">function</span> LoadFAOInstituteDDict( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#9760" id="9760" class="l"> 9760: </a>    {
<a href="#9761" id="9761" class="l"> 9761: </a>        <span class="php-comment">//</span>
<a href="#9762" id="9762" class="l"> 9762: </a>        <span class="php-comment">// Init local storage.</span>
<a href="#9763" id="9763" class="l"> 9763: </a>        <span class="php-comment">//</span>
<a href="#9764" id="9764" class="l"> 9764: </a>        <span class="php-var">$nodes</span> = <span class="php-keyword1">Array</span>();
<a href="#9765" id="9765" class="l"> 9765: </a>        <span class="php-var">$container</span> = <span class="php-keyword1">array</span>( kTAG_TERM =&gt; <span class="php-var">$theContainer</span>,
<a href="#9766" id="9766" class="l"> 9766: </a>                            kTAG_NODE =&gt; <span class="php-var">$_SESSION</span>[ kSESSION_NEO4J ] );
<a href="#9767" id="9767" class="l"> 9767: </a>        
<a href="#9768" id="9768" class="l"> 9768: </a>        <span class="php-comment">//</span>
<a href="#9769" id="9769" class="l"> 9769: </a>        <span class="php-comment">// Inform.</span>
<a href="#9770" id="9770" class="l"> 9770: </a>        <span class="php-comment">//</span>
<a href="#9771" id="9771" class="l"> 9771: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9772" id="9772" class="l"> 9772: </a>        {
<a href="#9773" id="9773" class="l"> 9773: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9774" id="9774" class="l"> 9774: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#9775" id="9775" class="l"> 9775: </a>        }
<a href="#9776" id="9776" class="l"> 9776: </a>        
<a href="#9777" id="9777" class="l"> 9777: </a>        <span class="php-comment">//</span>
<a href="#9778" id="9778" class="l"> 9778: </a>        <span class="php-comment">// IS-A.</span>
<a href="#9779" id="9779" class="l"> 9779: </a>        <span class="php-comment">//</span>
<a href="#9780" id="9780" class="l"> 9780: </a>        <span class="php-var">$is_a</span> = <span class="php-keyword1">new</span> COntologyTerm
<a href="#9781" id="9781" class="l"> 9781: </a>                        ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kPRED_IS_A ) );
<a href="#9782" id="9782" class="l"> 9782: </a>        
<a href="#9783" id="9783" class="l"> 9783: </a>        <span class="php-comment">//</span>
<a href="#9784" id="9784" class="l"> 9784: </a>        <span class="php-comment">// Get FAO institutes namespace.</span>
<a href="#9785" id="9785" class="l"> 9785: </a>        <span class="php-comment">//</span>
<a href="#9786" id="9786" class="l"> 9786: </a>        <span class="php-var">$ns</span> = <span class="php-keyword1">new</span> COntologyTerm( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST'</span> ) );
<a href="#9787" id="9787" class="l"> 9787: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>( (string) <span class="php-var">$ns</span> ) + <span class="php-num">1</span>;
<a href="#9788" id="9788" class="l"> 9788: </a>        
<a href="#9789" id="9789" class="l"> 9789: </a>        <span class="php-comment">//</span>
<a href="#9790" id="9790" class="l"> 9790: </a>        <span class="php-comment">// Create node.</span>
<a href="#9791" id="9791" class="l"> 9791: </a>        <span class="php-comment">//</span>
<a href="#9792" id="9792" class="l"> 9792: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9793" id="9793" class="l"> 9793: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$ns</span> );
<a href="#9794" id="9794" class="l"> 9794: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_ROOT, <span class="php-keyword1">TRUE</span> );
<a href="#9795" id="9795" class="l"> 9795: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_DICTIONARY, <span class="php-keyword1">TRUE</span> );
<a href="#9796" id="9796" class="l"> 9796: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9797" id="9797" class="l"> 9797: </a>        <span class="php-comment">//</span>
<a href="#9798" id="9798" class="l"> 9798: </a>        <span class="php-comment">// Save node.</span>
<a href="#9799" id="9799" class="l"> 9799: </a>        <span class="php-comment">//</span>
<a href="#9800" id="9800" class="l"> 9800: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] = <span class="php-var">$node</span>;
<a href="#9801" id="9801" class="l"> 9801: </a>     
<a href="#9802" id="9802" class="l"> 9802: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9803" id="9803" class="l"> 9803: </a><span class="php-comment">         *  INSTCODE                                                                     *
</span><a href="#9804" id="9804" class="l"> 9804: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9805" id="9805" class="l"> 9805: </a>
<a href="#9806" id="9806" class="l"> 9806: </a>        <span class="php-comment">//</span>
<a href="#9807" id="9807" class="l"> 9807: </a>        <span class="php-comment">// Node.</span>
<a href="#9808" id="9808" class="l"> 9808: </a>        <span class="php-comment">//</span>
<a href="#9809" id="9809" class="l"> 9809: </a>        <span class="php-var">$node</span> = <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ <span class="php-quote">'INSTCODE'</span> ];
<a href="#9810" id="9810" class="l"> 9810: </a>        
<a href="#9811" id="9811" class="l"> 9811: </a>        <span class="php-comment">//</span>
<a href="#9812" id="9812" class="l"> 9812: </a>        <span class="php-comment">// Edge.</span>
<a href="#9813" id="9813" class="l"> 9813: </a>        <span class="php-comment">//</span>
<a href="#9814" id="9814" class="l"> 9814: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#9815" id="9815" class="l"> 9815: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9816" id="9816" class="l"> 9816: </a>        
<a href="#9817" id="9817" class="l"> 9817: </a>        <span class="php-comment">//</span>
<a href="#9818" id="9818" class="l"> 9818: </a>        <span class="php-comment">// Display.</span>
<a href="#9819" id="9819" class="l"> 9819: </a>        <span class="php-comment">//</span>
<a href="#9820" id="9820" class="l"> 9820: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9821" id="9821" class="l"> 9821: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[&quot;</span>.<span class="php-var">$node</span>-&gt;Term()-&gt;GID().<span class="php-quote">&quot;] &quot;</span>
<a href="#9822" id="9822" class="l"> 9822: </a>                 .<span class="php-var">$node</span>-&gt;Term()-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9823" id="9823" class="l"> 9823: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9824" id="9824" class="l"> 9824: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9825" id="9825" class="l"> 9825: </a>     
<a href="#9826" id="9826" class="l"> 9826: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9827" id="9827" class="l"> 9827: </a><span class="php-comment">         *  ACRONYM                                                                      *
</span><a href="#9828" id="9828" class="l"> 9828: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9829" id="9829" class="l"> 9829: </a>
<a href="#9830" id="9830" class="l"> 9830: </a>        <span class="php-comment">//</span>
<a href="#9831" id="9831" class="l"> 9831: </a>        <span class="php-comment">// Term.</span>
<a href="#9832" id="9832" class="l"> 9832: </a>        <span class="php-comment">//</span>
<a href="#9833" id="9833" class="l"> 9833: </a>        <span class="php-var">$term</span>
<a href="#9834" id="9834" class="l"> 9834: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#9835" id="9835" class="l"> 9835: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:ACRONYM'</span> ) );
<a href="#9836" id="9836" class="l"> 9836: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#9837" id="9837" class="l"> 9837: </a>        {
<a href="#9838" id="9838" class="l"> 9838: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#9839" id="9839" class="l"> 9839: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ACRONYM'</span> );
<a href="#9840" id="9840" class="l"> 9840: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Collecting number'</span>, kDEFAULT_LANGUAGE );
<a href="#9841" id="9841" class="l"> 9841: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#9842" id="9842" class="l"> 9842: </a>            ( <span class="php-quote">'Original number assigned by the collector(s) of the sample, normally '</span>
<a href="#9843" id="9843" class="l"> 9843: </a>             .<span class="php-quote">'composed of the name or initials of the collector(s) followed by a number. '</span>
<a href="#9844" id="9844" class="l"> 9844: </a>             .<span class="php-quote">'This number is essential for identifying duplicates held in different '</span>
<a href="#9845" id="9845" class="l"> 9845: </a>             .<span class="php-quote">'collections.'</span>,
<a href="#9846" id="9846" class="l"> 9846: </a>              kDEFAULT_LANGUAGE );
<a href="#9847" id="9847" class="l"> 9847: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#9848" id="9848" class="l"> 9848: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#9849" id="9849" class="l"> 9849: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#9850" id="9850" class="l"> 9850: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'USAID'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#9851" id="9851" class="l"> 9851: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'BMZ'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#9852" id="9852" class="l"> 9852: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#9853" id="9853" class="l"> 9853: </a>        }
<a href="#9854" id="9854" class="l"> 9854: </a>        
<a href="#9855" id="9855" class="l"> 9855: </a>        <span class="php-comment">//</span>
<a href="#9856" id="9856" class="l"> 9856: </a>        <span class="php-comment">// Node.</span>
<a href="#9857" id="9857" class="l"> 9857: </a>        <span class="php-comment">//</span>
<a href="#9858" id="9858" class="l"> 9858: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9859" id="9859" class="l"> 9859: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9860" id="9860" class="l"> 9860: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#9861" id="9861" class="l"> 9861: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9862" id="9862" class="l"> 9862: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9863" id="9863" class="l"> 9863: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ACRONYM'</span> ] = <span class="php-var">$node</span>;
<a href="#9864" id="9864" class="l"> 9864: </a>        
<a href="#9865" id="9865" class="l"> 9865: </a>        <span class="php-comment">//</span>
<a href="#9866" id="9866" class="l"> 9866: </a>        <span class="php-comment">// Edge.</span>
<a href="#9867" id="9867" class="l"> 9867: </a>        <span class="php-comment">//</span>
<a href="#9868" id="9868" class="l"> 9868: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#9869" id="9869" class="l"> 9869: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9870" id="9870" class="l"> 9870: </a>        
<a href="#9871" id="9871" class="l"> 9871: </a>        <span class="php-comment">//</span>
<a href="#9872" id="9872" class="l"> 9872: </a>        <span class="php-comment">// Display.</span>
<a href="#9873" id="9873" class="l"> 9873: </a>        <span class="php-comment">//</span>
<a href="#9874" id="9874" class="l"> 9874: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9875" id="9875" class="l"> 9875: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#9876" id="9876" class="l"> 9876: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9877" id="9877" class="l"> 9877: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9878" id="9878" class="l"> 9878: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9879" id="9879" class="l"> 9879: </a>     
<a href="#9880" id="9880" class="l"> 9880: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9881" id="9881" class="l"> 9881: </a><span class="php-comment">         *  ECPACRONYM                                                                   *
</span><a href="#9882" id="9882" class="l"> 9882: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9883" id="9883" class="l"> 9883: </a>
<a href="#9884" id="9884" class="l"> 9884: </a>        <span class="php-comment">//</span>
<a href="#9885" id="9885" class="l"> 9885: </a>        <span class="php-comment">// Term.</span>
<a href="#9886" id="9886" class="l"> 9886: </a>        <span class="php-comment">//</span>
<a href="#9887" id="9887" class="l"> 9887: </a>        <span class="php-var">$term</span>
<a href="#9888" id="9888" class="l"> 9888: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#9889" id="9889" class="l"> 9889: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kENTITY_INST_FAO_EPACRONYM ) );
<a href="#9890" id="9890" class="l"> 9890: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#9891" id="9891" class="l"> 9891: </a>            <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> CException( <span class="php-quote">'Missing ECPACRONYM of FAO institutes.'</span> );    <span class="php-comment">// !@! ==&gt;</span>
<a href="#9892" id="9892" class="l"> 9892: </a>        
<a href="#9893" id="9893" class="l"> 9893: </a>        <span class="php-comment">//</span>
<a href="#9894" id="9894" class="l"> 9894: </a>        <span class="php-comment">// Node.</span>
<a href="#9895" id="9895" class="l"> 9895: </a>        <span class="php-comment">//</span>
<a href="#9896" id="9896" class="l"> 9896: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9897" id="9897" class="l"> 9897: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9898" id="9898" class="l"> 9898: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#9899" id="9899" class="l"> 9899: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9900" id="9900" class="l"> 9900: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9901" id="9901" class="l"> 9901: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ACRONYM'</span> ] = <span class="php-var">$node</span>;
<a href="#9902" id="9902" class="l"> 9902: </a>        
<a href="#9903" id="9903" class="l"> 9903: </a>        <span class="php-comment">//</span>
<a href="#9904" id="9904" class="l"> 9904: </a>        <span class="php-comment">// Edge.</span>
<a href="#9905" id="9905" class="l"> 9905: </a>        <span class="php-comment">//</span>
<a href="#9906" id="9906" class="l"> 9906: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#9907" id="9907" class="l"> 9907: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9908" id="9908" class="l"> 9908: </a>        
<a href="#9909" id="9909" class="l"> 9909: </a>        <span class="php-comment">//</span>
<a href="#9910" id="9910" class="l"> 9910: </a>        <span class="php-comment">// Display.</span>
<a href="#9911" id="9911" class="l"> 9911: </a>        <span class="php-comment">//</span>
<a href="#9912" id="9912" class="l"> 9912: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9913" id="9913" class="l"> 9913: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#9914" id="9914" class="l"> 9914: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9915" id="9915" class="l"> 9915: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9916" id="9916" class="l"> 9916: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9917" id="9917" class="l"> 9917: </a>     
<a href="#9918" id="9918" class="l"> 9918: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9919" id="9919" class="l"> 9919: </a><span class="php-comment">         *  FULL_NAME                                                                    *
</span><a href="#9920" id="9920" class="l"> 9920: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9921" id="9921" class="l"> 9921: </a>
<a href="#9922" id="9922" class="l"> 9922: </a>        <span class="php-comment">//</span>
<a href="#9923" id="9923" class="l"> 9923: </a>        <span class="php-comment">// Term.</span>
<a href="#9924" id="9924" class="l"> 9924: </a>        <span class="php-comment">//</span>
<a href="#9925" id="9925" class="l"> 9925: </a>        <span class="php-var">$term</span>
<a href="#9926" id="9926" class="l"> 9926: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#9927" id="9927" class="l"> 9927: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:FULL_NAME'</span> ) );
<a href="#9928" id="9928" class="l"> 9928: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#9929" id="9929" class="l"> 9929: </a>        {
<a href="#9930" id="9930" class="l"> 9930: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#9931" id="9931" class="l"> 9931: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'FULL_NAME'</span> );
<a href="#9932" id="9932" class="l"> 9932: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Full name'</span>, kDEFAULT_LANGUAGE );
<a href="#9933" id="9933" class="l"> 9933: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#9934" id="9934" class="l"> 9934: </a>            ( <span class="php-quote">'Full institution name.'</span>,
<a href="#9935" id="9935" class="l"> 9935: </a>              kDEFAULT_LANGUAGE );
<a href="#9936" id="9936" class="l"> 9936: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#9937" id="9937" class="l"> 9937: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#9938" id="9938" class="l"> 9938: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#9939" id="9939" class="l"> 9939: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Pan American Development Foundation'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#9940" id="9940" class="l"> 9940: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Department of agricultural Extension/Education'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#9941" id="9941" class="l"> 9941: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#9942" id="9942" class="l"> 9942: </a>        }
<a href="#9943" id="9943" class="l"> 9943: </a>        
<a href="#9944" id="9944" class="l"> 9944: </a>        <span class="php-comment">//</span>
<a href="#9945" id="9945" class="l"> 9945: </a>        <span class="php-comment">// Node.</span>
<a href="#9946" id="9946" class="l"> 9946: </a>        <span class="php-comment">//</span>
<a href="#9947" id="9947" class="l"> 9947: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9948" id="9948" class="l"> 9948: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9949" id="9949" class="l"> 9949: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#9950" id="9950" class="l"> 9950: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9951" id="9951" class="l"> 9951: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9952" id="9952" class="l"> 9952: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'FULL_NAME'</span> ] = <span class="php-var">$node</span>;
<a href="#9953" id="9953" class="l"> 9953: </a>        
<a href="#9954" id="9954" class="l"> 9954: </a>        <span class="php-comment">//</span>
<a href="#9955" id="9955" class="l"> 9955: </a>        <span class="php-comment">// Edge.</span>
<a href="#9956" id="9956" class="l"> 9956: </a>        <span class="php-comment">//</span>
<a href="#9957" id="9957" class="l"> 9957: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#9958" id="9958" class="l"> 9958: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9959" id="9959" class="l"> 9959: </a>        
<a href="#9960" id="9960" class="l"> 9960: </a>        <span class="php-comment">//</span>
<a href="#9961" id="9961" class="l"> 9961: </a>        <span class="php-comment">// Display.</span>
<a href="#9962" id="9962" class="l"> 9962: </a>        <span class="php-comment">//</span>
<a href="#9963" id="9963" class="l"> 9963: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#9964" id="9964" class="l"> 9964: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#9965" id="9965" class="l"> 9965: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#9966" id="9966" class="l"> 9966: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#9967" id="9967" class="l"> 9967: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#9968" id="9968" class="l"> 9968: </a>     
<a href="#9969" id="9969" class="l"> 9969: </a>        <span class="php-comment">/*================================================================================
</span><a href="#9970" id="9970" class="l"> 9970: </a><span class="php-comment">         *  TYPE                                                                         *
</span><a href="#9971" id="9971" class="l"> 9971: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#9972" id="9972" class="l"> 9972: </a>
<a href="#9973" id="9973" class="l"> 9973: </a>        <span class="php-comment">//</span>
<a href="#9974" id="9974" class="l"> 9974: </a>        <span class="php-comment">// Term.</span>
<a href="#9975" id="9975" class="l"> 9975: </a>        <span class="php-comment">//</span>
<a href="#9976" id="9976" class="l"> 9976: </a>        <span class="php-var">$term</span>
<a href="#9977" id="9977" class="l"> 9977: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#9978" id="9978" class="l"> 9978: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kENTITY_INST_FAO_TYPE ) );
<a href="#9979" id="9979" class="l"> 9979: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#9980" id="9980" class="l"> 9980: </a>            <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> CException( <span class="php-quote">'Missing TYPE of FAO institutes.'</span> );  <span class="php-comment">// !@! ==&gt;</span>
<a href="#9981" id="9981" class="l"> 9981: </a>        
<a href="#9982" id="9982" class="l"> 9982: </a>        <span class="php-comment">//</span>
<a href="#9983" id="9983" class="l"> 9983: </a>        <span class="php-comment">// Node.</span>
<a href="#9984" id="9984" class="l"> 9984: </a>        <span class="php-comment">//</span>
<a href="#9985" id="9985" class="l"> 9985: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#9986" id="9986" class="l"> 9986: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#9987" id="9987" class="l"> 9987: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#9988" id="9988" class="l"> 9988: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#9989" id="9989" class="l"> 9989: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9990" id="9990" class="l"> 9990: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'TYPE'</span> ] = <span class="php-var">$node</span>;
<a href="#9991" id="9991" class="l"> 9991: </a>        
<a href="#9992" id="9992" class="l"> 9992: </a>        <span class="php-comment">//</span>
<a href="#9993" id="9993" class="l"> 9993: </a>        <span class="php-comment">// Edge.</span>
<a href="#9994" id="9994" class="l"> 9994: </a>        <span class="php-comment">//</span>
<a href="#9995" id="9995" class="l"> 9995: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#9996" id="9996" class="l"> 9996: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#9997" id="9997" class="l"> 9997: </a>        
<a href="#9998" id="9998" class="l"> 9998: </a>        <span class="php-comment">//</span>
<a href="#9999" id="9999" class="l"> 9999: </a>        <span class="php-comment">// Display.</span>
<a href="#10000" id="10000" class="l">10000: </a>        <span class="php-comment">//</span>
<a href="#10001" id="10001" class="l">10001: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10002" id="10002" class="l">10002: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10003" id="10003" class="l">10003: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10004" id="10004" class="l">10004: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10005" id="10005" class="l">10005: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10006" id="10006" class="l">10006: </a>     
<a href="#10007" id="10007" class="l">10007: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10008" id="10008" class="l">10008: </a><span class="php-comment">         *  PGR_ACTIVITY                                                                 *
</span><a href="#10009" id="10009" class="l">10009: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10010" id="10010" class="l">10010: </a>
<a href="#10011" id="10011" class="l">10011: </a>        <span class="php-comment">//</span>
<a href="#10012" id="10012" class="l">10012: </a>        <span class="php-comment">// Term.</span>
<a href="#10013" id="10013" class="l">10013: </a>        <span class="php-comment">//</span>
<a href="#10014" id="10014" class="l">10014: </a>        <span class="php-var">$term</span>
<a href="#10015" id="10015" class="l">10015: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10016" id="10016" class="l">10016: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kENTITY_INST_FAO_ACT_PGR ) );
<a href="#10017" id="10017" class="l">10017: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10018" id="10018" class="l">10018: </a>            <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> CException( <span class="php-quote">'Missing PGR_ACTIVITY of FAO institutes.'</span> );  <span class="php-comment">// !@! ==&gt;</span>
<a href="#10019" id="10019" class="l">10019: </a>        
<a href="#10020" id="10020" class="l">10020: </a>        <span class="php-comment">//</span>
<a href="#10021" id="10021" class="l">10021: </a>        <span class="php-comment">// Node.</span>
<a href="#10022" id="10022" class="l">10022: </a>        <span class="php-comment">//</span>
<a href="#10023" id="10023" class="l">10023: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10024" id="10024" class="l">10024: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10025" id="10025" class="l">10025: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10026" id="10026" class="l">10026: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10027" id="10027" class="l">10027: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10028" id="10028" class="l">10028: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'PGR_ACTIVITY'</span> ] = <span class="php-var">$node</span>;
<a href="#10029" id="10029" class="l">10029: </a>        
<a href="#10030" id="10030" class="l">10030: </a>        <span class="php-comment">//</span>
<a href="#10031" id="10031" class="l">10031: </a>        <span class="php-comment">// Edge.</span>
<a href="#10032" id="10032" class="l">10032: </a>        <span class="php-comment">//</span>
<a href="#10033" id="10033" class="l">10033: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10034" id="10034" class="l">10034: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10035" id="10035" class="l">10035: </a>        
<a href="#10036" id="10036" class="l">10036: </a>        <span class="php-comment">//</span>
<a href="#10037" id="10037" class="l">10037: </a>        <span class="php-comment">// Display.</span>
<a href="#10038" id="10038" class="l">10038: </a>        <span class="php-comment">//</span>
<a href="#10039" id="10039" class="l">10039: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10040" id="10040" class="l">10040: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10041" id="10041" class="l">10041: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10042" id="10042" class="l">10042: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10043" id="10043" class="l">10043: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10044" id="10044" class="l">10044: </a>     
<a href="#10045" id="10045" class="l">10045: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10046" id="10046" class="l">10046: </a><span class="php-comment">         *  MAINTCOLL                                                                    *
</span><a href="#10047" id="10047" class="l">10047: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10048" id="10048" class="l">10048: </a>
<a href="#10049" id="10049" class="l">10049: </a>        <span class="php-comment">//</span>
<a href="#10050" id="10050" class="l">10050: </a>        <span class="php-comment">// Term.</span>
<a href="#10051" id="10051" class="l">10051: </a>        <span class="php-comment">//</span>
<a href="#10052" id="10052" class="l">10052: </a>        <span class="php-var">$term</span>
<a href="#10053" id="10053" class="l">10053: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10054" id="10054" class="l">10054: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( kENTITY_INST_FAO_ACT_COLL ) );
<a href="#10055" id="10055" class="l">10055: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10056" id="10056" class="l">10056: </a>            <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> CException( <span class="php-quote">'Missing MAINTCOLL of FAO institutes.'</span> ); <span class="php-comment">// !@! ==&gt;</span>
<a href="#10057" id="10057" class="l">10057: </a>        
<a href="#10058" id="10058" class="l">10058: </a>        <span class="php-comment">//</span>
<a href="#10059" id="10059" class="l">10059: </a>        <span class="php-comment">// Node.</span>
<a href="#10060" id="10060" class="l">10060: </a>        <span class="php-comment">//</span>
<a href="#10061" id="10061" class="l">10061: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10062" id="10062" class="l">10062: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10063" id="10063" class="l">10063: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10064" id="10064" class="l">10064: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10065" id="10065" class="l">10065: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10066" id="10066" class="l">10066: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'MAINTCOLL'</span> ] = <span class="php-var">$node</span>;
<a href="#10067" id="10067" class="l">10067: </a>        
<a href="#10068" id="10068" class="l">10068: </a>        <span class="php-comment">//</span>
<a href="#10069" id="10069" class="l">10069: </a>        <span class="php-comment">// Edge.</span>
<a href="#10070" id="10070" class="l">10070: </a>        <span class="php-comment">//</span>
<a href="#10071" id="10071" class="l">10071: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10072" id="10072" class="l">10072: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10073" id="10073" class="l">10073: </a>        
<a href="#10074" id="10074" class="l">10074: </a>        <span class="php-comment">//</span>
<a href="#10075" id="10075" class="l">10075: </a>        <span class="php-comment">// Display.</span>
<a href="#10076" id="10076" class="l">10076: </a>        <span class="php-comment">//</span>
<a href="#10077" id="10077" class="l">10077: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10078" id="10078" class="l">10078: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10079" id="10079" class="l">10079: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10080" id="10080" class="l">10080: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10081" id="10081" class="l">10081: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10082" id="10082" class="l">10082: </a>     
<a href="#10083" id="10083" class="l">10083: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10084" id="10084" class="l">10084: </a><span class="php-comment">         *  STREET_POB                                                                   *
</span><a href="#10085" id="10085" class="l">10085: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10086" id="10086" class="l">10086: </a>
<a href="#10087" id="10087" class="l">10087: </a>        <span class="php-comment">//</span>
<a href="#10088" id="10088" class="l">10088: </a>        <span class="php-comment">// Term.</span>
<a href="#10089" id="10089" class="l">10089: </a>        <span class="php-comment">//</span>
<a href="#10090" id="10090" class="l">10090: </a>        <span class="php-var">$term</span>
<a href="#10091" id="10091" class="l">10091: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10092" id="10092" class="l">10092: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:STREET_POB'</span> ) );
<a href="#10093" id="10093" class="l">10093: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10094" id="10094" class="l">10094: </a>        {
<a href="#10095" id="10095" class="l">10095: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10096" id="10096" class="l">10096: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'STREET_POB'</span> );
<a href="#10097" id="10097" class="l">10097: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Street or post office box number'</span>, kDEFAULT_LANGUAGE );
<a href="#10098" id="10098" class="l">10098: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10099" id="10099" class="l">10099: </a>            ( <span class="php-quote">'Street or post office box number.'</span>,
<a href="#10100" id="10100" class="l">10100: </a>              kDEFAULT_LANGUAGE );
<a href="#10101" id="10101" class="l">10101: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10102" id="10102" class="l">10102: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10103" id="10103" class="l">10103: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#10104" id="10104" class="l">10104: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'1301 West Gregory Drive'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10105" id="10105" class="l">10105: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Apartado 4661'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10106" id="10106" class="l">10106: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'PO Box 3214'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10107" id="10107" class="l">10107: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10108" id="10108" class="l">10108: </a>        }
<a href="#10109" id="10109" class="l">10109: </a>        
<a href="#10110" id="10110" class="l">10110: </a>        <span class="php-comment">//</span>
<a href="#10111" id="10111" class="l">10111: </a>        <span class="php-comment">// Node.</span>
<a href="#10112" id="10112" class="l">10112: </a>        <span class="php-comment">//</span>
<a href="#10113" id="10113" class="l">10113: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10114" id="10114" class="l">10114: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10115" id="10115" class="l">10115: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10116" id="10116" class="l">10116: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10117" id="10117" class="l">10117: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10118" id="10118" class="l">10118: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'STREET_POB'</span> ] = <span class="php-var">$node</span>;
<a href="#10119" id="10119" class="l">10119: </a>        
<a href="#10120" id="10120" class="l">10120: </a>        <span class="php-comment">//</span>
<a href="#10121" id="10121" class="l">10121: </a>        <span class="php-comment">// Edge.</span>
<a href="#10122" id="10122" class="l">10122: </a>        <span class="php-comment">//</span>
<a href="#10123" id="10123" class="l">10123: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10124" id="10124" class="l">10124: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10125" id="10125" class="l">10125: </a>        
<a href="#10126" id="10126" class="l">10126: </a>        <span class="php-comment">//</span>
<a href="#10127" id="10127" class="l">10127: </a>        <span class="php-comment">// Display.</span>
<a href="#10128" id="10128" class="l">10128: </a>        <span class="php-comment">//</span>
<a href="#10129" id="10129" class="l">10129: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10130" id="10130" class="l">10130: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10131" id="10131" class="l">10131: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10132" id="10132" class="l">10132: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10133" id="10133" class="l">10133: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10134" id="10134" class="l">10134: </a>     
<a href="#10135" id="10135" class="l">10135: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10136" id="10136" class="l">10136: </a><span class="php-comment">         *  CITY_STATE                                                                   *
</span><a href="#10137" id="10137" class="l">10137: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10138" id="10138" class="l">10138: </a>
<a href="#10139" id="10139" class="l">10139: </a>        <span class="php-comment">//</span>
<a href="#10140" id="10140" class="l">10140: </a>        <span class="php-comment">// Term.</span>
<a href="#10141" id="10141" class="l">10141: </a>        <span class="php-comment">//</span>
<a href="#10142" id="10142" class="l">10142: </a>        <span class="php-var">$term</span>
<a href="#10143" id="10143" class="l">10143: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10144" id="10144" class="l">10144: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:CITY_STATE'</span> ) );
<a href="#10145" id="10145" class="l">10145: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10146" id="10146" class="l">10146: </a>        {
<a href="#10147" id="10147" class="l">10147: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10148" id="10148" class="l">10148: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'CITY_STATE'</span> );
<a href="#10149" id="10149" class="l">10149: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'City and state'</span>, kDEFAULT_LANGUAGE );
<a href="#10150" id="10150" class="l">10150: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10151" id="10151" class="l">10151: </a>            ( <span class="php-quote">'City and state.'</span>,
<a href="#10152" id="10152" class="l">10152: </a>              kDEFAULT_LANGUAGE );
<a href="#10153" id="10153" class="l">10153: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10154" id="10154" class="l">10154: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10155" id="10155" class="l">10155: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#10156" id="10156" class="l">10156: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Roma (RM)'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10157" id="10157" class="l">10157: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Wuhan, Hubei Province'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10158" id="10158" class="l">10158: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10159" id="10159" class="l">10159: </a>        }
<a href="#10160" id="10160" class="l">10160: </a>        
<a href="#10161" id="10161" class="l">10161: </a>        <span class="php-comment">//</span>
<a href="#10162" id="10162" class="l">10162: </a>        <span class="php-comment">// Node.</span>
<a href="#10163" id="10163" class="l">10163: </a>        <span class="php-comment">//</span>
<a href="#10164" id="10164" class="l">10164: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10165" id="10165" class="l">10165: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10166" id="10166" class="l">10166: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10167" id="10167" class="l">10167: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10168" id="10168" class="l">10168: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10169" id="10169" class="l">10169: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'CITY_STATE'</span> ] = <span class="php-var">$node</span>;
<a href="#10170" id="10170" class="l">10170: </a>        
<a href="#10171" id="10171" class="l">10171: </a>        <span class="php-comment">//</span>
<a href="#10172" id="10172" class="l">10172: </a>        <span class="php-comment">// Edge.</span>
<a href="#10173" id="10173" class="l">10173: </a>        <span class="php-comment">//</span>
<a href="#10174" id="10174" class="l">10174: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10175" id="10175" class="l">10175: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10176" id="10176" class="l">10176: </a>        
<a href="#10177" id="10177" class="l">10177: </a>        <span class="php-comment">//</span>
<a href="#10178" id="10178" class="l">10178: </a>        <span class="php-comment">// Display.</span>
<a href="#10179" id="10179" class="l">10179: </a>        <span class="php-comment">//</span>
<a href="#10180" id="10180" class="l">10180: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10181" id="10181" class="l">10181: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10182" id="10182" class="l">10182: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10183" id="10183" class="l">10183: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10184" id="10184" class="l">10184: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10185" id="10185" class="l">10185: </a>     
<a href="#10186" id="10186" class="l">10186: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10187" id="10187" class="l">10187: </a><span class="php-comment">         *  ZIP_CODE                                                                     *
</span><a href="#10188" id="10188" class="l">10188: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10189" id="10189" class="l">10189: </a>
<a href="#10190" id="10190" class="l">10190: </a>        <span class="php-comment">//</span>
<a href="#10191" id="10191" class="l">10191: </a>        <span class="php-comment">// Term.</span>
<a href="#10192" id="10192" class="l">10192: </a>        <span class="php-comment">//</span>
<a href="#10193" id="10193" class="l">10193: </a>        <span class="php-var">$term</span>
<a href="#10194" id="10194" class="l">10194: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10195" id="10195" class="l">10195: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:ZIP_CODE'</span> ) );
<a href="#10196" id="10196" class="l">10196: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10197" id="10197" class="l">10197: </a>        {
<a href="#10198" id="10198" class="l">10198: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10199" id="10199" class="l">10199: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ZIP_CODE'</span> );
<a href="#10200" id="10200" class="l">10200: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Zip code'</span>, kDEFAULT_LANGUAGE );
<a href="#10201" id="10201" class="l">10201: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10202" id="10202" class="l">10202: </a>            ( <span class="php-quote">'Zip code.'</span>,
<a href="#10203" id="10203" class="l">10203: </a>              kDEFAULT_LANGUAGE );
<a href="#10204" id="10204" class="l">10204: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10205" id="10205" class="l">10205: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10206" id="10206" class="l">10206: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#10207" id="10207" class="l">10207: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Roma (RM)'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10208" id="10208" class="l">10208: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'Wuhan, Hubei Province'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10209" id="10209" class="l">10209: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10210" id="10210" class="l">10210: </a>        }
<a href="#10211" id="10211" class="l">10211: </a>        
<a href="#10212" id="10212" class="l">10212: </a>        <span class="php-comment">//</span>
<a href="#10213" id="10213" class="l">10213: </a>        <span class="php-comment">// Node.</span>
<a href="#10214" id="10214" class="l">10214: </a>        <span class="php-comment">//</span>
<a href="#10215" id="10215" class="l">10215: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10216" id="10216" class="l">10216: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10217" id="10217" class="l">10217: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10218" id="10218" class="l">10218: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10219" id="10219" class="l">10219: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10220" id="10220" class="l">10220: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'CITY_STATE'</span> ] = <span class="php-var">$node</span>;
<a href="#10221" id="10221" class="l">10221: </a>        
<a href="#10222" id="10222" class="l">10222: </a>        <span class="php-comment">//</span>
<a href="#10223" id="10223" class="l">10223: </a>        <span class="php-comment">// Edge.</span>
<a href="#10224" id="10224" class="l">10224: </a>        <span class="php-comment">//</span>
<a href="#10225" id="10225" class="l">10225: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10226" id="10226" class="l">10226: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10227" id="10227" class="l">10227: </a>        
<a href="#10228" id="10228" class="l">10228: </a>        <span class="php-comment">//</span>
<a href="#10229" id="10229" class="l">10229: </a>        <span class="php-comment">// Display.</span>
<a href="#10230" id="10230" class="l">10230: </a>        <span class="php-comment">//</span>
<a href="#10231" id="10231" class="l">10231: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10232" id="10232" class="l">10232: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10233" id="10233" class="l">10233: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10234" id="10234" class="l">10234: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10235" id="10235" class="l">10235: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10236" id="10236" class="l">10236: </a>     
<a href="#10237" id="10237" class="l">10237: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10238" id="10238" class="l">10238: </a><span class="php-comment">         *  PHONE                                                                        *
</span><a href="#10239" id="10239" class="l">10239: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10240" id="10240" class="l">10240: </a>
<a href="#10241" id="10241" class="l">10241: </a>        <span class="php-comment">//</span>
<a href="#10242" id="10242" class="l">10242: </a>        <span class="php-comment">// Term.</span>
<a href="#10243" id="10243" class="l">10243: </a>        <span class="php-comment">//</span>
<a href="#10244" id="10244" class="l">10244: </a>        <span class="php-var">$term</span>
<a href="#10245" id="10245" class="l">10245: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10246" id="10246" class="l">10246: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:PHONE'</span> ) );
<a href="#10247" id="10247" class="l">10247: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10248" id="10248" class="l">10248: </a>        {
<a href="#10249" id="10249" class="l">10249: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10250" id="10250" class="l">10250: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'PHONE'</span> );
<a href="#10251" id="10251" class="l">10251: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Phone'</span>, kDEFAULT_LANGUAGE );
<a href="#10252" id="10252" class="l">10252: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10253" id="10253" class="l">10253: </a>            ( <span class="php-quote">'Telephone number.'</span>,
<a href="#10254" id="10254" class="l">10254: </a>              kDEFAULT_LANGUAGE );
<a href="#10255" id="10255" class="l">10255: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10256" id="10256" class="l">10256: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10257" id="10257" class="l">10257: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#10258" id="10258" class="l">10258: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'870126'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10259" id="10259" class="l">10259: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'(+58-243) 2831932'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10260" id="10260" class="l">10260: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10261" id="10261" class="l">10261: </a>        }
<a href="#10262" id="10262" class="l">10262: </a>        
<a href="#10263" id="10263" class="l">10263: </a>        <span class="php-comment">//</span>
<a href="#10264" id="10264" class="l">10264: </a>        <span class="php-comment">// Node.</span>
<a href="#10265" id="10265" class="l">10265: </a>        <span class="php-comment">//</span>
<a href="#10266" id="10266" class="l">10266: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10267" id="10267" class="l">10267: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10268" id="10268" class="l">10268: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10269" id="10269" class="l">10269: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10270" id="10270" class="l">10270: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10271" id="10271" class="l">10271: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'PHONE'</span> ] = <span class="php-var">$node</span>;
<a href="#10272" id="10272" class="l">10272: </a>        
<a href="#10273" id="10273" class="l">10273: </a>        <span class="php-comment">//</span>
<a href="#10274" id="10274" class="l">10274: </a>        <span class="php-comment">// Edge.</span>
<a href="#10275" id="10275" class="l">10275: </a>        <span class="php-comment">//</span>
<a href="#10276" id="10276" class="l">10276: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10277" id="10277" class="l">10277: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10278" id="10278" class="l">10278: </a>        
<a href="#10279" id="10279" class="l">10279: </a>        <span class="php-comment">//</span>
<a href="#10280" id="10280" class="l">10280: </a>        <span class="php-comment">// Display.</span>
<a href="#10281" id="10281" class="l">10281: </a>        <span class="php-comment">//</span>
<a href="#10282" id="10282" class="l">10282: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10283" id="10283" class="l">10283: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10284" id="10284" class="l">10284: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10285" id="10285" class="l">10285: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10286" id="10286" class="l">10286: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10287" id="10287" class="l">10287: </a>     
<a href="#10288" id="10288" class="l">10288: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10289" id="10289" class="l">10289: </a><span class="php-comment">         *  FAX                                                                          *
</span><a href="#10290" id="10290" class="l">10290: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10291" id="10291" class="l">10291: </a>
<a href="#10292" id="10292" class="l">10292: </a>        <span class="php-comment">//</span>
<a href="#10293" id="10293" class="l">10293: </a>        <span class="php-comment">// Term.</span>
<a href="#10294" id="10294" class="l">10294: </a>        <span class="php-comment">//</span>
<a href="#10295" id="10295" class="l">10295: </a>        <span class="php-var">$term</span>
<a href="#10296" id="10296" class="l">10296: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10297" id="10297" class="l">10297: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:FAX'</span> ) );
<a href="#10298" id="10298" class="l">10298: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10299" id="10299" class="l">10299: </a>        {
<a href="#10300" id="10300" class="l">10300: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10301" id="10301" class="l">10301: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'FAX'</span> );
<a href="#10302" id="10302" class="l">10302: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Phone'</span>, kDEFAULT_LANGUAGE );
<a href="#10303" id="10303" class="l">10303: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10304" id="10304" class="l">10304: </a>            ( <span class="php-quote">'Telefax number.'</span>,
<a href="#10305" id="10305" class="l">10305: </a>              kDEFAULT_LANGUAGE );
<a href="#10306" id="10306" class="l">10306: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10307" id="10307" class="l">10307: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10308" id="10308" class="l">10308: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#10309" id="10309" class="l">10309: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'870126'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10310" id="10310" class="l">10310: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'(+58-243) 2831932'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10311" id="10311" class="l">10311: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10312" id="10312" class="l">10312: </a>        }
<a href="#10313" id="10313" class="l">10313: </a>        
<a href="#10314" id="10314" class="l">10314: </a>        <span class="php-comment">//</span>
<a href="#10315" id="10315" class="l">10315: </a>        <span class="php-comment">// Node.</span>
<a href="#10316" id="10316" class="l">10316: </a>        <span class="php-comment">//</span>
<a href="#10317" id="10317" class="l">10317: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10318" id="10318" class="l">10318: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10319" id="10319" class="l">10319: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10320" id="10320" class="l">10320: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10321" id="10321" class="l">10321: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10322" id="10322" class="l">10322: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'FAX'</span> ] = <span class="php-var">$node</span>;
<a href="#10323" id="10323" class="l">10323: </a>        
<a href="#10324" id="10324" class="l">10324: </a>        <span class="php-comment">//</span>
<a href="#10325" id="10325" class="l">10325: </a>        <span class="php-comment">// Edge.</span>
<a href="#10326" id="10326" class="l">10326: </a>        <span class="php-comment">//</span>
<a href="#10327" id="10327" class="l">10327: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10328" id="10328" class="l">10328: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10329" id="10329" class="l">10329: </a>        
<a href="#10330" id="10330" class="l">10330: </a>        <span class="php-comment">//</span>
<a href="#10331" id="10331" class="l">10331: </a>        <span class="php-comment">// Display.</span>
<a href="#10332" id="10332" class="l">10332: </a>        <span class="php-comment">//</span>
<a href="#10333" id="10333" class="l">10333: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10334" id="10334" class="l">10334: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10335" id="10335" class="l">10335: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10336" id="10336" class="l">10336: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10337" id="10337" class="l">10337: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10338" id="10338" class="l">10338: </a>     
<a href="#10339" id="10339" class="l">10339: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10340" id="10340" class="l">10340: </a><span class="php-comment">         *  EMAIL                                                                        *
</span><a href="#10341" id="10341" class="l">10341: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10342" id="10342" class="l">10342: </a>
<a href="#10343" id="10343" class="l">10343: </a>        <span class="php-comment">//</span>
<a href="#10344" id="10344" class="l">10344: </a>        <span class="php-comment">// Term.</span>
<a href="#10345" id="10345" class="l">10345: </a>        <span class="php-comment">//</span>
<a href="#10346" id="10346" class="l">10346: </a>        <span class="php-var">$term</span>
<a href="#10347" id="10347" class="l">10347: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10348" id="10348" class="l">10348: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:EMAIL'</span> ) );
<a href="#10349" id="10349" class="l">10349: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10350" id="10350" class="l">10350: </a>        {
<a href="#10351" id="10351" class="l">10351: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10352" id="10352" class="l">10352: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'EMAIL'</span> );
<a href="#10353" id="10353" class="l">10353: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'E-mail'</span>, kDEFAULT_LANGUAGE );
<a href="#10354" id="10354" class="l">10354: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10355" id="10355" class="l">10355: </a>            ( <span class="php-quote">'E-mail address.'</span>,
<a href="#10356" id="10356" class="l">10356: </a>              kDEFAULT_LANGUAGE );
<a href="#10357" id="10357" class="l">10357: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10358" id="10358" class="l">10358: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10359" id="10359" class="l">10359: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#10360" id="10360" class="l">10360: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'recfitog@reacciun.ve'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10361" id="10361" class="l">10361: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'ntaylor@ca.uky.edu'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10362" id="10362" class="l">10362: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10363" id="10363" class="l">10363: </a>        }
<a href="#10364" id="10364" class="l">10364: </a>        
<a href="#10365" id="10365" class="l">10365: </a>        <span class="php-comment">//</span>
<a href="#10366" id="10366" class="l">10366: </a>        <span class="php-comment">// Node.</span>
<a href="#10367" id="10367" class="l">10367: </a>        <span class="php-comment">//</span>
<a href="#10368" id="10368" class="l">10368: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10369" id="10369" class="l">10369: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10370" id="10370" class="l">10370: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10371" id="10371" class="l">10371: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10372" id="10372" class="l">10372: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10373" id="10373" class="l">10373: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'EMAIL'</span> ] = <span class="php-var">$node</span>;
<a href="#10374" id="10374" class="l">10374: </a>        
<a href="#10375" id="10375" class="l">10375: </a>        <span class="php-comment">//</span>
<a href="#10376" id="10376" class="l">10376: </a>        <span class="php-comment">// Edge.</span>
<a href="#10377" id="10377" class="l">10377: </a>        <span class="php-comment">//</span>
<a href="#10378" id="10378" class="l">10378: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10379" id="10379" class="l">10379: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10380" id="10380" class="l">10380: </a>        
<a href="#10381" id="10381" class="l">10381: </a>        <span class="php-comment">//</span>
<a href="#10382" id="10382" class="l">10382: </a>        <span class="php-comment">// Display.</span>
<a href="#10383" id="10383" class="l">10383: </a>        <span class="php-comment">//</span>
<a href="#10384" id="10384" class="l">10384: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10385" id="10385" class="l">10385: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10386" id="10386" class="l">10386: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10387" id="10387" class="l">10387: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10388" id="10388" class="l">10388: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10389" id="10389" class="l">10389: </a>     
<a href="#10390" id="10390" class="l">10390: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10391" id="10391" class="l">10391: </a><span class="php-comment">         *  URL                                                                          *
</span><a href="#10392" id="10392" class="l">10392: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10393" id="10393" class="l">10393: </a>
<a href="#10394" id="10394" class="l">10394: </a>        <span class="php-comment">//</span>
<a href="#10395" id="10395" class="l">10395: </a>        <span class="php-comment">// Term.</span>
<a href="#10396" id="10396" class="l">10396: </a>        <span class="php-comment">//</span>
<a href="#10397" id="10397" class="l">10397: </a>        <span class="php-var">$term</span>
<a href="#10398" id="10398" class="l">10398: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10399" id="10399" class="l">10399: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:URL'</span> ) );
<a href="#10400" id="10400" class="l">10400: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10401" id="10401" class="l">10401: </a>        {
<a href="#10402" id="10402" class="l">10402: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10403" id="10403" class="l">10403: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'URL'</span> );
<a href="#10404" id="10404" class="l">10404: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'URL'</span>, kDEFAULT_LANGUAGE );
<a href="#10405" id="10405" class="l">10405: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10406" id="10406" class="l">10406: </a>            ( <span class="php-quote">'Institution web page.'</span>,
<a href="#10407" id="10407" class="l">10407: </a>              kDEFAULT_LANGUAGE );
<a href="#10408" id="10408" class="l">10408: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10409" id="10409" class="l">10409: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10410" id="10410" class="l">10410: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#10411" id="10411" class="l">10411: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'http://www.uky.edu/Ag/Agronomy/Department/CloverGC'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10412" id="10412" class="l">10412: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10413" id="10413" class="l">10413: </a>        }
<a href="#10414" id="10414" class="l">10414: </a>        
<a href="#10415" id="10415" class="l">10415: </a>        <span class="php-comment">//</span>
<a href="#10416" id="10416" class="l">10416: </a>        <span class="php-comment">// Node.</span>
<a href="#10417" id="10417" class="l">10417: </a>        <span class="php-comment">//</span>
<a href="#10418" id="10418" class="l">10418: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10419" id="10419" class="l">10419: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10420" id="10420" class="l">10420: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10421" id="10421" class="l">10421: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10422" id="10422" class="l">10422: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10423" id="10423" class="l">10423: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'URL'</span> ] = <span class="php-var">$node</span>;
<a href="#10424" id="10424" class="l">10424: </a>        
<a href="#10425" id="10425" class="l">10425: </a>        <span class="php-comment">//</span>
<a href="#10426" id="10426" class="l">10426: </a>        <span class="php-comment">// Edge.</span>
<a href="#10427" id="10427" class="l">10427: </a>        <span class="php-comment">//</span>
<a href="#10428" id="10428" class="l">10428: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10429" id="10429" class="l">10429: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10430" id="10430" class="l">10430: </a>        
<a href="#10431" id="10431" class="l">10431: </a>        <span class="php-comment">//</span>
<a href="#10432" id="10432" class="l">10432: </a>        <span class="php-comment">// Display.</span>
<a href="#10433" id="10433" class="l">10433: </a>        <span class="php-comment">//</span>
<a href="#10434" id="10434" class="l">10434: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10435" id="10435" class="l">10435: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10436" id="10436" class="l">10436: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10437" id="10437" class="l">10437: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10438" id="10438" class="l">10438: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10439" id="10439" class="l">10439: </a>     
<a href="#10440" id="10440" class="l">10440: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10441" id="10441" class="l">10441: </a><span class="php-comment">         *  LATITUDE                                                                     *
</span><a href="#10442" id="10442" class="l">10442: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10443" id="10443" class="l">10443: </a>
<a href="#10444" id="10444" class="l">10444: </a>        <span class="php-comment">//</span>
<a href="#10445" id="10445" class="l">10445: </a>        <span class="php-comment">// Term.</span>
<a href="#10446" id="10446" class="l">10446: </a>        <span class="php-comment">//</span>
<a href="#10447" id="10447" class="l">10447: </a>        <span class="php-var">$term</span>
<a href="#10448" id="10448" class="l">10448: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10449" id="10449" class="l">10449: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:LATITUDE'</span> ) );
<a href="#10450" id="10450" class="l">10450: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10451" id="10451" class="l">10451: </a>        {
<a href="#10452" id="10452" class="l">10452: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10453" id="10453" class="l">10453: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'LATITUDE'</span> );
<a href="#10454" id="10454" class="l">10454: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Latitude'</span>, kDEFAULT_LANGUAGE );
<a href="#10455" id="10455" class="l">10455: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10456" id="10456" class="l">10456: </a>            ( <span class="php-quote">'Institution location latitude.'</span>,
<a href="#10457" id="10457" class="l">10457: </a>              kDEFAULT_LANGUAGE );
<a href="#10458" id="10458" class="l">10458: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10459" id="10459" class="l">10459: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10460" id="10460" class="l">10460: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_INT32 );
<a href="#10461" id="10461" class="l">10461: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'5007'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10462" id="10462" class="l">10462: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'1019'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10463" id="10463" class="l">10463: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10464" id="10464" class="l">10464: </a>        }
<a href="#10465" id="10465" class="l">10465: </a>        
<a href="#10466" id="10466" class="l">10466: </a>        <span class="php-comment">//</span>
<a href="#10467" id="10467" class="l">10467: </a>        <span class="php-comment">// Node.</span>
<a href="#10468" id="10468" class="l">10468: </a>        <span class="php-comment">//</span>
<a href="#10469" id="10469" class="l">10469: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10470" id="10470" class="l">10470: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10471" id="10471" class="l">10471: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10472" id="10472" class="l">10472: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10473" id="10473" class="l">10473: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10474" id="10474" class="l">10474: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'LATITUDE'</span> ] = <span class="php-var">$node</span>;
<a href="#10475" id="10475" class="l">10475: </a>        
<a href="#10476" id="10476" class="l">10476: </a>        <span class="php-comment">//</span>
<a href="#10477" id="10477" class="l">10477: </a>        <span class="php-comment">// Edge.</span>
<a href="#10478" id="10478" class="l">10478: </a>        <span class="php-comment">//</span>
<a href="#10479" id="10479" class="l">10479: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10480" id="10480" class="l">10480: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10481" id="10481" class="l">10481: </a>        
<a href="#10482" id="10482" class="l">10482: </a>        <span class="php-comment">//</span>
<a href="#10483" id="10483" class="l">10483: </a>        <span class="php-comment">// Display.</span>
<a href="#10484" id="10484" class="l">10484: </a>        <span class="php-comment">//</span>
<a href="#10485" id="10485" class="l">10485: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10486" id="10486" class="l">10486: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10487" id="10487" class="l">10487: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10488" id="10488" class="l">10488: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10489" id="10489" class="l">10489: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10490" id="10490" class="l">10490: </a>     
<a href="#10491" id="10491" class="l">10491: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10492" id="10492" class="l">10492: </a><span class="php-comment">         *  LONGITUDE                                                                    *
</span><a href="#10493" id="10493" class="l">10493: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10494" id="10494" class="l">10494: </a>
<a href="#10495" id="10495" class="l">10495: </a>        <span class="php-comment">//</span>
<a href="#10496" id="10496" class="l">10496: </a>        <span class="php-comment">// Term.</span>
<a href="#10497" id="10497" class="l">10497: </a>        <span class="php-comment">//</span>
<a href="#10498" id="10498" class="l">10498: </a>        <span class="php-var">$term</span>
<a href="#10499" id="10499" class="l">10499: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10500" id="10500" class="l">10500: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:LONGITUDE'</span> ) );
<a href="#10501" id="10501" class="l">10501: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10502" id="10502" class="l">10502: </a>        {
<a href="#10503" id="10503" class="l">10503: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10504" id="10504" class="l">10504: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'LONGITUDE'</span> );
<a href="#10505" id="10505" class="l">10505: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Longitude'</span>, kDEFAULT_LANGUAGE );
<a href="#10506" id="10506" class="l">10506: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10507" id="10507" class="l">10507: </a>            ( <span class="php-quote">'Institution location longitude.'</span>,
<a href="#10508" id="10508" class="l">10508: </a>              kDEFAULT_LANGUAGE );
<a href="#10509" id="10509" class="l">10509: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10510" id="10510" class="l">10510: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10511" id="10511" class="l">10511: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_INT32 );
<a href="#10512" id="10512" class="l">10512: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'-6739'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10513" id="10513" class="l">10513: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'2430'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10514" id="10514" class="l">10514: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10515" id="10515" class="l">10515: </a>        }
<a href="#10516" id="10516" class="l">10516: </a>        
<a href="#10517" id="10517" class="l">10517: </a>        <span class="php-comment">//</span>
<a href="#10518" id="10518" class="l">10518: </a>        <span class="php-comment">// Node.</span>
<a href="#10519" id="10519" class="l">10519: </a>        <span class="php-comment">//</span>
<a href="#10520" id="10520" class="l">10520: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10521" id="10521" class="l">10521: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10522" id="10522" class="l">10522: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10523" id="10523" class="l">10523: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10524" id="10524" class="l">10524: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10525" id="10525" class="l">10525: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'LONGITUDE'</span> ] = <span class="php-var">$node</span>;
<a href="#10526" id="10526" class="l">10526: </a>        
<a href="#10527" id="10527" class="l">10527: </a>        <span class="php-comment">//</span>
<a href="#10528" id="10528" class="l">10528: </a>        <span class="php-comment">// Edge.</span>
<a href="#10529" id="10529" class="l">10529: </a>        <span class="php-comment">//</span>
<a href="#10530" id="10530" class="l">10530: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10531" id="10531" class="l">10531: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10532" id="10532" class="l">10532: </a>        
<a href="#10533" id="10533" class="l">10533: </a>        <span class="php-comment">//</span>
<a href="#10534" id="10534" class="l">10534: </a>        <span class="php-comment">// Display.</span>
<a href="#10535" id="10535" class="l">10535: </a>        <span class="php-comment">//</span>
<a href="#10536" id="10536" class="l">10536: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10537" id="10537" class="l">10537: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10538" id="10538" class="l">10538: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10539" id="10539" class="l">10539: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10540" id="10540" class="l">10540: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10541" id="10541" class="l">10541: </a>     
<a href="#10542" id="10542" class="l">10542: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10543" id="10543" class="l">10543: </a><span class="php-comment">         *  ALTITUDE                                                                     *
</span><a href="#10544" id="10544" class="l">10544: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10545" id="10545" class="l">10545: </a>
<a href="#10546" id="10546" class="l">10546: </a>        <span class="php-comment">//</span>
<a href="#10547" id="10547" class="l">10547: </a>        <span class="php-comment">// Term.</span>
<a href="#10548" id="10548" class="l">10548: </a>        <span class="php-comment">//</span>
<a href="#10549" id="10549" class="l">10549: </a>        <span class="php-var">$term</span>
<a href="#10550" id="10550" class="l">10550: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10551" id="10551" class="l">10551: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:ALTITUDE'</span> ) );
<a href="#10552" id="10552" class="l">10552: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10553" id="10553" class="l">10553: </a>        {
<a href="#10554" id="10554" class="l">10554: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10555" id="10555" class="l">10555: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'ALTITUDE'</span> );
<a href="#10556" id="10556" class="l">10556: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Altitude'</span>, kDEFAULT_LANGUAGE );
<a href="#10557" id="10557" class="l">10557: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10558" id="10558" class="l">10558: </a>            ( <span class="php-quote">'Institution elevation.'</span>,
<a href="#10559" id="10559" class="l">10559: </a>              kDEFAULT_LANGUAGE );
<a href="#10560" id="10560" class="l">10560: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10561" id="10561" class="l">10561: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10562" id="10562" class="l">10562: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_INT32 );
<a href="#10563" id="10563" class="l">10563: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'480'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10564" id="10564" class="l">10564: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'0'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10565" id="10565" class="l">10565: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10566" id="10566" class="l">10566: </a>        }
<a href="#10567" id="10567" class="l">10567: </a>        
<a href="#10568" id="10568" class="l">10568: </a>        <span class="php-comment">//</span>
<a href="#10569" id="10569" class="l">10569: </a>        <span class="php-comment">// Node.</span>
<a href="#10570" id="10570" class="l">10570: </a>        <span class="php-comment">//</span>
<a href="#10571" id="10571" class="l">10571: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10572" id="10572" class="l">10572: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10573" id="10573" class="l">10573: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10574" id="10574" class="l">10574: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10575" id="10575" class="l">10575: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10576" id="10576" class="l">10576: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'ALTITUDE'</span> ] = <span class="php-var">$node</span>;
<a href="#10577" id="10577" class="l">10577: </a>        
<a href="#10578" id="10578" class="l">10578: </a>        <span class="php-comment">//</span>
<a href="#10579" id="10579" class="l">10579: </a>        <span class="php-comment">// Edge.</span>
<a href="#10580" id="10580" class="l">10580: </a>        <span class="php-comment">//</span>
<a href="#10581" id="10581" class="l">10581: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10582" id="10582" class="l">10582: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10583" id="10583" class="l">10583: </a>        
<a href="#10584" id="10584" class="l">10584: </a>        <span class="php-comment">//</span>
<a href="#10585" id="10585" class="l">10585: </a>        <span class="php-comment">// Display.</span>
<a href="#10586" id="10586" class="l">10586: </a>        <span class="php-comment">//</span>
<a href="#10587" id="10587" class="l">10587: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10588" id="10588" class="l">10588: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10589" id="10589" class="l">10589: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10590" id="10590" class="l">10590: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10591" id="10591" class="l">10591: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10592" id="10592" class="l">10592: </a>     
<a href="#10593" id="10593" class="l">10593: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10594" id="10594" class="l">10594: </a><span class="php-comment">         *  UPDATED_ON                                                                   *
</span><a href="#10595" id="10595" class="l">10595: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10596" id="10596" class="l">10596: </a>
<a href="#10597" id="10597" class="l">10597: </a>        <span class="php-comment">//</span>
<a href="#10598" id="10598" class="l">10598: </a>        <span class="php-comment">// Term.</span>
<a href="#10599" id="10599" class="l">10599: </a>        <span class="php-comment">//</span>
<a href="#10600" id="10600" class="l">10600: </a>        <span class="php-var">$term</span>
<a href="#10601" id="10601" class="l">10601: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10602" id="10602" class="l">10602: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:UPDATED_ON'</span> ) );
<a href="#10603" id="10603" class="l">10603: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10604" id="10604" class="l">10604: </a>        {
<a href="#10605" id="10605" class="l">10605: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10606" id="10606" class="l">10606: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'UPDATED_ON'</span> );
<a href="#10607" id="10607" class="l">10607: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Last updated'</span>, kDEFAULT_LANGUAGE );
<a href="#10608" id="10608" class="l">10608: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10609" id="10609" class="l">10609: </a>            ( <span class="php-quote">'Last record update date.'</span>,
<a href="#10610" id="10610" class="l">10610: </a>              kDEFAULT_LANGUAGE );
<a href="#10611" id="10611" class="l">10611: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10612" id="10612" class="l">10612: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_1 );
<a href="#10613" id="10613" class="l">10613: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#10614" id="10614" class="l">10614: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'YYYY-MM-DD'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10615" id="10615" class="l">10615: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'2008-10-12'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10616" id="10616" class="l">10616: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'2002-06-14'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10617" id="10617" class="l">10617: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10618" id="10618" class="l">10618: </a>        }
<a href="#10619" id="10619" class="l">10619: </a>        
<a href="#10620" id="10620" class="l">10620: </a>        <span class="php-comment">//</span>
<a href="#10621" id="10621" class="l">10621: </a>        <span class="php-comment">// Node.</span>
<a href="#10622" id="10622" class="l">10622: </a>        <span class="php-comment">//</span>
<a href="#10623" id="10623" class="l">10623: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10624" id="10624" class="l">10624: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10625" id="10625" class="l">10625: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10626" id="10626" class="l">10626: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10627" id="10627" class="l">10627: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10628" id="10628" class="l">10628: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'UPDATED_ON'</span> ] = <span class="php-var">$node</span>;
<a href="#10629" id="10629" class="l">10629: </a>        
<a href="#10630" id="10630" class="l">10630: </a>        <span class="php-comment">//</span>
<a href="#10631" id="10631" class="l">10631: </a>        <span class="php-comment">// Edge.</span>
<a href="#10632" id="10632" class="l">10632: </a>        <span class="php-comment">//</span>
<a href="#10633" id="10633" class="l">10633: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10634" id="10634" class="l">10634: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10635" id="10635" class="l">10635: </a>        
<a href="#10636" id="10636" class="l">10636: </a>        <span class="php-comment">//</span>
<a href="#10637" id="10637" class="l">10637: </a>        <span class="php-comment">// Display.</span>
<a href="#10638" id="10638" class="l">10638: </a>        <span class="php-comment">//</span>
<a href="#10639" id="10639" class="l">10639: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10640" id="10640" class="l">10640: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10641" id="10641" class="l">10641: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10642" id="10642" class="l">10642: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10643" id="10643" class="l">10643: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10644" id="10644" class="l">10644: </a>     
<a href="#10645" id="10645" class="l">10645: </a>        <span class="php-comment">/*================================================================================
</span><a href="#10646" id="10646" class="l">10646: </a><span class="php-comment">         *  V_INSTCODE                                                                   *
</span><a href="#10647" id="10647" class="l">10647: </a><span class="php-comment">         *===============================================================================*/</span>
<a href="#10648" id="10648" class="l">10648: </a>
<a href="#10649" id="10649" class="l">10649: </a>        <span class="php-comment">//</span>
<a href="#10650" id="10650" class="l">10650: </a>        <span class="php-comment">// Term.</span>
<a href="#10651" id="10651" class="l">10651: </a>        <span class="php-comment">//</span>
<a href="#10652" id="10652" class="l">10652: </a>        <span class="php-var">$term</span>
<a href="#10653" id="10653" class="l">10653: </a>            = <span class="php-keyword1">new</span> COntologyTerm
<a href="#10654" id="10654" class="l">10654: </a>                ( <span class="php-var">$theContainer</span>, COntologyTerm::HashIndex( <span class="php-quote">'FAO:INST:V_INSTCODE'</span> ) );
<a href="#10655" id="10655" class="l">10655: </a>        <span class="php-keyword1">if</span>( ! <span class="php-var">$term</span>-&gt;Persistent() )
<a href="#10656" id="10656" class="l">10656: </a>        {
<a href="#10657" id="10657" class="l">10657: </a>            <span class="php-var">$term</span>-&gt;NS( <span class="php-var">$ns</span> );
<a href="#10658" id="10658" class="l">10658: </a>            <span class="php-var">$term</span>-&gt;Code( <span class="php-quote">'V_INSTCODE'</span> );
<a href="#10659" id="10659" class="l">10659: </a>            <span class="php-var">$term</span>-&gt;Name( <span class="php-quote">'Valid institute'</span>, kDEFAULT_LANGUAGE );
<a href="#10660" id="10660" class="l">10660: </a>            <span class="php-var">$term</span>-&gt;Definition
<a href="#10661" id="10661" class="l">10661: </a>            ( <span class="php-quote">'Institute records cannot be deleted, they can only be set as obsolete '</span>
<a href="#10662" id="10662" class="l">10662: </a>             .<span class="php-quote">'by indicating in this field which is the new institution that takes the '</span>
<a href="#10663" id="10663" class="l">10663: </a>             .<span class="php-quote">'place of the obsolete one.'</span>,
<a href="#10664" id="10664" class="l">10664: </a>              kDEFAULT_LANGUAGE );
<a href="#10665" id="10665" class="l">10665: </a>            <span class="php-var">$term</span>-&gt;Kind( kTYPE_ATTRIBUTE, <span class="php-keyword1">TRUE</span> );
<a href="#10666" id="10666" class="l">10666: </a>            <span class="php-var">$term</span>-&gt;Cardinality( kCARD_0_1 );
<a href="#10667" id="10667" class="l">10667: </a>            <span class="php-var">$term</span>-&gt;Type( kTYPE_STRING );
<a href="#10668" id="10668" class="l">10668: </a>            <span class="php-var">$term</span>-&gt;<span class="php-keyword2">Pattern</span>( <span class="php-quote">'[A-Z]{3}[0-9]{3,4}'</span> );
<a href="#10669" id="10669" class="l">10669: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'COL002'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10670" id="10670" class="l">10670: </a>            <span class="php-var">$term</span>-&gt;Examples( <span class="php-quote">'USA1001'</span>, <span class="php-keyword1">TRUE</span> );
<a href="#10671" id="10671" class="l">10671: </a>            <span class="php-var">$term</span>-&gt;Xref( <span class="php-var">$_SESSION</span>[ <span class="php-quote">'NODES'</span> ][ <span class="php-quote">'INSTCODE'</span> ], kTYPE_EXACT, <span class="php-keyword1">TRUE</span> );
<a href="#10672" id="10672" class="l">10672: </a>            <span class="php-var">$term</span>-&gt;Commit( <span class="php-var">$theContainer</span> );
<a href="#10673" id="10673" class="l">10673: </a>        }
<a href="#10674" id="10674" class="l">10674: </a>        
<a href="#10675" id="10675" class="l">10675: </a>        <span class="php-comment">//</span>
<a href="#10676" id="10676" class="l">10676: </a>        <span class="php-comment">// Node.</span>
<a href="#10677" id="10677" class="l">10677: </a>        <span class="php-comment">//</span>
<a href="#10678" id="10678" class="l">10678: </a>        <span class="php-var">$node</span> = <span class="php-keyword1">new</span> COntologyNode( <span class="php-var">$container</span> );
<a href="#10679" id="10679" class="l">10679: </a>        <span class="php-var">$node</span>-&gt;Term( <span class="php-var">$term</span> );
<a href="#10680" id="10680" class="l">10680: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_TRAIT, <span class="php-keyword1">TRUE</span> );
<a href="#10681" id="10681" class="l">10681: </a>        <span class="php-var">$node</span>-&gt;Kind( kTYPE_MEASURE, <span class="php-keyword1">TRUE</span> );
<a href="#10682" id="10682" class="l">10682: </a>        <span class="php-var">$node</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10683" id="10683" class="l">10683: </a>        <span class="php-var">$nodes</span>[ <span class="php-quote">'V_INSTCODE'</span> ] = <span class="php-var">$node</span>;
<a href="#10684" id="10684" class="l">10684: </a>        
<a href="#10685" id="10685" class="l">10685: </a>        <span class="php-comment">//</span>
<a href="#10686" id="10686" class="l">10686: </a>        <span class="php-comment">// Edge.</span>
<a href="#10687" id="10687" class="l">10687: </a>        <span class="php-comment">//</span>
<a href="#10688" id="10688" class="l">10688: </a>        <span class="php-var">$edge</span> = <span class="php-var">$node</span>-&gt;RelateTo( <span class="php-var">$container</span>, <span class="php-var">$is_a</span>, <span class="php-var">$nodes</span>[ <span class="php-quote">'FAO:INST'</span> ] );
<a href="#10689" id="10689" class="l">10689: </a>        <span class="php-var">$edge</span>-&gt;Commit( <span class="php-var">$container</span> );
<a href="#10690" id="10690" class="l">10690: </a>        
<a href="#10691" id="10691" class="l">10691: </a>        <span class="php-comment">//</span>
<a href="#10692" id="10692" class="l">10692: </a>        <span class="php-comment">// Display.</span>
<a href="#10693" id="10693" class="l">10693: </a>        <span class="php-comment">//</span>
<a href="#10694" id="10694" class="l">10694: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10695" id="10695" class="l">10695: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;[</span><span class="php-var">$term</span><span class="php-quote">] &quot;</span>
<a href="#10696" id="10696" class="l">10696: </a>                 .<span class="php-var">$term</span>-&gt;Name( <span class="php-keyword1">NULL</span>, kDEFAULT_LANGUAGE ).<span class="php-quote">&quot; {&quot;</span>
<a href="#10697" id="10697" class="l">10697: </a>                 .<span class="php-var">$node</span>-&gt;Node()-&gt;getId().<span class="php-quote">&quot;}&quot;</span>
<a href="#10698" id="10698" class="l">10698: </a>                 .<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10699" id="10699" class="l">10699: </a>        
<a href="#10700" id="10700" class="l">10700: </a>    } <span class="php-comment">// LoadFAOInstituteDDict.</span>
<a href="#10701" id="10701" class="l">10701: </a>
<a href="#10702" id="10702" class="l">10702: </a>     
<a href="#10703" id="10703" class="l">10703: </a>    <span class="php-comment">/*===================================================================================
</span><a href="#10704" id="10704" class="l">10704: </a><span class="php-comment">     *  LoadFAOInstitutes                                                               *
</span><a href="#10705" id="10705" class="l">10705: </a><span class="php-comment">     *==================================================================================*/</span>
<a href="#10706" id="10706" class="l">10706: </a>
<a href="#10707" id="10707" class="l">10707: </a>    <span class="php-comment">/**
</span><a href="#10708" id="10708" class="l">10708: </a><span class="php-comment">     * Load FAO institutes.
</span><a href="#10709" id="10709" class="l">10709: </a><span class="php-comment">     *
</span><a href="#10710" id="10710" class="l">10710: </a><span class="php-comment">     * This function will load the current FAO institutes.
</span><a href="#10711" id="10711" class="l">10711: </a><span class="php-comment">     *
</span><a href="#10712" id="10712" class="l">10712: </a><span class="php-comment">     * If the last parameter is &lt;i&gt;TRUE&lt;/i&gt;, the function will display the name of the
</span><a href="#10713" id="10713" class="l">10713: </a><span class="php-comment">     * created terms.
</span><a href="#10714" id="10714" class="l">10714: </a><span class="php-comment">     *
</span><a href="#10715" id="10715" class="l">10715: </a><span class="php-comment">     * @param CContainer            $theContainer       Collection.
</span><a href="#10716" id="10716" class="l">10716: </a><span class="php-comment">     * @param boolean               $doDisplay          Display created terms.
</span><a href="#10717" id="10717" class="l">10717: </a><span class="php-comment">     *
</span><a href="#10718" id="10718" class="l">10718: </a><span class="php-comment">     * @access protected
</span><a href="#10719" id="10719" class="l">10719: </a><span class="php-comment">     */</span>
<a href="#10720" id="10720" class="l">10720: </a>    <span class="php-keyword1">function</span> LoadFAOInstitutes( CContainer <span class="php-var">$theContainer</span>, <span class="php-var">$doDisplay</span> = <span class="php-keyword1">TRUE</span> )
<a href="#10721" id="10721" class="l">10721: </a>    {
<a href="#10722" id="10722" class="l">10722: </a>        <span class="php-comment">//</span>
<a href="#10723" id="10723" class="l">10723: </a>        <span class="php-comment">// Inform.</span>
<a href="#10724" id="10724" class="l">10724: </a>        <span class="php-comment">//</span>
<a href="#10725" id="10725" class="l">10725: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10726" id="10726" class="l">10726: </a>        {
<a href="#10727" id="10727" class="l">10727: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;\n&quot;</span>.__FUNCTION__.<span class="php-quote">&quot;\n&quot;</span> );
<a href="#10728" id="10728" class="l">10728: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;------------------\n&quot;</span> );
<a href="#10729" id="10729" class="l">10729: </a>        }
<a href="#10730" id="10730" class="l">10730: </a>        
<a href="#10731" id="10731" class="l">10731: </a>        <span class="php-comment">//</span>
<a href="#10732" id="10732" class="l">10732: </a>        <span class="php-comment">// Import FAO institutes.</span>
<a href="#10733" id="10733" class="l">10733: </a>        <span class="php-comment">//</span>
<a href="#10734" id="10734" class="l">10734: </a>        <span class="php-var">$count</span> = CFAOInstitute::Import( <span class="php-var">$theContainer</span> );
<a href="#10735" id="10735" class="l">10735: </a>        
<a href="#10736" id="10736" class="l">10736: </a>        <span class="php-comment">//</span>
<a href="#10737" id="10737" class="l">10737: </a>        <span class="php-comment">// Display.</span>
<a href="#10738" id="10738" class="l">10738: </a>        <span class="php-comment">//</span>
<a href="#10739" id="10739" class="l">10739: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$doDisplay</span> )
<a href="#10740" id="10740" class="l">10740: </a>            <span class="php-keyword1">echo</span>( <span class="php-quote">&quot;Imported [</span><span class="php-var">$count</span><span class="php-quote">] FAO institutes.\n&quot;</span> );
<a href="#10741" id="10741" class="l">10741: </a>        
<a href="#10742" id="10742" class="l">10742: </a>    } <span class="php-comment">// LoadFAOInstitutes.</span>
<a href="#10743" id="10743" class="l">10743: </a>
<a href="#10744" id="10744" class="l">10744: </a>
<a href="#10745" id="10745" class="l">10745: </a><span class="xlang">?&gt;</span>
<a href="#10746" id="10746" class="l">10746: </a></code></pre>

	<div id="footer">
		MyWrapper Reference Documentation API documentation generated by <a href="http://apigen.org">ApiGen 2.7.0</a>
	</div>
</div>
</div>
</body>
</html>
