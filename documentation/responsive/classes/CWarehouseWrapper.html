<!DOCTYPE html><html xmlns:date="http://exslt.org/dates-and-times" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>My Wrapper Reference » \CWarehouseWrapper</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">My Wrapper Reference</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/MyWrapper.html"><i class="icon-folder-open"></i> MyWrapper</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">0</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods</li>
<li class="nav-header protected">» Protected</li>
<li class="method protected "><a href="#_EdgeParser" title="_EdgeParser :: Collect edge elements."><span class="description">Collect edge elements.</span><pre>_EdgeParser()</pre></a></li>
<li class="method protected "><a href="#_EscapeLucene" title="_EscapeLucene :: Escape Lucene element."><span class="description">Escape Lucene element.</span><pre>_EscapeLucene()</pre></a></li>
<li class="method protected "><a href="#_FormatIdentifiers" title="_FormatIdentifiers :: This method will format the request identifiers list."><span class="description">This method will format the request identifiers list.</span><pre>_FormatIdentifiers()</pre></a></li>
<li class="method protected "><a href="#_FormatPredicates" title="_FormatPredicates :: This method will format the request predicates list."><span class="description">This method will format the request predicates list.</span><pre>_FormatPredicates()</pre></a></li>
<li class="method protected "><a href="#_FormatQuery" title="_FormatQuery :: Format query."><span class="description">Format query.</span><pre>_FormatQuery()</pre></a></li>
<li class="method protected "><a href="#_FormatRequest" title="_FormatRequest :: Format request."><span class="description">Format request.</span><pre>_FormatRequest()</pre></a></li>
<li class="method protected "><a href="#_HandleRequest" title="_HandleRequest :: Handle request."><span class="description">Handle request.</span><pre>_HandleRequest()</pre></a></li>
<li class="method protected "><a href="#_Handle_GetEdges" title="_Handle_GetEdges :: Handle get edges request."><span class="description">Handle get edges request.</span><pre>_Handle_GetEdges()</pre></a></li>
<li class="method protected "><a href="#_Handle_GetNodes" title="_Handle_GetNodes :: Handle get nodes request."><span class="description">Handle get nodes request.</span><pre>_Handle_GetNodes()</pre></a></li>
<li class="method protected "><a href="#_Handle_GetRelations" title="_Handle_GetRelations :: Handle {@link kAPI_OP_GET_RELS get-relations} request."><span class="description">Handle {@link kAPI_OP_GET_RELS get-relations} request.</span><pre>_Handle_GetRelations()</pre></a></li>
<li class="method protected "><a href="#_Handle_GetScalar" title="_Handle_GetScalar :: Handle list scalars request."><span class="description">Handle list scalars request.</span><pre>_Handle_GetScalar()</pre></a></li>
<li class="method protected "><a href="#_Handle_ListOp" title="_Handle_ListOp :: Handle {@link kAPI_OP_HELP list} operations request."><span class="description">Handle {@link kAPI_OP_HELP list} operations request.</span><pre>_Handle_ListOp()</pre></a></li>
<li class="method protected "><a href="#_Handle_Login" title="_Handle_Login :: Handle {@link kAPI_OP_LOGIN login} request."><span class="description">Handle {@link kAPI_OP_LOGIN login} request.</span><pre>_Handle_Login()</pre></a></li>
<li class="method protected "><a href="#_Handle_MatchTerms" title="_Handle_MatchTerms :: Handle {@link kAPI_OP_GET Get} request."><span class="description">Handle {@link kAPI_OP_GET Get} request.</span><pre>_Handle_MatchTerms()</pre></a></li>
<li class="method protected "><a href="#_Handle_SetTags" title="_Handle_SetTags :: Handle {@link kAPI_OP_SET_TAGS set-tags} request."><span class="description">Handle {@link kAPI_OP_SET_TAGS set-tags} request.</span><pre>_Handle_SetTags()</pre></a></li>
<li class="method protected "><a href="#_InitOptions" title="_InitOptions :: Initialise options."><span class="description">Initialise options.</span><pre>_InitOptions()</pre></a></li>
<li class="method protected "><a href="#_InitResources" title="_InitResources :: Initialise resources."><span class="description">Initialise resources.</span><pre>_InitResources()</pre></a></li>
<li class="method protected "><a href="#_ParseDirection" title="_ParseDirection :: Parse direction."><span class="description">Parse direction.</span><pre>_ParseDirection()</pre></a></li>
<li class="method protected "><a href="#_ParseIdentifiers" title="_ParseIdentifiers :: Parse identifiers."><span class="description">Parse identifiers.</span><pre>_ParseIdentifiers()</pre></a></li>
<li class="method protected "><a href="#_ParseLevels" title="_ParseLevels :: Parse level."><span class="description">Parse level.</span><pre>_ParseLevels()</pre></a></li>
<li class="method protected "><a href="#_ParsePredicates" title="_ParsePredicates :: Parse predicates."><span class="description">Parse predicates.</span><pre>_ParsePredicates()</pre></a></li>
<li class="method protected "><a href="#_ParsePredicatesInclusion" title="_ParsePredicatesInclusion :: Parse predicates inclusion flag."><span class="description">Parse predicates inclusion flag.</span><pre>_ParsePredicatesInclusion()</pre></a></li>
<li class="method protected "><a href="#_ParseRequest" title="_ParseRequest :: Parse request."><span class="description">Parse request.</span><pre>_ParseRequest()</pre></a></li>
<li class="method protected "><a href="#_ParseUserCode" title="_ParseUserCode :: Parse user code."><span class="description">Parse user code.</span><pre>_ParseUserCode()</pre></a></li>
<li class="method protected "><a href="#_ParseUserPass" title="_ParseUserPass :: Parse user password."><span class="description">Parse user password.</span><pre>_ParseUserPass()</pre></a></li>
<li class="method protected "><a href="#_Traverse" title="_Traverse :: Traverse graph."><span class="description">Traverse graph.</span><pre>_Traverse()</pre></a></li>
<li class="method protected "><a href="#_ValidateIdentifiers" title="_ValidateIdentifiers :: Validate identifier references."><span class="description">Validate identifier references.</span><pre>_ValidateIdentifiers()</pre></a></li>
<li class="method protected "><a href="#_ValidateOperation" title="_ValidateOperation :: Validate request operation."><span class="description">Validate request operation.</span><pre>_ValidateOperation()</pre></a></li>
<li class="method protected "><a href="#_ValidateQuery" title="_ValidateQuery :: Validate query reference."><span class="description">Validate query reference.</span><pre>_ValidateQuery()</pre></a></li>
<li class="method protected "><a href="#_ValidateRequest" title="_ValidateRequest :: Validate request."><span class="description">Validate request.</span><pre>_ValidateRequest()</pre></a></li>
</ul>
</div>
<div class="span8">
<a name="%5CCWarehouseWrapper" id="\CWarehouseWrapper"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/.html"></a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/CWarehouseWrapper.html">CWarehouseWrapper</a>
</li>
</ul>
<div href="../classes/CWarehouseWrapper.html" class="element class">
<p class="short_description">Warehouse Mongo data wrapper.</p>
<div class="details">
<p class="long_description"><p>This class overloads its <a href="CMongoDataWrapper">ancestor</a> to implement a web-service
customised to the germplasm data warehouse.</p>

<p>This class adds the following operations:</p>

<ul>
<li><i><a href="kAPI_OP_LOGIN">kAPI_OP_LOGIN</a></i>: Login, this operation expects the user
    <a href="kAPI_OPT_USER_CODE">code</a> and <a href="kAPI_OPT_USER_PASS">password</a> and will
    return the matching user.
<li><i><a href="kAPI_OP_GET_TERMS">kAPI_OP_GET_TERMS</a></i>: Get terms, this operation will
    return the list of ontology <a href="COntologyTerm">terms</a> matching the identifiers
    provided in the <a href="kAPI_OPT_IDENTIFIERS">kAPI_OPT_IDENTIFIERS</a> option. This
    list is expected to hold <a href="COntologyTerm">term</a> <a href="kTAG_GID">identifiers</a>.
<li><i><a href="kAPI_OP_GET_NODES">kAPI_OP_GET_NODES</a></i>: Get terms, this operation will
    return the list of ontology <a href="COntologyTerm">terms</a> matching the identifiers
    provided in the <a href="kAPI_OPT_IDENTIFIERS">kAPI_OPT_IDENTIFIERS</a> option. This
    list is expected to hold <a href="COntologyTerm">term</a> <a href="kTAG_GID">identifiers</a>.
</ul>

<p>The class adds the following options:</p>

<ul>
<li><i><a href="kAPI_OPT_USER_CODE">kAPI_OPT_USER_CODE</a></i>: User code, this option expects
    a string corresponding to the user <a href="CEntity::Code()">code</a>.
<li><i><a href="kAPI_OPT_USER_PASS">kAPI_OPT_USER_PASS</a></i>: User code, this option expects
    a string corresponding to the user <a href="CUser::Password()">password</a>.
<li><i><a href="kAPI_OPT_IDENTIFIERS">kAPI_OPT_IDENTIFIERS</a></i>: Identifiers list, this
    option expects an array of object identifiers. The actual type of these elements is
    determined by the operation.
</ul></p>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/MyWrapper.Wrappers.html">MyWrapper</a></td>
</tr>
<tr>
<th>subpackage</th>
<td>Wrappers</td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a name="_EdgeParser" id="_EdgeParser"></a><div class="element clickable method protected _EdgeParser" data-toggle="collapse" data-target="._EdgeParser .collapse">
<h2>Collect edge elements.</h2>
<pre>_EdgeParser(\Relationship $theEdge, \reference $theTerms, \reference $theNodes, \reference $theEdges) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will collect the provided edge elements and set them into the provided
parameters.</p>

<p>The parameters to this method are:</p>

<ul>
<li><b>$theEdge</b>: Edge node to handle.
<li><b>&$theTerms</b>: Reference to the list of term identifiers.
<li><b>&$theNodes</b>: Reference to the list of nodes.
<li><b>&$theEdges</b>: Reference to the list of edge elements.
</ul>

<p>The method will return 1 if the edge was handled, 0 if not.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$theEdge</h4>
<code>\Relationship</code><p>Edge node to handle.</p></div>
<div class="subelement argument">
<h4>$theTerms</h4>
<code>\reference</code><p>&$theTerms List of term identifiers.</p>
</div>
<div class="subelement argument">
<h4>$theNodes</h4>
<code>\reference</code><p>&$theNodes List of nodes.</p>
</div>
<div class="subelement argument">
<h4>$theEdges</h4>
<code>\reference</code><p>&$theEdges List of edge references.</p>
</div>
</div></div>
</div>
<a name="_EscapeLucene" id="_EscapeLucene"></a><div class="element clickable method protected _EscapeLucene" data-toggle="collapse" data-target="._EscapeLucene .collapse">
<h2>Escape Lucene element.</h2>
<pre>_EscapeLucene(string $theElement) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will escape the provided element to make it compatible with the Lucene
query language, the method expects the provided parameter to be an element excluding
specific lucene operators.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$theElement</h4>
<code>string</code><p>Element to escape.</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a name="_FormatIdentifiers" id="_FormatIdentifiers"></a><div class="element clickable method protected _FormatIdentifiers" data-toggle="collapse" data-target="._FormatIdentifiers .collapse">
<h2>This method will format the request identifiers list.</h2>
<pre>_FormatIdentifiers() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>In this class we perform different actions depending on which operation was
requested:</p>

<ul>
<li><i><a href="kAPI_OP_GET_TERMS">kAPI_OP_GET_TERMS</a></i>: Each provided identifier
    that is not an array will be hashed and the resulting array will be used to
    generate a <a href="CQueryStatement::Member()">member</a>
    <a href="kAPI_DATA_QUERY">query</a>.
<li><i><a href="kAPI_OP_GET_NODES">kAPI_OP_GET_NODES</a> and
    <a href="kAPI_OP_GET_EDGES">kAPI_OP_GET_EDGES</a></i>: The same actions as the
    previous case, except that the resulting query will be treated as a list of
    numbers.
</ul>

<p>In this class we handle the terms list <a href="kAPI_OP_GET_TERMS">operation</a> by
creating a query and using the <a href="kAPI_OP_GET">GET</a> handler, in this method we
create the <a href="CMongoQuery">query</a>.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>uses</th>
<td>\_DecodeParameter()</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_OPT_IDENTIFIERS</td>
</tr>
</table>
</div></div>
</div>
<a name="_FormatPredicates" id="_FormatPredicates"></a><div class="element clickable method protected _FormatPredicates" data-toggle="collapse" data-target="._FormatPredicates .collapse">
<h2>This method will format the request predicates list.</h2>
<pre>_FormatPredicates() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>In this class we <a href="_DecodeParameter()">decode</a> the parameter.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>uses</th>
<td>\_DecodeParameter()</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_OPT_PREDICATES</td>
</tr>
</table>
</div></div>
</div>
<a name="_FormatQuery" id="_FormatQuery"></a><div class="element clickable method protected _FormatQuery" data-toggle="collapse" data-target="._FormatQuery .collapse">
<h2>Format query.</h2>
<pre>_FormatQuery() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will format the request query.</p>

<p>In this class we enforce the root selector for the
<a href="kAPI_OP_GET_ROOTS">kAPI_OP_GET_ROOTS</a> service.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_FormatRequest" id="_FormatRequest"></a><div class="element clickable method protected _FormatRequest" data-toggle="collapse" data-target="._FormatRequest .collapse">
<h2>Format request.</h2>
<pre>_FormatRequest() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method should perform any needed formatting before the request will be handled.</p>

<p>In this class we handle the parameters to be decoded</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>uses</th>
<td>\_FormatIdentifiers()</td>
</tr>
</table>
</div></div>
</div>
<a name="_HandleRequest" id="_HandleRequest"></a><div class="element clickable method protected _HandleRequest" data-toggle="collapse" data-target="._HandleRequest .collapse">
<h2>Handle request.</h2>
<pre>_HandleRequest() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will handle the request.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_Handle_GetEdges" id="_Handle_GetEdges"></a><div class="element clickable method protected _Handle_GetEdges" data-toggle="collapse" data-target="._Handle_GetEdges .collapse">
<h2>Handle get edges request.</h2>
<pre>_Handle_GetEdges() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will process the query provided in the
<a href="kAPI_DATA_QUERY">kAPI_DATA_QUERY</a> parameter and return a result structured as
follows:</p>

<ul>
<li><i><a href="kAPI_RESPONSE_EDGES">kAPI_RESPONSE_EDGES</a></i>: The list of edges as an
    array structured as follows:
 <ul>
    <li><i>key</i>: The edge identifier.
    <li><i>Value</i>: An array structured as follows:
     <ul>
        <li><i><a href="kAPI_RESPONSE_SUBJECT">kAPI_RESPONSE_SUBJECT</a></i>: The subject
            <a href="COntologyNode">node</a> ID.
        <li><i><a href="kAPI_RESPONSE_PREDICATE">kAPI_RESPONSE_PREDICATE</a></i>: The
            predicate <a href="COntologyTerm">term</a> <a href="kTAG_GID">identifier</a>.
        <li><i><a href="kAPI_RESPONSE_OBJECT">kAPI_RESPONSE_OBJECT</a></i>: The object
            <a href="COntologyNode">node</a> ID.
     </ul>
 </ul>
<li><i><a href="kAPI_RESPONSE_NODES">kAPI_RESPONSE_NODES</a></i>: The list of
    <a href="kAPI_RESPONSE_SUBJECT">subject</a> and <a href="kAPI_RESPONSE_OBJECT">object</a>
    found nodes as follows:
 <ul>
    <li><i>Key</i>: The node ID.
    <li><i>Value</i>: The node properties.
 </ul>
<li><i><a href="kAPI_RESPONSE_TERMS">kAPI_RESPONSE_TERMS</a></i>: The list of terms
    related to the list of found nodes and to the edge predicate as follows:
 <ul>
    <li><i>Key</i>: The <a href="COntologyTerm">term</a> global
        <a href="kTAG_GID">identifier</a>.
    <li><i>Value</i>: The contents of the <a href="COntologyTerm">term</a>.
 </ul>
</ul></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_Handle_GetNodes" id="_Handle_GetNodes"></a><div class="element clickable method protected _Handle_GetNodes" data-toggle="collapse" data-target="._Handle_GetNodes .collapse">
<h2>Handle get nodes request.</h2>
<pre>_Handle_GetNodes() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will process the query provided in the
<a href="kAPI_DATA_QUERY">kAPI_DATA_QUERY</a> parameter and return a result structured as
follows:</p>

<ul>
<li><i><a href="kAPI_RESPONSE_NODES">kAPI_RESPONSE_NODES</a></i>: The list of found nodes
    as follows:
 <ul>
    <li><i>Key</i>: The node ID.
    <li><i>Value</i>: The node properties.
 </ul>
<li><i><a href="kAPI_RESPONSE_TERMS">kAPI_RESPONSE_TERMS</a></i>: The list of terms
    related to the list of found nodes as follows:
 <ul>
    <li><i>Key</i>: The <a href="COntologyTerm">term</a> global
        <a href="kTAG_GID">identifier</a>.
    <li><i>Value</i>: The contents of the <a href="COntologyTerm">term</a>.
 </ul>
</ul></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_Handle_GetRelations" id="_Handle_GetRelations"></a><div class="element clickable method protected _Handle_GetRelations" data-toggle="collapse" data-target="._Handle_GetRelations .collapse">
<h2>Handle {@link kAPI_OP_GET_RELS get-relations} request.</h2>
<pre>_Handle_GetRelations() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will return the same structure as the
<a href="kAPI_OP_GET_EDGES">kAPI_OP_GET_EDGES</a> service:</p>

<ul>
<li><i><a href="kAPI_RESPONSE_EDGES">kAPI_RESPONSE_EDGES</a></i>: The list of edges as an
    array structured as follows:
 <ul>
    <li><i>key</i>: The edge identifier.
    <li><i>Value</i>: An array structured as follows:
     <ul>
        <li><i><a href="kAPI_RESPONSE_SUBJECT">kAPI_RESPONSE_SUBJECT</a></i>: The subject
            <a href="COntologyNode">node</a> ID.
        <li><i><a href="kAPI_RESPONSE_PREDICATE">kAPI_RESPONSE_PREDICATE</a></i>: The
            predicate <a href="COntologyTerm">term</a> <a href="kTAG_GID">identifier</a>.
        <li><i><a href="kAPI_RESPONSE_OBJECT">kAPI_RESPONSE_OBJECT</a></i>: The object
            <a href="COntologyNode">node</a> ID.
     </ul>
 </ul>
<li><i><a href="kAPI_RESPONSE_NODES">kAPI_RESPONSE_NODES</a></i>: The list of
    <a href="kAPI_RESPONSE_SUBJECT">subject</a> and <a href="kAPI_RESPONSE_OBJECT">object</a>
    found nodes as follows:
 <ul>
    <li><i>Key</i>: The node ID.
    <li><i>Value</i>: The node properties.
 </ul>
<li><i><a href="kAPI_RESPONSE_TERMS">kAPI_RESPONSE_TERMS</a></i>: The list of terms
    related to the list of found nodes and to the edge predicate as follows:
 <ul>
    <li><i>Key</i>: The <a href="COntologyTerm">term</a> global
        <a href="kTAG_GID">identifier</a>.
    <li><i>Value</i>: The contents of the <a href="COntologyTerm">term</a>.
 </ul>
</ul>

<p>Depending on the value of the <a href="kAPI_OPT_DIRECTION">kAPI_OPT_DIRECTION</a>
parameter:</p>

<ul>
<li><i><a href="kAPI_DIRECTION_IN">kAPI_DIRECTION_IN</a></i>: The service will return all
    <a href="COntologyEdge">edges</a> that point to the <a href="COntologyNode">nodes</a>
    provided in the <a href="kAPI_OPT_IDENTIFIERS">kAPI_OPT_IDENTIFIERS</a> parameter.
<li><i><a href="kAPI_DIRECTION_OUT">kAPI_DIRECTION_OUT</a></i>: The service will return
    all <a href="COntologyEdge">edges</a> pointing from the <a href="COntologyNode">nodes</a>
    provided in the <a href="kAPI_OPT_IDENTIFIERS">kAPI_OPT_IDENTIFIERS</a> parameter.
<li><i><a href="kAPI_DIRECTION_ALL">kAPI_DIRECTION_ALL</a></i>: The service will return
    all <a href="COntologyEdge">edges</a> connected in any way to the
    <a href="COntologyNode">nodes</a> provided in the
    <a href="kAPI_OPT_IDENTIFIERS">kAPI_OPT_IDENTIFIERS</a> parameter.
</ul>

<p>The service also expects a <a href="kAPI_OPT_LEVELS">kAPI_OPT_LEVELS</a>parameter, a signed
integer, that indicates how many levels to recurse the graph traversal, if this parameter
is not provided, it will default to 1 level; to traverse all levels this parameter should
be set to a negative number; a level of 0 will only return the list of involved nodes and
terms.</p>

<p>If the <a href="kAPI_OPT_PREDICATES">kAPI_OPT_PREDICATES</a> parameter was provided, only
those <a href="COntologyEdge">edges</a> whose type matches any of the predicate
<a href="COntologyTerm">term</a> identifiers provided in that parameter will be selected.</p>

<p>If the <a href="kAPI_OPT_IDENTIFIERS">kAPI_OPT_IDENTIFIERS</a> parameter was not provided,
the method will return the above structure with no content.</p>

<p><b><i>Note: this method handles the case in which the
<a href="kAPI_OPT_DIRECTION">direction</a> is not provided: in that case it will treat the
list of <a href="kAPI_OPT_IDENTIFIERS">identifiers</a> as a list of edge node IDs and will
work as the <a href="kAPI_OP_GET_EDGES">kAPI_OP_GET_EDGES</a> service</i></b>.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_Handle_GetScalar" id="_Handle_GetScalar"></a><div class="element clickable method protected _Handle_GetScalar" data-toggle="collapse" data-target="._Handle_GetScalar .collapse">
<h2>Handle list scalars request.</h2>
<pre>_Handle_GetScalar() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will handle all requests that result in a query returning a <i>single</i>
list of selected records, it is equivalent to the <a href="_Handle_Get()">_Handle_Get</a>
method, with the only difference being that each found element is here indexed by the
object global <a href="kTAG_GID">identifier</a>.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_Handle_ListOp" id="_Handle_ListOp"></a><div class="element clickable method protected _Handle_ListOp" data-toggle="collapse" data-target="._Handle_ListOp .collapse">
<h2>Handle {@link kAPI_OP_HELP list} operations request.</h2>
<pre>_Handle_ListOp(\reference $theList) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will handle the <a href="kAPI_OP_HELP">kAPI_OP_HELP</a> request, which
should return the list of supported operations.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$theList</h4>
<code>\reference</code><p>Receives operations list.</p></div>
</div></div>
</div>
<a name="_Handle_Login" id="_Handle_Login"></a><div class="element clickable method protected _Handle_Login" data-toggle="collapse" data-target="._Handle_Login .collapse">
<h2>Handle {@link kAPI_OP_LOGIN login} request.</h2>
<pre>_Handle_Login() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will first <a href="CUser::__construct()">load</a> the user by using its
<a href="CEntity::Code()">code</a>, then match the <a href="CUser::Password()">password</a>; if
they match it will return the user record.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_Handle_MatchTerms" id="_Handle_MatchTerms"></a><div class="element clickable method protected _Handle_MatchTerms" data-toggle="collapse" data-target="._Handle_MatchTerms .collapse">
<h2>Handle {@link kAPI_OP_GET Get} request.</h2>
<pre>_Handle_MatchTerms() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will handle the <a href="kAPI_OP_GET">kAPI_OP_GET</a> request, which
corresponds to the find Mongo query.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_Handle_SetTags" id="_Handle_SetTags"></a><div class="element clickable method protected _Handle_SetTags" data-toggle="collapse" data-target="._Handle_SetTags .collapse">
<h2>Handle {@link kAPI_OP_SET_TAGS set-tags} request.</h2>
<pre>_Handle_SetTags() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will handle the <a href="kAPI_OP_SET_TAGS">kAPI_OP_SET_TAGS</a> request, which
expects a list of <a href="COntologyTerm">term</a> and <a href="COntologyEdge">edge</a>
identifiers in the <a href="kAPI_OPT_IDENTIFIERS">kAPI_OPT_IDENTIFIERS</a> parameter, each
of those elements will either be a <a href="CDataTypeBinary">binary</a> object or an array
of <a href="COntologyEdge">edge</a> identifiers.</p>

<p>This method will match/create data <a href="COntologyTag">tags</a> and return the list.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_InitOptions" id="_InitOptions"></a><div class="element clickable method protected _InitOptions" data-toggle="collapse" data-target="._InitOptions .collapse">
<h2>Initialise options.</h2>
<pre>_InitOptions() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method is responsible for parsing and setting all default and provided options,
derived classes should overload this method to handle custom options.</p>

<p>In this class we enforce <a href="kAPI_DATA_PAGING">paging</a> options if the</p></p>
<table class="table table-bordered">
<tr>
<th>link</th>
<td><a href="kAPI_OPT_IDENTIFIERS">identifiers} list was not provided and the operation is
get {@link kAPI_OP_GET_TERMS terms}.</a></td>
</tr>
<tr>
<th>access</th>
<td>private</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_InitResources" id="_InitResources"></a><div class="element clickable method protected _InitResources" data-toggle="collapse" data-target="._InitResources .collapse">
<h2>Initialise resources.</h2>
<pre>_InitResources() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>In this class we instantiate the Neo4j client.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_ParseDirection" id="_ParseDirection"></a><div class="element clickable method protected _ParseDirection" data-toggle="collapse" data-target="._ParseDirection .collapse">
<h2>Parse direction.</h2>
<pre>_ParseDirection() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will parse the relations <a href="kAPI_OPT_DIRECTION">direction</a> parameter.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_ParseIdentifiers" id="_ParseIdentifiers"></a><div class="element clickable method protected _ParseIdentifiers" data-toggle="collapse" data-target="._ParseIdentifiers .collapse">
<h2>Parse identifiers.</h2>
<pre>_ParseIdentifiers() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will parse the user <a href="kAPI_OPT_IDENTIFIERS">identifiers</a> parameter.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_ParseLevels" id="_ParseLevels"></a><div class="element clickable method protected _ParseLevels" data-toggle="collapse" data-target="._ParseLevels .collapse">
<h2>Parse level.</h2>
<pre>_ParseLevels() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will parse the relations <a href="kAPI_OPT_LEVELS">levels</a> parameter.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_ParsePredicates" id="_ParsePredicates"></a><div class="element clickable method protected _ParsePredicates" data-toggle="collapse" data-target="._ParsePredicates .collapse">
<h2>Parse predicates.</h2>
<pre>_ParsePredicates() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will parse the <a href="kAPI_OPT_PREDICATES">predicates</a> parameter.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_ParsePredicatesInclusion" id="_ParsePredicatesInclusion"></a><div class="element clickable method protected _ParsePredicatesInclusion" data-toggle="collapse" data-target="._ParsePredicatesInclusion .collapse">
<h2>Parse predicates inclusion flag.</h2>
<pre>_ParsePredicatesInclusion() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will parse the predicates <a href="kAPI_OPT_PREDICATES_INC">inclusion</a>
parameter.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_ParseRequest" id="_ParseRequest"></a><div class="element clickable method protected _ParseRequest" data-toggle="collapse" data-target="._ParseRequest .collapse">
<h2>Parse request.</h2>
<pre>_ParseRequest() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>We overload this method to parse the user <a href="kAPI_OPT_USER_CODE">code</a> and
<a href="kAPI_OPT_USER_PASS">password</a> tags.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>uses</th>
<td>\_ParseUserCode()</td>
</tr>
<tr>
<th>uses</th>
<td>\_ParseUserPass()</td>
</tr>
</table>
</div></div>
</div>
<a name="_ParseUserCode" id="_ParseUserCode"></a><div class="element clickable method protected _ParseUserCode" data-toggle="collapse" data-target="._ParseUserCode .collapse">
<h2>Parse user code.</h2>
<pre>_ParseUserCode() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will parse the user <a href="kAPI_OPT_USER_CODE">code</a> parameter.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_ParseUserPass" id="_ParseUserPass"></a><div class="element clickable method protected _ParseUserPass" data-toggle="collapse" data-target="._ParseUserPass .collapse">
<h2>Parse user password.</h2>
<pre>_ParseUserPass() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will parse the user <a href="kAPI_OPT_USER_PASS">password</a> parameter.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_Traverse" id="_Traverse"></a><div class="element clickable method protected _Traverse" data-toggle="collapse" data-target="._Traverse .collapse">
<h2>Traverse graph.</h2>
<pre>_Traverse(\reference $theList, \reference $theTerms, \reference $theNodes, \reference $theEdges, \reference $thePredicates, integer $theLevel) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will traverse the graph in the direction set in the
<a href="kAPI_OPT_DIRECTION">kAPI_OPT_DIRECTION</a> parameter and
<a href="_EdgeParser()">collect</a> all found edge elements in the provided parameters.</p>

<p>The parameters to this method are:</p>

<ul>
<li><b></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$theList</h4>
<code>\reference</code><p>&$theList Current level node identifiers.</p>
</div>
<div class="subelement argument">
<h4>$theTerms</h4>
<code>\reference</code><p>&$theTerms List of term identifiers.</p>
</div>
<div class="subelement argument">
<h4>$theNodes</h4>
<code>\reference</code><p>&$theNodes List of nodes.</p>
</div>
<div class="subelement argument">
<h4>$theEdges</h4>
<code>\reference</code><p>&$theEdges List of edge references.</p>
</div>
<div class="subelement argument">
<h4>$thePredicates</h4>
<code>\reference</code><p>&$thePredicates List of predicate filter references.</p>
</div>
<div class="subelement argument">
<h4>$theLevel</h4>
<code>integer</code><p>Depth level.</p></div>
</div></div>
</div>
<a name="_ValidateIdentifiers" id="_ValidateIdentifiers"></a><div class="element clickable method protected _ValidateIdentifiers" data-toggle="collapse" data-target="._ValidateIdentifiers .collapse">
<h2>Validate identifier references.</h2>
<pre>_ValidateIdentifiers() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>We implement this method to check if all the provided identifiers correspond to
existing records, if this is not the case, the method will throw an exception.</p>

<p>This operation will only be performed for the
<a href="kAPI_OP_SET_TAGS">kAPI_OP_SET_TAGS</a> operation.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_ValidateOperation" id="_ValidateOperation"></a><div class="element clickable method protected _ValidateOperation" data-toggle="collapse" data-target="._ValidateOperation .collapse">
<h2>Validate request operation.</h2>
<pre>_ValidateOperation() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method can be used to check whether the provided
<a href="kAPI_OPERATION">operation</a> parameter is valid.</p>

<p>In this class we check that both the user <a href="kAPI_OPT_USER_CODE">code</a> and
<a href="kAPI_OPT_USER_PASS">password</a> have been sent when requesting a
<a href="kAPI_OP_LOGIN">login</a> operation, in addition to the
<a href="kAPI_DATABASE">database</a> and <a href="kAPI_CONTAINER">container</a> references.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_ValidateQuery" id="_ValidateQuery"></a><div class="element clickable method protected _ValidateQuery" data-toggle="collapse" data-target="._ValidateQuery .collapse">
<h2>Validate query reference.</h2>
<pre>_ValidateQuery() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>We overload this method for handling the
<a href="kAPI_OP_MATCH_TERMS">kAPI_OP_MATCH_TERMS</a> service.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_ValidateRequest" id="_ValidateRequest"></a><div class="element clickable method protected _ValidateRequest" data-toggle="collapse" data-target="._ValidateRequest .collapse">
<h2>Validate request.</h2>
<pre>_ValidateRequest() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method should check that the request is valid and that all required parameters
have been sent.</p>

<p>In this class we add the <a href="kAPI_OPT_IDENTIFIERS">kAPI_OPT_IDENTIFIERS</a> parameter
validation.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a6</a> and<br>
            generated on 2012-07-06T19:02:16+02:00.<br></footer></div>
</div>
</body>
</html>
