<!DOCTYPE html><html xmlns:date="http://exslt.org/dates-and-times" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>My Wrapper Reference » \CWrapper</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">My Wrapper Reference</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/MyWrapper.html"><i class="icon-folder-open"></i> MyWrapper</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">0</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods</li>
<li class="method public "><a href="#HandleRequest" title="HandleRequest :: Handle the request."><span class="description">Handle the request.</span><pre>HandleRequest()</pre></a></li>
<li class="method public "><a href="#__construct" title="__construct :: Instantiate class."><span class="description">Instantiate class.</span><pre>__construct()</pre></a></li>
<li class="nav-header protected">» Protected</li>
<li class="method protected "><a href="#_EncodeResponse" title="_EncodeResponse :: Encode response."><span class="description">Encode response.</span><pre>_EncodeResponse()</pre></a></li>
<li class="method protected "><a href="#_Exception2Status" title="_Exception2Status :: Set status from exception."><span class="description">Set status from exception.</span><pre>_Exception2Status()</pre></a></li>
<li class="method protected "><a href="#_FormatRequest" title="_FormatRequest :: Format request."><span class="description">Format request.</span><pre>_FormatRequest()</pre></a></li>
<li class="method protected "><a href="#_HandleRequest" title="_HandleRequest :: Handle request."><span class="description">Handle request.</span><pre>_HandleRequest()</pre></a></li>
<li class="method protected "><a href="#_Handle_ListOp" title="_Handle_ListOp :: Handle {@link kAPI_OP_HELP list} operations request."><span class="description">Handle {@link kAPI_OP_HELP list} operations request.</span><pre>_Handle_ListOp()</pre></a></li>
<li class="method protected "><a href="#_Handle_Ping" title="_Handle_Ping :: Handle {@link kAPI_OP_PING ping} request."><span class="description">Handle {@link kAPI_OP_PING ping} request.</span><pre>_Handle_Ping()</pre></a></li>
<li class="method protected "><a href="#_InitOptions" title="_InitOptions :: Initialise options."><span class="description">Initialise options.</span><pre>_InitOptions()</pre></a></li>
<li class="method protected "><a href="#_InitResources" title="_InitResources :: Initialise resources."><span class="description">Initialise resources.</span><pre>_InitResources()</pre></a></li>
<li class="method protected "><a href="#_InitStatus" title="_InitStatus :: Initialise status."><span class="description">Initialise status.</span><pre>_InitStatus()</pre></a></li>
<li class="method protected "><a href="#_OffsetManage" title="_OffsetManage :: Manage offset."><span class="description">Manage offset.</span><pre>_OffsetManage()</pre></a></li>
<li class="method protected "><a href="#_ParseFormat" title="_ParseFormat :: Parse format."><span class="description">Parse format.</span><pre>_ParseFormat()</pre></a></li>
<li class="method protected "><a href="#_ParseOperation" title="_ParseOperation :: Parse operation."><span class="description">Parse operation.</span><pre>_ParseOperation()</pre></a></li>
<li class="method protected "><a href="#_ParseRequest" title="_ParseRequest :: Parse request."><span class="description">Parse request.</span><pre>_ParseRequest()</pre></a></li>
<li class="method protected "><a href="#_ParseTiming" title="_ParseTiming :: Parse timing."><span class="description">Parse timing.</span><pre>_ParseTiming()</pre></a></li>
<li class="method protected "><a href="#_ValidateFormat" title="_ValidateFormat :: Validate request format."><span class="description">Validate request format.</span><pre>_ValidateFormat()</pre></a></li>
<li class="method protected "><a href="#_ValidateOperation" title="_ValidateOperation :: Validate request operation."><span class="description">Validate request operation.</span><pre>_ValidateOperation()</pre></a></li>
<li class="method protected "><a href="#_ValidateRequest" title="_ValidateRequest :: Validate request."><span class="description">Validate request.</span><pre>_ValidateRequest()</pre></a></li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties</li>
<li class="nav-header protected">» Protected</li>
<li class="property protected "><a href="#%24mReceivedStamp" title="$mReceivedStamp :: Reception time-stamp."><span class="description">Reception time-stamp.</span><pre>$mReceivedStamp</pre></a></li>
</ul>
</div>
<div class="span8">
<a name="%5CCWrapper" id="\CWrapper"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/.html"></a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/CWrapper.html">CWrapper</a>
</li>
</ul>
<div href="../classes/CWrapper.html" class="element class">
<p class="short_description">Wrapper.</p>
<div class="details">
<p class="long_description"><p>This class represents a web-services wrapper server, it is the ancestor of web-service
classes in this library.</p>

<p>Wrappers are objects that respond to standard web calls and receive parameters in both
<i>GET</i> and <i>POST</i> parameters, the main two parameters handled by this class are:</p>

<ul>
<li><i><a href="kAPI_FORMAT">kAPI_FORMAT</a></i> (required): The data format of the response,
     it will be returned as:
 <ul>
    <li><i><a href="kTYPE_PHP">kTYPE_PHP</a></i>: A PHP-serialised string.
    <li><i><a href="kTYPE_JSON">kTYPE_JSON</a></i>: A JSON-serialised string.
 </ul>
<li><i><a href="kAPI_OPERATION">kAPI_OPERATION</a></i> (required): The requested operation,
    each class will implement specialised handlers, this class only implements the
    following two operations:
 <ul>
    <li><i><a href="kAPI_OP_HELP">kAPI_OP_HELP</a></i>: A <i>LIST-OP</i> command, this
        command will return in the <a href="kAPI_DATA_RESPONSE">response</a> section the list
        of supported operations as an array structured as follows:
     <ul>
        <li><i>index</i>: The index will be the operation code.
        <li><i>value</i>: The value will be the operation description.
     </ul>
    <li><i><a href="kAPI_OP_PING">kAPI_OP_PING</a></i>: A <i>PING</i> command, this can be
        used to check if a service is alive.
 </ul>
</ul>

<p>If both the above parameters are present, the service will return an array constituted by
the following three sections:</p>

<ul>
<li><i><a href="kAPI_DATA_STATUS">kAPI_DATA_STATUS</a></i>: <i>Operation status</i>.
    This section is returned by default and will inform on the status of the requested
    operation. It consists of an array containing the following elements:
 <ul>
    <li><i><a href="kTAG_STATUS">kTAG_STATUS</a></i>: <i>Response status</i>.
        This element will be returned by default regardless of the operation outcome.
        This corresponds to the severity of the response and it can take the following
        values:
     <ul>
        <li><i><a href="kMESSAGE_TYPE_IDLE">kMESSAGE_TYPE_IDLE</a></i>: This is the status of
            the web-service before any operation has been executed, or when the
            operation was successful; this is the response of a successful
            <a href="kAPI_OP_PING">ping</a> request.
        <li><i><a href="kMESSAGE_TYPE_NOTICE">kMESSAGE_TYPE_NOTICE</a></i>: The operation was
            successful and a notice message was returned.
        <li><i><a href="kMESSAGE_TYPE_MESSAGE">kMESSAGE_TYPE_MESSAGE</a></i>: The operation
            was successful and a message was returned.
        <li><i><a href="kMESSAGE_TYPE_WARNING">kMESSAGE_TYPE_WARNING</a></i>: The operation
            was successful but a warning was raised.
        <li><i><a href="kMESSAGE_TYPE_ERROR">kMESSAGE_TYPE_ERROR</a></i>: The operation failed
            because of an error.
        <li><i><a href="kMESSAGE_TYPE_FATAL">kMESSAGE_TYPE_FATAL</a></i>: The operation failed
            because of a fatal error, this will generally mean that the web-service is
            not operational.
        <li><i><a href="kMESSAGE_TYPE_BUG">kMESSAGE_TYPE_BUG</a></i>: The operation failed
            because of a bug, the developers should be informed of this kind of errors.
     </ul>
    <li><i><a href="kTAG_CODE">kTAG_CODE</a></i>: <i>Status code</i>.
        This element will be returned by default regardless of the operation outcome.
        It corresponds to the error code; <a href="kERROR_OK">zero</a> means no error.
    <li><i><a href="kTAG_DESCRIPTION">kTAG_DESCRIPTION</a></i>: <i>Status message</i>.
        The response message from the operation, this element is used to return
        informative messages or to return error messages when the service fails. It will
        generally be formatted as an array structured as follows:
     <ul>
        <li><i><a href="kTAG_TYPE">kTAG_TYPE</a></i>: The data type of the message, it will be
            a <a href="kTYPE_STRING">string</a> in general.
        <li><i><a href="kTAG_LANGUAGE">kTAG_LANGUAGE</a></i>: The language ISO 639 2
            character code in which the message is expressed in.
        <li><i><a href="kTAG_DATA">kTAG_DATA</a></i>: The actual message data contents.
     </ul>
    <li><i><a href="kAPI_AFFECTED_COUNT">kAPI_AFFECTED_COUNT</a></i>: <i>Record count</i>.
        The total number of elements affected by the operation. This tag will only be
        used by derived classes returning data elements.
    <li><i><a href="kTAG_ANNOTATION">kTAG_ANNOTATION</a></i>: <i>Attachments</i>.
            A list of key/value pairs containing information relevant to the operation
            response. For instance, if a series of parameters are required and were not
            provided, this could list them.
 </ul>
<li><i><a href="kAPI_DATA_REQUEST">kAPI_DATA_REQUEST</a></i>: <i>Service request</i>.
    This section will return the actual request provided to the service, this can be
    used for debugging purposes and will only occur if the optional
    <a href="kAPI_OPT_LOG_REQUEST">kAPI_OPT_LOG_REQUEST</a> parameter has been set to 1.
<li><i><a href="kAPI_DATA_TIMING">kAPI_DATA_TIMING</a></i>: <i>Timers</i>.
    This section holds timing information, it will be returned only if you provide the
    time of day [<i>gettimeofday( TRUE )</i>] in the
    <a href="kAPI_REQ_STAMP">kAPI_REQ_STAMP</a> parameter. This section is structured as
    follows:
 <ul>
    <li><i><a href="kAPI_REQ_STAMP">kAPI_REQ_STAMP</a></i>: Request time stamp, the time in
        which the request was sent; this is the same value sent by the caller in the
        <a href="kAPI_REQ_STAMP">kAPI_REQ_STAMP</a> parameter.
    <li><i><a href="kAPI_PARSE_STAMP">kAPI_PARSE_STAMP</a></i>: Parse time stamp, the time in
        which the service finished parsing the request.
    <li><i><a href="kAPI_RES_STAMP">kAPI_RES_STAMP</a></i>: Response time stamp, the time in
        which the response was sent.
 </ul>
<li><i><a href="kAPI_DATA_RESPONSE">kAPI_DATA_RESPONSE</a></i>: Response, this section will
    hold the operation response, in this class we only respond to
    <a href="kAPI_OP_HELP">operations</a> list requests.
</ul>

<p>Besides the <a href="kAPI_FORMAT">format</a> and <a href="kAPI_OPERATION">operation</a> parameters
described in the first section, we have three other optional parameters that can be used
to receive specific information sections in the response:</p>

<ul>
<li><i><a href="kAPI_OPT_LOG_REQUEST">kAPI_OPT_LOG_REQUEST</a></i>: Log the request, if the
    value of this parameter is 1, the response will contain the received request in the
    <a href="kAPI_DATA_REQUEST">request</a> section.
<li><i><a href="kAPI_OPT_LOG_TRACE">kAPI_OPT_LOG_TRACE</a></i>: Trace exceptions, if the
    value of this parameter is 1, in the case of an error that triggered an exception,
    the error response will also include the call trace.
<li><i><a href="kAPI_REQ_STAMP">kAPI_REQ_STAMP</a></i>: This parameter should hold the
    timestamp [<i>gettimeofday( TRUE )</i>] in which the client has sent the request,
    if provided, the service will return the timing information in the
    <a href="kAPI_DATA_TIMING">timing</a> section.
</ul>

<p>The parameters are expected either in <i>GET</i> or <i>POST</i>.</p>

<p>If either the <a href="kAPI_FORMAT">format</a> or the <a href="kAPI_OPERATION">operation</a>
parameters are omitted from the request, the service will return an empty response; this
is to prevent unnecessary traffic.</p>

<p>Instances of this class can be considered server objects, and can be implemented with
this simple code snippet:</p>

<pre><code>$server = new CWrapper();
$server->HandleRequest();
</code></pre>

<p>An example of this class implementation can be found in the
<a href="Wrapper.php">Wrapper.php</a> source file.</p></p>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/MyWrapper.Wrappers.html">MyWrapper</a></td>
</tr>
<tr>
<th>subpackage</th>
<td>Wrappers</td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a name="HandleRequest" id="HandleRequest"></a><div class="element clickable method public HandleRequest" data-toggle="collapse" data-target=".HandleRequest .collapse">
<h2>Handle the request.</h2>
<pre>HandleRequest() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will handle the request.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>public</td>
</tr>
<tr>
<th>uses</th>
<td>\_HandleRequest()</td>
</tr>
<tr>
<th>uses</th>
<td>\_Exception2Status()</td>
</tr>
<tr>
<th>uses</th>
<td>\_EncodeResponse()</td>
</tr>
</table>
</div></div>
</div>
<a name="__construct" id="__construct"></a><div class="element clickable method public __construct" data-toggle="collapse" data-target=".__construct .collapse">
<h2>Instantiate class.</h2>
<pre>__construct() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The constructor will set-up the environment and parse the request.
The workflow is as follows:</p>

<ul>
<li><i>Check required elements</i>: The method will check if all required elements
    of the request are there, if that is not the case it will just exit.
<li><i>Init <a href="_InitStatus()">status</a></i>: The response status will be
    initialised to the <a href="kMESSAGE_TYPE_IDLE">idle</a> state.
<li><i>Init <a href="_InitOptions()">options</a></i>: Service options will be initialised.
<li><i>Init <a href="_InitResources()">resources</a></i>: Eventual resources are
    initialised.
<li><i><a href="_ParseRequest()">Parse</a> request</i>: The request is parsed.
<li><i><a href="_FormatRequest()">Format</a> request</i>: The request is normalised if
    necessary.
<li><i><a href="_ValidateRequest()">Validate</a> request</i>: The request is validated.
</ul>

<p>This protected interface should be overloaded by derived classes to implement custom
services.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>public</td>
</tr>
<tr>
<th>uses</th>
<td>\_InitStatus()</td>
</tr>
<tr>
<th>uses</th>
<td>\_InitOptions()</td>
</tr>
<tr>
<th>uses</th>
<td>\_InitResources()</td>
</tr>
<tr>
<th>uses</th>
<td>\_ParseRequest()</td>
</tr>
<tr>
<th>uses</th>
<td>\_FormatRequest()</td>
</tr>
<tr>
<th>uses</th>
<td>\_ValidateRequest()</td>
</tr>
<tr>
<th>uses</th>
<td>\_Exception2Status()</td>
</tr>
<tr>
<th>uses</th>
<td>\_EncodeResponse()</td>
</tr>
</table>
</div></div>
</div>
<a name="_EncodeResponse" id="_EncodeResponse"></a><div class="element clickable method protected _EncodeResponse" data-toggle="collapse" data-target="._EncodeResponse .collapse">
<h2>Encode response.</h2>
<pre>_EncodeResponse() : string | NULL</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will return the encoded response string.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code><code>NULL</code>
</div>
</div></div>
</div>
<a name="_Exception2Status" id="_Exception2Status"></a><div class="element clickable method protected _Exception2Status" data-toggle="collapse" data-target="._Exception2Status .collapse">
<h2>Set status from exception.</h2>
<pre>_Exception2Status(Exception $theException) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method can be used to set the service status according to an exception:</p>

<ul>
<li><i><a href="CException::Severity()">Severity</a></i>: This value will be set as the
    status <a href="kTAG_STATUS">status</a>.
<li><i><a href="Exception::getCode()">Code</a></i>: This value will be set as the
    status <a href="kTAG_CODE">code</a>.
<li><i><a href="Exception::getMessage()">Message</a></i>: This value will be set in the
    status <a href="kTAG_DESCRIPTION">description</a> field as a language block.
<li><i><a href="Exception::getFile()">File</a></i>: This value will be set in the status
    <a href="kTAG_ANNOTATION">annotations</a>.
<li><i><a href="Exception::getLine()">Line</a></i>: This value will be set in the status
    <a href="kTAG_ANNOTATION">annotations</a>.
<li><i><a href="Exception::getTrace()">Trace</a></i>: This value will be set in the status
    <a href="kTAG_ANNOTATION">annotations</a>.
<li><i><a href="CException::Reference()">References</a></i>: These valuew will be set in
    the status <a href="kTAG_ANNOTATION">annotations</a>.
</ul></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$theException</h4>
<code><a href="http://php.net/manual/en/class.exception.php">\Exception</a></code><p>Exception.</p></div>
</div></div>
</div>
<a name="_FormatRequest" id="_FormatRequest"></a><div class="element clickable method protected _FormatRequest" data-toggle="collapse" data-target="._FormatRequest .collapse">
<h2>Format request.</h2>
<pre>_FormatRequest() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method should perform any needed formatting before the request will be handled.</p>

<p>In this class we do nothing.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_HandleRequest" id="_HandleRequest"></a><div class="element clickable method protected _HandleRequest" data-toggle="collapse" data-target="._HandleRequest .collapse">
<h2>Handle request.</h2>
<pre>_HandleRequest() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will handle the request.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>uses</th>
<td>\_Handle_ListOp()</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_OP_HELP</td>
</tr>
</table>
</div></div>
</div>
<a name="_Handle_ListOp" id="_Handle_ListOp"></a><div class="element clickable method protected _Handle_ListOp" data-toggle="collapse" data-target="._Handle_ListOp .collapse">
<h2>Handle {@link kAPI_OP_HELP list} operations request.</h2>
<pre>_Handle_ListOp(\reference $theList) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will handle the <a href="kAPI_OP_HELP">kAPI_OP_HELP</a> request, which
should return the list of supported operations.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$theList</h4>
<code>\reference</code><p>Receives operations list.</p></div>
</div></div>
</div>
<a name="_Handle_Ping" id="_Handle_Ping"></a><div class="element clickable method protected _Handle_Ping" data-toggle="collapse" data-target="._Handle_Ping .collapse">
<h2>Handle {@link kAPI_OP_PING ping} request.</h2>
<pre>_Handle_Ping() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will handle the <a href="kAPI_OP_PING">kAPI_OP_PING</a> request, which can be
used to check if a service is alive.</p>

<p>The ping request will return by default the <a href="kAPI_DATA_STATUS">status</a> block.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_InitOptions" id="_InitOptions"></a><div class="element clickable method protected _InitOptions" data-toggle="collapse" data-target="._InitOptions .collapse">
<h2>Initialise options.</h2>
<pre>_InitOptions() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method is responsible for parsing and setting all default and provided options,
derived classes should overload this method to handle custom options.</p>

<p>In this class we initialise the <a href="kAPI_DATA_REQUEST">request</a> and
<a href="kAPI_DATA_TIMING">timer</a> sections if required.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_InitResources" id="_InitResources"></a><div class="element clickable method protected _InitResources" data-toggle="collapse" data-target="._InitResources .collapse">
<h2>Initialise resources.</h2>
<pre>_InitResources() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>In derived classes this should be the method that initialises the data store
resources, in this class we have no resources.</p></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
</div></div>
</div>
<a name="_InitStatus" id="_InitStatus"></a><div class="element clickable method protected _InitStatus" data-toggle="collapse" data-target="._InitStatus .collapse">
<h2>Initialise status.</h2>
<pre>_InitStatus() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method is responsible for initialising the <a href="kAPI_DATA_STATUS">status</a>
section, derived classes may overload this method if they need to handle other
states.</p>

<p>In this class we set the status to <a href="kMESSAGE_TYPE_IDLE">idle</a> and reset the
status <a href="kTAG_CODE">code</a>.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_STATUS</td>
</tr>
</table>
</div></div>
</div>
<a name="_OffsetManage" id="_OffsetManage"></a><div class="element clickable method protected _OffsetManage" data-toggle="collapse" data-target="._OffsetManage .collapse">
<h2>Manage offset.</h2>
<pre>_OffsetManage(string $theBlock, string $theElement, mixed $theValue) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method can be used to manage elements within offsets, in other words, it can be
used to manage elements within an offset:</p>

<ul>
<li><b>$theBlock</b>: The main offset.
<li><b>$theElement</b>: The offset within the main offset.
<li><b>$theValue</b>: The new value or the operation:
 <ul>
    <li><i>NULL</i>: Retrieve the element in the block.
    <li><i>FALSE</i>: Delete the element from the block.
    <li><i>other</i>: All other data types are interpreted as a new element.
 </ul>
</ul></p>
<table class="table table-bordered"><tr>
<th>access</th>
<td>protected</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$theBlock</h4>
<code>string</code><p>Object block.</p></div>
<div class="subelement argument">
<h4>$theElement</h4>
<code>string</code><p>Object block element.</p></div>
<div class="subelement argument">
<h4>$theValue</h4>
<code>mixed</code><p>Element value.</p></div>
</div></div>
</div>
<a name="_ParseFormat" id="_ParseFormat"></a><div class="element clickable method protected _ParseFormat" data-toggle="collapse" data-target="._ParseFormat .collapse">
<h2>Parse format.</h2>
<pre>_ParseFormat() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will parse the request format.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_ParseOperation" id="_ParseOperation"></a><div class="element clickable method protected _ParseOperation" data-toggle="collapse" data-target="._ParseOperation .collapse">
<h2>Parse operation.</h2>
<pre>_ParseOperation() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will parse the request operation.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_ParseRequest" id="_ParseRequest"></a><div class="element clickable method protected _ParseRequest" data-toggle="collapse" data-target="._ParseRequest .collapse">
<h2>Parse request.</h2>
<pre>_ParseRequest() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method should be used to parse the request, check the request elements and make
any necessary adjustments before the request is <a href="_ValidateRequest()">validated</a>.</p>

<p>This is also where the relevant request elements will be logged to the relative
response sections.</p>

<p>The method is called by the <a href="__construct()">constructor</a> and should be
overloaded to handle derived classes custom elements.</p>

<p>In this class we handle the <a href="kAPI_FORMAT">format</a>,
<a href="kAPI_OPERATION">operation</a> and <a href="kAPI_DATA_TIMING">timing</a> elements.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>uses</th>
<td>\_ParseFormat()</td>
</tr>
<tr>
<th>uses</th>
<td>\_ParseOperation()</td>
</tr>
<tr>
<th>uses</th>
<td>\_ParseTiming()</td>
</tr>
</table>
</div></div>
</div>
<a name="_ParseTiming" id="_ParseTiming"></a><div class="element clickable method protected _ParseTiming" data-toggle="collapse" data-target="._ParseTiming .collapse">
<h2>Parse timing.</h2>
<pre>_ParseTiming() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method will parse the request timers.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_DATA_REQUEST</td>
</tr>
</table>
</div></div>
</div>
<a name="_ValidateFormat" id="_ValidateFormat"></a><div class="element clickable method protected _ValidateFormat" data-toggle="collapse" data-target="._ValidateFormat .collapse">
<h2>Validate request format.</h2>
<pre>_ValidateFormat() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method can be used to check whether the provided <a href="kAPI_FORMAT">format</a>
parameter is valid.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kTYPE_PHP</td>
</tr>
</table>
</div></div>
</div>
<a name="_ValidateOperation" id="_ValidateOperation"></a><div class="element clickable method protected _ValidateOperation" data-toggle="collapse" data-target="._ValidateOperation .collapse">
<h2>Validate request operation.</h2>
<pre>_ValidateOperation() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method can be used to check whether the provided
<a href="kAPI_OPERATION">operation</a> parameter is valid.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>see</th>
<td>\kAPI_OP_HELP</td>
</tr>
</table>
</div></div>
</div>
<a name="_ValidateRequest" id="_ValidateRequest"></a><div class="element clickable method protected _ValidateRequest" data-toggle="collapse" data-target="._ValidateRequest .collapse">
<h2>Validate request.</h2>
<pre>_ValidateRequest() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This method should check that the request is valid and that all required parameters
have been sent.</p>

<p>In this class we check the <a href="kAPI_FORMAT">format</a> and
<a href="kAPI_OPERATION">operation</a> codes (their presence is checked by the
<a href="__construct()">constructor</a>.</p></p>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>protected</td>
</tr>
<tr>
<th>uses</th>
<td>\_ValidateFormat()</td>
</tr>
<tr>
<th>uses</th>
<td>\_ValidateOperation()</td>
</tr>
</table>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a name="%24mReceivedStamp" id="$mReceivedStamp"> </a><div class="element clickable property protected $mReceivedStamp" data-toggle="collapse" data-target=".$mReceivedStamp .collapse">
<h2>Reception time-stamp.</h2>
<pre>$mReceivedStamp : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>This data member holds the request reception time stamp.</p></p></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a6</a> and<br>
            generated on 2012-07-11T12:27:24+02:00.<br></footer></div>
</div>
</body>
</html>
