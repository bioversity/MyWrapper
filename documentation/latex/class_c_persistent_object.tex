\hypertarget{class_c_persistent_object}{\section{C\-Persistent\-Object Class Reference}
\label{class_c_persistent_object}\index{C\-Persistent\-Object@{C\-Persistent\-Object}}
}
Inheritance diagram for C\-Persistent\-Object\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=6.000000cm]{class_c_persistent_object}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_c_persistent_object_a10d0ce97598da33eaf305eb43e418255}{\-\_\-\-\_\-construct} (\$the\-Container=N\-U\-L\-L, \$the\-Identifier=N\-U\-L\-L)
\item 
\hyperlink{class_c_persistent_object_ad076a9a2baf73bba0784deb135a3b7b7}{Commit} (\$the\-Container=N\-U\-L\-L, \$the\-Identifier=N\-U\-L\-L)
\item 
\hyperlink{class_c_persistent_object_a37c897b534e88477a06ec60b89d84450}{Uncommit} ()
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{\-\_\-\-Is\-Committed} (\$the\-State=N\-U\-L\-L)
\item 
\hyperlink{class_c_persistent_object_a3f3f673d9b838de05c39789345c06231}{\-\_\-\-Create\-Object} (\&\$the\-Content)
\item 
\hyperlink{class_c_persistent_object_a18f8a2910cfbabecf52dac660bf95c12}{\-\_\-\-Store\-Object} (\&\$the\-Container, \&\$the\-Identifier)
\item 
\hyperlink{class_c_persistent_object_afd733566c87bf239a3232bdf3aa982bc}{\-\_\-\-Find\-Object} (\&\$the\-Container, \&\$the\-Identifier)
\item 
\hyperlink{class_c_persistent_object_a1d9808bf48214b1b34b3e646ad2e981e}{\-\_\-\-Prepare\-Find} (\&\$the\-Container, \&\$the\-Identifier)
\item 
\hyperlink{class_c_persistent_object_aa97c7f242d7014b6944d3379261477ec}{\-\_\-\-Prepare\-Store} (\&\$the\-Container, \&\$the\-Identifier)
\item 
\hyperlink{class_c_persistent_object_a437ad5584c8ee53ae8bc455e36355d4e}{\-\_\-\-Finish\-Store} (\&\$the\-Container, \&\$the\-Identifier)
\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_c_persistent_object_a10d0ce97598da33eaf305eb43e418255}{\index{C\-Persistent\-Object@{C\-Persistent\-Object}!\-\_\-\-\_\-construct@{\-\_\-\-\_\-construct}}
\index{\-\_\-\-\_\-construct@{\-\_\-\-\_\-construct}!CPersistentObject@{C\-Persistent\-Object}}
\subsubsection[{\-\_\-\-\_\-construct}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-Persistent\-Object\-::\-\_\-\-\_\-construct} (
\begin{DoxyParamCaption}
\item[{\$}]{the\-Container = {\ttfamily NULL}, }
\item[{\$}]{the\-Identifier = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}}\label{class_c_persistent_object_a10d0ce97598da33eaf305eb43e418255}
Instantiate class.

The constructor can be used to instantiate an empty object, instantiate an object from some content, or load an object from a container.

The parameters to this method are\-:


\begin{DoxyItemize}
\item {\bfseries \$the\-Container}\-: This parameter represents either the contents of the object, if the next parameter is missing, or the persistent store in which the object resides. If missing, we assume we want to create an empty object. 
\begin{DoxyItemize}
\item {\itshape N\-U\-L\-L\/}\-: In this case it is assumed you want to instantiate an empty object, the next parameter will be ignored. 
\item {\itshape Array\-Object\/}\-: In this case we assume the parameter represents either\-: 
\begin{DoxyItemize}
\item the object {\itshape contents\/}\-: if the next parameter is missing, or 
\item the object {\itshape container\/}\-: if the next parameter is provided. 
\end{DoxyItemize}
\item {\itshape Other\/}\-: Any other type should be handled by derived classes, or passed here where we raise an \hyperlink{}{exception}. 
\end{DoxyItemize}
\item {\bfseries \$the\-Identifier}\-: This parameter represents the key or query that will be used to locate the object in the container provided in the first parameter. 
\begin{DoxyItemize}
\item {\itshape N\-U\-L\-L\/}\-: This indicates that the first parameter represents the object {\itshape contents\/}. 
\item {\itshape other\/}\-: Any other type is considered as a key or query used to locate the object in the container provided in the first parameter. 
\end{DoxyItemize}
\end{DoxyItemize}

Depending on the results of this method we set the \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{committed} \hyperlink{}{flag} as follows\-:


\begin{DoxyItemize}
\item {\itshape Empty object\/}\-: By omitting the first parameter we indicate that we want to start from scratch, the object will not have its \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{committed} \hyperlink{}{flag} set. 
\item {\itshape Filled object\/}\-: In this case we provide in the {\itshape \$the\-Container\/} parameter the object's {\itshape contents\/}. In this case we do not consider the object as persistent, so the object will not have its \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{committed} \hyperlink{}{flag} set. 
\item {\itshape Selected object\/}\-: In this case we search the {\itshape \$the\-Container\/} with the provided {\itshape \$the\-Identifier\/} as a key or query, and if\-: 
\begin{DoxyItemize}
\item {\itshape Found\/}\-: We set the \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{committed} \hyperlink{}{flag} on. 
\item {\itshape Not found\/}\-: We instantiate an empty object and ignore the \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{committed} \hyperlink{}{flag}. 
\end{DoxyItemize}
\end{DoxyItemize}

The \hyperlink{class_c_status_object_a8429102e4f52f7558649b64f4e673a69}{inited} \hyperlink{}{flag} is the responsibility of derived classes, here we do not manage it.

In derived classes you should not overload this method, instead, you should overload the protected interface\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{class_c_persistent_object_a1d9808bf48214b1b34b3e646ad2e981e}{\-\_\-\-Prepare\-Find}()\/}\-: This method can be used to initialise or normalise the container and identifier; this method will only be called if the identifier was provided, in other words, when loading the object from a container. In this class this method will ensure that the container is an Array\-Object. 
\item {\itshape \hyperlink{class_c_persistent_object_afd733566c87bf239a3232bdf3aa982bc}{\-\_\-\-Find\-Object}()\/}\-: This method will perform the actual retrieval of the object from the container, it is only called if the identifier was provided. 
\item {\itshape \hyperlink{class_c_persistent_object_a3f3f673d9b838de05c39789345c06231}{\-\_\-\-Create\-Object}()\/}\-: This method will instantiate the contents of the object, that is\-: with the container, if the identifier was not provided; or with the result of the object \hyperlink{class_c_persistent_object_afd733566c87bf239a3232bdf3aa982bc}{retrieval}. 
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$the\-Container} & Persistent container. \\
\hline
mixed & {\em \$the\-Identifier} & Object identifier.\\
\hline
\end{DoxyParams}
public


\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{class_c_exception}{C\-Exception}} & \hyperlink{class_c_persistent_object_a1d9808bf48214b1b34b3e646ad2e981e}{\-\_\-\-Prepare\-Find()}  \hyperlink{class_c_persistent_object_afd733566c87bf239a3232bdf3aa982bc}{\-\_\-\-Find\-Object()}  \hyperlink{class_c_persistent_object_a3f3f673d9b838de05c39789345c06231}{\-\_\-\-Create\-Object()}  \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{\-\_\-\-Is\-Committed()} \\
\hline
\end{DoxyExceptions}


Reimplemented in \hyperlink{class_c_entity_ac087e5b3d14357f452ab531db5f6a7e9}{C\-Entity}, \hyperlink{class_c_mongo_d_b_ref_a13de8db465efc2ac47c38cfc36bce4b9}{C\-Mongo\-D\-B\-Ref}, and \hyperlink{class_c_user_a728ac6fd50a9f9e18dfe2fa547d5c798}{C\-User}.



\subsection{Member Function Documentation}
\hypertarget{class_c_persistent_object_a3f3f673d9b838de05c39789345c06231}{\index{C\-Persistent\-Object@{C\-Persistent\-Object}!\-\_\-\-Create\-Object@{\-\_\-\-Create\-Object}}
\index{\-\_\-\-Create\-Object@{\-\_\-\-Create\-Object}!CPersistentObject@{C\-Persistent\-Object}}
\subsubsection[{\-\_\-\-Create\-Object}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-Persistent\-Object\-::\-\_\-\-Create\-Object} (
\begin{DoxyParamCaption}
\item[{\&\$}]{the\-Content}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{class_c_persistent_object_a3f3f673d9b838de05c39789345c06231}
Create object.

The duty of this method is to instantiate an object with the provided data.

This class expects the content to be either {\itshape N\-U\-L\-L\/}, meaning we are instantiating an empty object, an {\itshape array\/} or an {\itshape Array\-Object\/}, in which case we are instantiating an object from the provided data; other types should either be handled by derived classes or raise an \hyperlink{}{exception}.

The method returns a boolean where {\itshape T\-R\-U\-E\/} indicates that the object was instantiated with data, and {\itshape F\-A\-L\-S\-E\/} indicating that the object is empty. This will be used to set the object \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{committed} \hyperlink{}{flag}.

The parameter is provided as a reference.


\begin{DoxyParams}[1]{Parameters}
reference & {\em \&\$the\-Content} & Object data content.\\
\hline
\end{DoxyParams}
protected \begin{DoxyReturn}{Returns}
boolean
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{class_c_exception}{C\-Exception}} & \\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
k\-E\-R\-R\-O\-R\-\_\-\-U\-N\-S\-U\-P\-P\-O\-R\-T\-E\-D 
\end{DoxySeeAlso}
\hypertarget{class_c_persistent_object_afd733566c87bf239a3232bdf3aa982bc}{\index{C\-Persistent\-Object@{C\-Persistent\-Object}!\-\_\-\-Find\-Object@{\-\_\-\-Find\-Object}}
\index{\-\_\-\-Find\-Object@{\-\_\-\-Find\-Object}!CPersistentObject@{C\-Persistent\-Object}}
\subsubsection[{\-\_\-\-Find\-Object}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-Persistent\-Object\-::\-\_\-\-Find\-Object} (
\begin{DoxyParamCaption}
\item[{\&\$}]{the\-Container, }
\item[{\&\$}]{the\-Identifier}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{class_c_persistent_object_afd733566c87bf239a3232bdf3aa982bc}
Find object.

The duty of this method is to locate the object identified by {\itshape \$the\-Identifier\/} in the container {\itshape \$the\-Container\/} and return its contents or {\itshape N\-U\-L\-L\/} if not found.

The method should expect both parameters to have been previously checked\-: in this class, the container must be an {\itshape Array\-Object\/} representing either the actual container, or a \hyperlink{class_c_container}{C\-Container} derived instance which will take care of locating the object within its managed native container.


\begin{DoxyParams}[1]{Parameters}
reference & {\em \&\$the\-Container} & Object container. \\
\hline
reference & {\em \&\$the\-Identifier} & Object identifier.\\
\hline
\end{DoxyParams}
protected \begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}
\hypertarget{class_c_persistent_object_a437ad5584c8ee53ae8bc455e36355d4e}{\index{C\-Persistent\-Object@{C\-Persistent\-Object}!\-\_\-\-Finish\-Store@{\-\_\-\-Finish\-Store}}
\index{\-\_\-\-Finish\-Store@{\-\_\-\-Finish\-Store}!CPersistentObject@{C\-Persistent\-Object}}
\subsubsection[{\-\_\-\-Finish\-Store}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-Persistent\-Object\-::\-\_\-\-Finish\-Store} (
\begin{DoxyParamCaption}
\item[{\&\$}]{the\-Container, }
\item[{\&\$}]{the\-Identifier}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{class_c_persistent_object_a437ad5584c8ee53ae8bc455e36355d4e}
Normalise after a store.

This method will be called after the \hyperlink{class_c_persistent_object_a18f8a2910cfbabecf52dac660bf95c12}{store} operation, its duty is to restore the object and the parameters to the state they were before the \hyperlink{class_c_persistent_object_a18f8a2910cfbabecf52dac660bf95c12}{commit} operation.


\begin{DoxyParams}[1]{Parameters}
reference & {\em \&\$the\-Container} & Object container. \\
\hline
reference & {\em \&\$the\-Identifier} & Object identifier.\\
\hline
\end{DoxyParams}
protected \hypertarget{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{\index{C\-Persistent\-Object@{C\-Persistent\-Object}!\-\_\-\-Is\-Committed@{\-\_\-\-Is\-Committed}}
\index{\-\_\-\-Is\-Committed@{\-\_\-\-Is\-Committed}!CPersistentObject@{C\-Persistent\-Object}}
\subsubsection[{\-\_\-\-Is\-Committed}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-Persistent\-Object\-::\-\_\-\-Is\-Committed} (
\begin{DoxyParamCaption}
\item[{\$}]{the\-State = {\ttfamily NULL}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}
Manage committed status.

This method can be used to get or set the object's committed state.

A committed object is one that has either been loaded from a container or committed to a container. This state indicates that the object is persistent. This state, combined with the \hyperlink{class_c_status_object_a19c4ac94dfe26476e780d77b99744d43}{dirty} status, can determine if an object needs to be committed in a container or not.

The method features a single parameter\-:


\begin{DoxyItemize}
\item {\itshape N\-U\-L\-L\/}\-: The method will return {\itshape T\-R\-U\-E\/} if the object is committed, or {\itshape F\-A\-L\-S\-E\/} if the object is not committed. 
\item {\itshape T\-R\-U\-E\/}\-: The method will set the object to committed. 
\item {\itshape F\-A\-L\-S\-E\/}\-: The method will reset the object's committed state. 
\end{DoxyItemize}

In all cases the method will return the state {\itshape after\/} it was eventually modified.


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$the\-State} & T\-R\-U\-E, F\-A\-L\-S\-E or N\-U\-L\-L.\\
\hline
\end{DoxyParams}
protected \begin{DoxyReturn}{Returns}
boolean
\end{DoxyReturn}
\hyperlink{class_c_status_object_a3e37d72a6462d93bf7ff567f07f78093}{\-\_\-\-Manage\-Bit\-Field()}

\begin{DoxySeeAlso}{See also}
k\-F\-L\-A\-G\-\_\-\-S\-T\-A\-T\-E\-\_\-\-C\-O\-M\-M\-I\-T\-T\-E\-D 
\end{DoxySeeAlso}
\hypertarget{class_c_persistent_object_a1d9808bf48214b1b34b3e646ad2e981e}{\index{C\-Persistent\-Object@{C\-Persistent\-Object}!\-\_\-\-Prepare\-Find@{\-\_\-\-Prepare\-Find}}
\index{\-\_\-\-Prepare\-Find@{\-\_\-\-Prepare\-Find}!CPersistentObject@{C\-Persistent\-Object}}
\subsubsection[{\-\_\-\-Prepare\-Find}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-Persistent\-Object\-::\-\_\-\-Prepare\-Find} (
\begin{DoxyParamCaption}
\item[{\&\$}]{the\-Container, }
\item[{\&\$}]{the\-Identifier}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{class_c_persistent_object_a1d9808bf48214b1b34b3e646ad2e981e}
Normalise parameters of a find.

The duty of this method is to ensure that the parameters provided to a \hyperlink{class_c_persistent_object_afd733566c87bf239a3232bdf3aa982bc}{find} operation are valid.

The method should first check if the provided container is of the correct type, then it should ensure that the identifier is valid.

We know that the identifier cannot be missing, since this method is only called if the identifier was provided. We should check that the provided container is of the correct type. In derived classes you should first handle your custom types, then let the parent method handle other types.

Any errors should raise an exception.

In this class we only support {\itshape Array\-Object\/} containers and the identifier is not expected to be {\itshape N\-U\-L\-L\/}.


\begin{DoxyParams}[1]{Parameters}
reference & {\em \&\$the\-Container} & Object container. \\
\hline
reference & {\em \&\$the\-Identifier} & Object identifier.\\
\hline
\end{DoxyParams}
protected


\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{class_c_exception}{C\-Exception}} & \\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
k\-E\-R\-R\-O\-R\-\_\-\-O\-P\-T\-I\-O\-N\-\_\-\-M\-I\-S\-S\-I\-N\-G k\-E\-R\-R\-O\-R\-\_\-\-U\-N\-S\-U\-P\-P\-O\-R\-T\-E\-D 
\end{DoxySeeAlso}


Reimplemented in \hyperlink{class_c_persistent_unit_object_a68e0b572ee840cd8d8db4e1bb499c89f}{C\-Persistent\-Unit\-Object}.

\hypertarget{class_c_persistent_object_aa97c7f242d7014b6944d3379261477ec}{\index{C\-Persistent\-Object@{C\-Persistent\-Object}!\-\_\-\-Prepare\-Store@{\-\_\-\-Prepare\-Store}}
\index{\-\_\-\-Prepare\-Store@{\-\_\-\-Prepare\-Store}!CPersistentObject@{C\-Persistent\-Object}}
\subsubsection[{\-\_\-\-Prepare\-Store}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-Persistent\-Object\-::\-\_\-\-Prepare\-Store} (
\begin{DoxyParamCaption}
\item[{\&\$}]{the\-Container, }
\item[{\&\$}]{the\-Identifier}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{class_c_persistent_object_aa97c7f242d7014b6944d3379261477ec}
Normalise before a store.

This method will be called before the \hyperlink{class_c_persistent_object_a18f8a2910cfbabecf52dac660bf95c12}{store} operation, its duty is to prepare the object and the parameters for the \hyperlink{class_c_persistent_object_a18f8a2910cfbabecf52dac660bf95c12}{commit}.

In this class we ensure that the container is either an Array\-Object or a \hyperlink{class_c_container}{C\-Container} derived instance, any other type will raise an exception. In derived classes you should handle your custom containers or delegate to the parent.

In this class we do not check the identifier.

Any errors should raise an exception.


\begin{DoxyParams}[1]{Parameters}
reference & {\em \&\$the\-Container} & Object container. \\
\hline
reference & {\em \&\$the\-Identifier} & Object identifier.\\
\hline
\end{DoxyParams}
protected


\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{class_c_exception}{C\-Exception}} & \hyperlink{class_c_status_object_a8429102e4f52f7558649b64f4e673a69}{\-\_\-\-Is\-Inited()}\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
k\-E\-R\-R\-O\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-P\-A\-R\-A\-M\-E\-T\-E\-R k\-E\-R\-R\-O\-R\-\_\-\-O\-P\-T\-I\-O\-N\-\_\-\-M\-I\-S\-S\-I\-N\-G k\-E\-R\-R\-O\-R\-\_\-\-U\-N\-S\-U\-P\-P\-O\-R\-T\-E\-D 
\end{DoxySeeAlso}


Reimplemented in \hyperlink{class_c_entity_a991f328223b1b00b37e9028b16f7a7c8}{C\-Entity}, \hyperlink{class_c_persistent_unit_object_a42b46ccb307aa8038e5ed78819a23aa6}{C\-Persistent\-Unit\-Object}, and \hyperlink{class_c_user_a031f5d13fe837cf445006ee21023bf3e}{C\-User}.

\hypertarget{class_c_persistent_object_a18f8a2910cfbabecf52dac660bf95c12}{\index{C\-Persistent\-Object@{C\-Persistent\-Object}!\-\_\-\-Store\-Object@{\-\_\-\-Store\-Object}}
\index{\-\_\-\-Store\-Object@{\-\_\-\-Store\-Object}!CPersistentObject@{C\-Persistent\-Object}}
\subsubsection[{\-\_\-\-Store\-Object}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-Persistent\-Object\-::\-\_\-\-Store\-Object} (
\begin{DoxyParamCaption}
\item[{\&\$}]{the\-Container, }
\item[{\&\$}]{the\-Identifier}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{class_c_persistent_object_a18f8a2910cfbabecf52dac660bf95c12}
Store object in container.

The duty of this method is to store the current object in the provided container with a key provided by the identifier.

This class can store objects in Array\-Object containers and in \hyperlink{class_c_container}{C\-Container} derived instances, in the latter case the storing will be delegated to the container.

The method should expect both parameters to have been previously \hyperlink{class_c_persistent_object_aa97c7f242d7014b6944d3379261477ec}{checked}, its main duty is to perform the actual storage. In derived classes you should intercept custom containers, or call the parent method.

{\itshape Note\-: the duty of this method is to store only the array part of the object, properties should be ignored.\/}


\begin{DoxyParams}[1]{Parameters}
reference & {\em \&\$the\-Container} & Object container. \\
\hline
reference & {\em \&\$the\-Identifier} & Object identifier.\\
\hline
\end{DoxyParams}
protected \begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}
\hypertarget{class_c_persistent_object_ad076a9a2baf73bba0784deb135a3b7b7}{\index{C\-Persistent\-Object@{C\-Persistent\-Object}!Commit@{Commit}}
\index{Commit@{Commit}!CPersistentObject@{C\-Persistent\-Object}}
\subsubsection[{Commit}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-Persistent\-Object\-::\-Commit} (
\begin{DoxyParamCaption}
\item[{\$}]{the\-Container = {\ttfamily NULL}, }
\item[{\$}]{the\-Identifier = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}}\label{class_c_persistent_object_ad076a9a2baf73bba0784deb135a3b7b7}
Commit the object into a container.

This method should be used to commit the object to a container, the method accepts two parameters\-:


\begin{DoxyItemize}
\item {\bfseries \$the\-Container}\-: This parameter represents the {\itshape container\/} in which the object is to be stored. It may either be a \hyperlink{class_c_container}{C\-Container} derived instance or an {\itshape Array\-Object\/} which will be considered the persistent object store. This parameter may also be omitted, in which case derived classes will have to implement a default collection. 
\item {\bfseries \$the\-Identifier}\-: This parameter represents the unique identifier of the object within the container provided in the first parameter. 
\end{DoxyItemize}

The method will only operate if either the \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{committed} \hyperlink{}{flag} is {\itshape not\/} set, or the \hyperlink{class_c_status_object_a19c4ac94dfe26476e780d77b99744d43}{dirty} \hyperlink{}{flag} is {\itshape set\/}, if none of these two conditions are satisfied, the method will just exit.

The method will by default {\itshape set\/} the \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{committed} \hyperlink{}{flag} and {\itshape reset\/} the \hyperlink{class_c_status_object_a19c4ac94dfe26476e780d77b99744d43}{dirty} \hyperlink{}{flag}.

This method should raise an exception if any error occurs.

The method should return the unique identifier of the object or {\itshape N\-U\-L\-L\/} if the operation was not performed.

In derived classes you should not overload this method, instead, you should overload the protected interface\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{class_c_persistent_object_aa97c7f242d7014b6944d3379261477ec}{\-\_\-\-Prepare\-Store}()\/}\-: This method can be used to initialise or check both the container and the identifier. 
\item {\itshape \hyperlink{class_c_persistent_object_a18f8a2910cfbabecf52dac660bf95c12}{\-\_\-\-Store\-Object}()\/}\-: This method will perform the actual commit. 
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$the\-Container} & Persistent container. \\
\hline
mixed & {\em \$the\-Identifier} & Object identifier.\\
\hline
\end{DoxyParams}
public \begin{DoxyReturn}{Returns}
mixed
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{class_c_exception}{C\-Exception}} & \hyperlink{class_c_status_object_a19c4ac94dfe26476e780d77b99744d43}{\-\_\-\-Is\-Dirty()}  \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{\-\_\-\-Is\-Committed()}  \-\_\-\-Check\-Container()  \-\_\-\-Check\-Identifier()  \hyperlink{class_c_persistent_object_a18f8a2910cfbabecf52dac660bf95c12}{\-\_\-\-Store\-Object()} \\
\hline
\end{DoxyExceptions}
\hypertarget{class_c_persistent_object_a37c897b534e88477a06ec60b89d84450}{\index{C\-Persistent\-Object@{C\-Persistent\-Object}!Uncommit@{Uncommit}}
\index{Uncommit@{Uncommit}!CPersistentObject@{C\-Persistent\-Object}}
\subsubsection[{Uncommit}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-Persistent\-Object\-::\-Uncommit} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_c_persistent_object_a37c897b534e88477a06ec60b89d84450}
Reset \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{committed} status.

This method can be used to reset the object's \hyperlink{}{committed} \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{status}, this may be necessary when copying an object from one container to the other, since the object will be \hyperlink{class_c_persistent_object_ad076a9a2baf73bba0784deb135a3b7b7}{committed} only if the \hyperlink{}{committed} \hyperlink{class_c_persistent_object_a6520a7bcecf3f39fd61ec6d08f736e77}{status} is not set, or if the \hyperlink{}{dirsty} \hyperlink{class_c_status_object_a19c4ac94dfe26476e780d77b99744d43}{status} is set.

public 

The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
/\-Library/\-Web\-Server/\-Library/wrapper/classes/C\-Persistent\-Object.\-php\end{DoxyCompactItemize}
