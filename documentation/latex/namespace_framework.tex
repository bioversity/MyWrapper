\hypertarget{namespace_framework}{\section{Framework Namespace Reference}
\label{namespace_framework}\index{Framework@{Framework}}
}


\subsection{Detailed Description}
{\itshape \hyperlink{class_c_array_container}{C\-Array\-Container}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_array_container}{C\-Array\-Container}} which implements an array or Array\-Object store.

\begin{DoxyVerb}    @subpackage     Persistence

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 07/03/2012\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Array persistent data store.

This class extends its \hyperlink{class_c_container}{ancestor} to implement a concrete object store instance consisting of an array or Array\-Object. All other concrete instances of persistent object stores derive from this class, so that they might fall back onto a default working implementation.

Persistence

{\itshape \hyperlink{class_c_array_object}{C\-Array\-Object}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_array_object}{C\-Array\-Object}} which represents the ancestor of all classes in this library.

\begin{DoxyVerb}    @subpackage     Core

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 07/04/2009
                            2.00 23/11/2010
                            3.00 13/02/2012\end{DoxyVerb}


Library.

This include file contains the definitions of the \hyperlink{class_c_object}{C\-Object} class which contains a static library of methods. Offsets.

This include file contains all default offset definitions. Common ancestor.

This class represents the ancestor of most entity mapped classes, it maps objects to an array by deriving from \hyperlink{}{Array\-Object} and it defines a couple of general purpose utility static methods.

This class implements the following interfaces\-:


\begin{DoxyItemize}
\item {\itshape Offsets\/}\-: In this class there cannot be an offset with a {\itshape N\-U\-L\-L\/} value, the offset itself should be \hyperlink{}{deleted} in that case. Because of this we also override the inherited behaviour by suppressing notices and warnings when \hyperlink{}{getting} non-\/existant offsets. 
\item {\itshape String formatting\/}\-: We provide a generalised static method to \hyperlink{}{format} strings which accepts a bitfield parameter that indicates which operation to perform, such as \hyperlink{}{U\-T\-F8} encode, \hyperlink{}{left} and \hyperlink{}{right} trim, \hyperlink{}{N\-U\-L\-L} handling, \hyperlink{}{case} insensitive conversion, \hyperlink{}{U\-R\-L}, \hyperlink{}{H\-T\-M\-L} and \hyperlink{}{H\-E\-X} encoding and \hyperlink{}{hashing}. 
\item {\itshape Time formatting\/}\-: We provide a generalised static \hyperlink{}{method} to display duration strings. 
\end{DoxyItemize}

Core

{\itshape \hyperlink{class_c_container}{C\-Container}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_container}{C\-Container}} which represents the ancestor of all object stores in this library.

\begin{DoxyVerb}    @subpackage     Persistence

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 07/03/2012\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Types.

This include file contains all type definitions. Persistent objects data store ancestor.

This {\itshape abstract\/} class is the ancestor of all persistent object data stores, it implements the common interfaces shared by all concrete instances of object data stores.

The class is designed to work with one object at the time, which means that it expects and returns one object, it does not handle object collections.

Persistence operations are performed through three methods\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{Commit}\/}\-: This method will insert, replace or modify objects in the current object store. 
\item {\itshape \hyperlink{}{Load}\/}\-: This method will retrieve objects from the current object store. 
\item {\itshape \hyperlink{}{Delete}\/}\-: This method will remove objects from the current object store. 
\end{DoxyItemize}

The class features a \hyperlink{}{member} that holds the native data store.

Persistence

\hyperlink{class_c_data_wrapper}{C\-Data\-Wrapper} definitions.

This file contains common definitions used by the \hyperlink{class_c_data_wrapper}{C\-Data\-Wrapper} class.

\begin{DoxyVerb}    @subpackage     Wrappers

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 05/06/2011
                            2.00 22/02/2012\end{DoxyVerb}


{\itshape \hyperlink{class_c_data_wrapper}{C\-Data\-Wrapper}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_data_wrapper}{C\-Data\-Wrapper}} which overloads its \hyperlink{class_c_wrapper}{ancestor} to implement a data store wrapper.

\begin{DoxyVerb}    @subpackage     Wrappers

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 05/06/2011
                            2.00 22/02/2012\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Query definitions.

This include file contains the definitions of the \hyperlink{class_c_query}{query} class. Local definitions.

This include file contains all local definitions to this class. Data wrapper.

This class overloads its \hyperlink{class_c_wrapper}{ancestor} to implement a web service that wraps a data store, it represents a framework for building concrete data store web-\/service wrappers.

The class introduces a series of new operations and filter options that must be implemented in derived classes which implement a specific data store.

These new functionalities require a new set of parameters\-:


\begin{DoxyItemize}
\item {\itshape Data store parameters\/}\-: In order to refer to a specific data store we need two parameters\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-B\-A\-S\-E}\/}\-: {\itshape Database\/}, this parameter should indicate the database or equivalent concept where the data should be stored or retrieved. This parameter can be compared to the database part of an S\-Q\-L table reference ({\itshape D\-A\-T\-A\-B\-A\-S\-E\/}.T\-A\-B\-L\-E). 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-C\-O\-N\-T\-A\-I\-N\-E\-R}\/}\-: {\itshape Container\/}, this parameter should indicate which container within the \hyperlink{}{database} should be used to store or retrieve the data. This parameter can be compared to the table part of an S\-Q\-L table reference (D\-A\-T\-A\-B\-A\-S\-E.{\itshape T\-A\-B\-L\-E\/}). 
\end{DoxyItemize}
\item {\itshape Paging parameters\/}\-: Query results may possibly return large amounts of data, this means that a paging mechanism should be set in place\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-P\-A\-G\-E\-\_\-\-S\-T\-A\-R\-T}\/}\-: {\itshape Page start\/}, this parameter indicates the starting page or record. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-P\-A\-G\-E\-\_\-\-L\-I\-M\-I\-T}\/}\-: {\itshape Page count\/}, this parameter indicates the maximum number of pages or records that the operation should return. 
\end{DoxyItemize}
\item {\itshape Data parameters\/}\-: A query is formed by a series of sections, each of which is provided with the following parameters\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-Q\-U\-E\-R\-Y}\/}\-: {\itshape Query\/}, this parameter is used when retrieving data, it represents the filter or selection query; it must be expressed as one of the query \hyperlink{class_c_query}{class} siblings. This parameter can be compared to the {\itshape W\-H\-E\-R\-E\/} part of an S\-Q\-L query. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-F\-I\-E\-L\-D}\/}\-: {\itshape Fields\/}, this parameter indicates which elements of the selected objects we want returned. This parameter can be compared to the {\itshape S\-E\-L\-E\-C\-T\/} part of an S\-Q\-L query. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-S\-O\-R\-T}\/}\-: {\itshape Sort fields\/}, this parameter indicates the sort order, the list of data elements by which the result is to be sorted. This parameter can be compared to the \hyperlink{}{field} parameter or to the {\itshape O\-R\-D\-E\-R B\-Y\/} part of an S\-Q\-L query. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-O\-B\-J\-E\-C\-T}\/}\-: {\itshape Object data\/}, this parameter represents the data to be stored in the database, the type should ideally be abstracted from the data store engine. This parameter can be compared to the {\itshape V\-A\-L\-U\-E\-S\/} or {\itshape S\-E\-T\/} part of an S\-Q\-L query. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-O\-P\-T\-I\-O\-N\-S}\/}\-: {\itshape Options\/}, this parameter represents the options governing data store and retrieve operations. In general it will cover the options when storing data and the actual implementation is the responsibility of derived classes\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-S\-A\-F\-E}\/}\-: Safe commit option, this is relevant only when committing data. If this option is {\itshape O\-F\-F\/}, it means we want to perform an asynchronous operation\-: the store operation will occur in the background and the program execution will not wait for it to finish; this also means that the client is responsible for checking whether the operation completed. If the option is {\itshape O\-N\/}, the operation is synchronous, which means that the program will wait for the store operation to complete. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-F\-S\-Y\-N\-C}\/}\-: File sync option, this tag is relevant only when committing data. If the option is {\itshape O\-N\/}, it means that the store operation will wait until the data is actually written to disk; which may not necessarily be the case even if the \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-S\-A\-F\-E} option was on. When this option is set, it is implied that the \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-S\-A\-F\-E} option is also on. If the option is {\itshape O\-F\-F\/}, it means that the data will be synched to disk only when the buffer is flushed. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-T\-I\-M\-E\-O\-U\-T}\/}\-: Operation timeout, it represents the time in milliseconds beyond which the client will stop waiting for a response and expect a time out status. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-S\-I\-N\-G\-L\-E}\/}\-: First element, this option is used by the \hyperlink{}{delete} operation\-: if {\itshape O\-N\/}, only the first object satisfying the \hyperlink{}{query} will be deleted; if {\itshape O\-F\-F\/} all selected elements will be deleted. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-S\-I\-N\-G\-L\-E}\/}\-: First element, this option 
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

The new operations declared in this class are\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-C\-O\-U\-N\-T}\/}\-: This operation requests a count, which is an integer indicating the total number of elements satisfying the provided \hyperlink{}{query}. This number is not to be confused with the page element \hyperlink{}{count} described further. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-G\-E\-T}\/}\-: This operation is equivalent to a read query, it requests a list of objects satisfying the provided \hyperlink{}{query}. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-S\-E\-T}\/}\-: This operation is equivalent to an insert for new objects or an update for existing objects, the operation will replace the object in the data store with the one provided in the \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-O\-B\-J\-E\-C\-T} parameter. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-U\-P\-D\-A\-T\-E}\/}\-: This operation is equivalent to an update operation, this implies that the object must already exist in the data store and that the operation will replace the object in the data store with the one provided in the \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-O\-B\-J\-E\-C\-T} parameter. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-I\-N\-S\-E\-R\-T}\/}\-: This operation is equivalent to an insert operation, this implies that the object must not already exist in the data store. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-M\-O\-D\-I\-F\-Y}\/}\-: This operation indicates that we want to modify the contents of an existing object and that the \hyperlink{}{provided} data represents only the changed elements. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-D\-E\-L}\/}\-: This operation indicates that we want to delete the elements matching the provided \hyperlink{}{query}\-: the first one only, if the provided \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-S\-I\-N\-G\-L\-E} option is on, or all if off or omitted. 
\end{DoxyItemize}

The added functionality implies that a series of additional sections will be returned in the response\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-P\-A\-G\-I\-N\-G}\/}\-: Paging section, this section will return the paging information of the current operation, besides the provided \hyperlink{}{start} and \hyperlink{}{limit} parameters, it will also feature\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-P\-A\-G\-E\-\_\-\-C\-O\-U\-N\-T}\/}\-: This element will hold the actual number of returned objects, this number will be either equal or smaller than the provided \hyperlink{}{limit} parameter. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-R\-E\-S\-P\-O\-N\-S\-E}\/}\-: Response, this section will hold the results of the operation. 
\end{DoxyItemize}

\begin{DoxyVerb}    @subpackage     Wrappers\end{DoxyVerb}


\hyperlink{class_c_entity}{C\-Entity} definitions.

This file contains common definitions used by the \hyperlink{class_c_entity}{C\-Entity} class.

\begin{DoxyVerb}    @subpackage     Wrappers

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 13/03/2012\end{DoxyVerb}


Exception class definitions.

This file contains the definitions of local exception classes.

Low level exceptions are all derived from the S\-P\-L exception classes and do not add any further functionality.

High level exceptions add specific functionality and would be triggered by queing low level exceptions.

\begin{DoxyVerb}    @subpackage     Core

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 22/12/2010
                            2.00 02/02/2012\end{DoxyVerb}


Errors.

This include file contains all error code definitions. Message types.

This include file contains all message severity definitions. Exception class.

This class extends the built-\/in {\itshape Exception\/} class by adding a series of additional members and functionality.

\hyperlink{}{Severity} represents the severity of the exception such as {\itshape error\/}, {\itshape warning\/}, etc. You are free to set any value, but in this library we support the following standard\-: 
\begin{DoxyItemize}
\item {\bfseries \hyperlink{}{Idle}}\-: Idle state. 
\item {\bfseries \hyperlink{}{Notice}}\-: Statistical information or message. 
\item {\bfseries \hyperlink{}{Message}}\-: A message. 
\item {\bfseries \hyperlink{}{Warning}}\-: A warning. 
\item {\bfseries \hyperlink{}{Error}}\-: An error. 
\item {\bfseries \hyperlink{}{Fatal}}\-: A fatal error. 
\item {\bfseries \hyperlink{}{Bug}}\-: A bug. 
\end{DoxyItemize}

\hyperlink{}{References} represent a list of reference values structured as an array of key/value pairs where the key represents the reference label or name and the value the reference value. Labels must be strings, values can be of any type.

Note that this class does not throw exceptions (hahaha), operations that fail are simply aborted.

\begin{DoxyVerb}    @subpackage     Core\end{DoxyVerb}


{\itshape \hyperlink{class_c_mongo_container}{C\-Mongo\-Container}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_mongo_container}{C\-Mongo\-Container}} which implements a Mongo\-D\-B object store.

\begin{DoxyVerb}    @subpackage     Persistence

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 08/03/2012\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Offsets.

This include file contains all default offset definitions. Mongo persistent data store.

This class extends its \hyperlink{class_c_container}{ancestor} to implement an object store based on Mongo\-Collection containers.

Persistence

\begin{DoxyVerb}   {@link CMongoDataWrapper CMongoDataWrapper} definitions.\end{DoxyVerb}
 This file contains common definitions used by the \hyperlink{class_c_mongo_data_wrapper}{C\-Mongo\-Data\-Wrapper} class.

\begin{DoxyVerb}    @subpackage     Wrappers

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 07/06/2011
                            2.00 23/02/2012\end{DoxyVerb}


{\itshape \hyperlink{class_c_mongo_data_wrapper}{C\-Mongo\-Data\-Wrapper}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_mongo_data_wrapper}{C\-Mongo\-Data\-Wrapper}} which overloads its \hyperlink{class_c_data_wrapper}{ancestor} to implement a Mongo data store wrapper.

\begin{DoxyVerb}    @subpackage     Wrappers

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 07/06/2011
                            2.00 23/02/2012\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Mongo query.

This include file contains the Mongo \hyperlink{class_c_mongo_query}{object} class definitions. Session.

This include file contains common session tag definitions. Local definitions.

This include file contains all local definitions to this class. Mongo data wrapper.

This class overloads its \hyperlink{class_c_data_wrapper}{ancestor} to implement a web-\/service that uses a Mongo\-D\-B data store to manage objects.

This class implements the various elements declared in its \hyperlink{class_c_data_wrapper}{ancestor} and adds the following options\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-G\-E\-T\-\_\-\-O\-N\-E}\/}\-: This \hyperlink{}{operation} is equivalent to the \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-G\-E\-T} operation, except that it will only return the first found element. It is equivalent to the Mongo find\-One() method. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-G\-E\-T\-\_\-\-O\-B\-J\-E\-C\-T\-\_\-\-R\-E\-F}\/}\-: This \hyperlink{}{operation} will return an object referenced by an object reference ({\itshape Mongo\-D\-B\-Ref\/}). With this command you will not provide the \hyperlink{}{container} and the \hyperlink{}{query}, but you will provide an object reference in the \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-O\-B\-J\-E\-C\-T} parameter. Remember to \hyperlink{}{serialise} the reference before providing it to the wrapper. 
\end{DoxyItemize}

This class also implements a static interface that can be used to \hyperlink{}{serialise} or \hyperlink{}{unserialise} data flowing to and from the service parameters and the Mongo container.

\begin{DoxyVerb}    @subpackage     Wrappers\end{DoxyVerb}


{\itshape \hyperlink{class_c_mongo_d_b_ref}{C\-Mongo\-D\-B\-Ref}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_mongo_d_b_ref}{C\-Mongo\-D\-B\-Ref}} which implements the Mongo\-D\-B\-Ref class as an instance.

\begin{DoxyVerb}    @subpackage     Persistence

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 28/02/2012\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Mongo object reference.

This class implements the Mongo\-D\-B\-Ref class as an instance\-: that is, a \hyperlink{class_c_persistent_object}{C\-Persistent\-Object} derived object which contains as properties the elements comprising a Mongo object reference.

The object properties are the same as the Mongo\-D\-B\-Ref properties\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-D\-A\-T\-A\-B\-A\-S\-E\-\_\-\-R\-E\-F\-E\-R\-E\-N\-C\-E}\/}\-: Database reference. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-C\-O\-L\-L\-E\-C\-T\-I\-O\-N\-\_\-\-R\-E\-F\-E\-R\-E\-N\-C\-E}\/}\-: Collection reference. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-I\-D\-\_\-\-R\-E\-F\-E\-R\-E\-N\-C\-E}\/}\-: Object identifier. 
\end{DoxyItemize}

This class adds a new reference offset, \hyperlink{}{k\-T\-A\-G\-\_\-\-C\-L\-A\-S\-S}, which is used to instantiate the correct class when dereferencing; this property is either set \hyperlink{}{explicitly} or it is taken from the provided reference \hyperlink{}{offset} when \hyperlink{}{constructing} the object.

\begin{DoxyVerb}    @subpackage     Persistence\end{DoxyVerb}


{\itshape \hyperlink{class_c_mongo_query}{C\-Mongo\-Query}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_mongo_query}{C\-Mongo\-Query}} which overloads its \hyperlink{class_c_query}{ancestor} to implement a Mongo query object.

\begin{DoxyVerb}    @subpackage     Persistence

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 13/06/2011\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Mongo container.

This include file contains the class definitions of the Mongo container. Mongo query.

This class extends its \hyperlink{class_c_query}{ancestor} to implement a public method that will convert the current object's query into a query suitable to be submitted to a Mongo database.

This class implements a query that \hyperlink{}{exports} as a Mongo query.

\begin{DoxyVerb}    @subpackage     Persistence\end{DoxyVerb}


{\itshape \hyperlink{class_c_object}{C\-Object}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_object}{C\-Object}} which contains common static methods and definitions.

\begin{DoxyVerb}    @subpackage     Core

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 07/04/2012\end{DoxyVerb}


Exceptions.

This include file contains all exception class definitions. Flags.

This include file contains all flags definitions. Common static ancestor.

This {\itshape abstract\/} class implements a common interface shared by all classes in this library.

The library uses the following conventions\-:

{\bfseries Naming standards}


\begin{DoxyItemize}
\item {\bfseries Classes}\-: All class names in this library start with a capital ({\itshape C\/}), for instance {\itshape C\-Another\-Class\/}, followed by a name starting with another capital letter. 
\item {\bfseries Public methods}\-: All public method names should begin with a capital letter, for instance {\itshape Another\-Method()\/}. 
\item {\bfseries Protected and private methods}\-: All protected and private method names should begin with an underscore, for instance {\itshape \-\_\-\-Another\-Method()\/}. Another case in which names would start with an underscore is with core static methods. 
\item {\bfseries Members}\-: All members should start with lowercase ({\itshape m\/}), followed by a capital letter. For instance {\itshape m\-Member\/}. 
\item {\bfseries Static members}\-: All static members should begin with lowercase ({\itshape s\/}), so a static member could be {\itshape C\-Some\-Class\-::\$s\-Static\-Member\/}. 
\item {\bfseries Definitions}\-: All definitions should start with a ({\itshape k\/}) and be followed by a code and ending with an uppercase name, for instance {\itshape k\-T\-A\-G\-\_\-\-D\-O\-M\-A\-I\-N\/} would be the definition of a domain tag. 
\item {\bfseries Method arguments}\-: All method arguments should start with either {\itshape the\/}, for parameters holding miscellaneous values, such as {\itshape \$the\-Variable\/},, or with a lowercase verb, such as {\itshape is\/}, {\itshape has\/} or {\itshape do\/}, for parameters holding a flag value, such as {\itshape is\-Protected\/}. 
\item {\bfseries Local variables}\-: All local variables should be in {\itshape lowercase\/}, for instance {\itshape \$local\-\_\-counter\/}. 
\end{DoxyItemize}

In general, abstract classes implement public interfaces which call a protected implementation. Usually the public methods should not be overridden, while derived classes may implement custom behaviours in the protected interface.

This class implements the following interfaces\-:


\begin{DoxyItemize}
\item {\itshape Offsets\/}\-: In this class there cannot be an offset with a {\itshape N\-U\-L\-L\/} value, the offset itself should be \hyperlink{}{deleted} in that case. Because of this we also override the inherited behaviour by suppressing notices and warnings when \hyperlink{}{getting} non-\/existant offsets. 
\item {\itshape J\-S\-O\-N encoding\/}\-: Derived classes will use J\-S\-O\-N for web-\/services, so we provide two static methods to \hyperlink{}{encode} and \hyperlink{}{decode} J\-S\-O\-N strings allowing for exceptions on errors. 
\item {\itshape String formatting\/}\-: We provide a generalised static method to \hyperlink{}{format} strings which accepts a bitfield parameter that indicates which operation to perform, such as \hyperlink{}{U\-T\-F8} encode, \hyperlink{}{left} and \hyperlink{}{right} trim, \hyperlink{}{N\-U\-L\-L} handling, \hyperlink{}{case} insensitive conversion, \hyperlink{}{U\-R\-L}, \hyperlink{}{H\-T\-M\-L} and \hyperlink{}{H\-E\-X} encoding and \hyperlink{}{hashing}. 
\item {\itshape Time formatting\/}\-: We provide a generalised static \hyperlink{}{method} to display duration strings. 
\end{DoxyItemize}

Core

{\itshape \hyperlink{class_c_persistent_object}{C\-Persistent\-Object}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_persistent_object}{C\-Persistent\-Object}} which represents the ancestor of all persistent classes in this library.

\begin{DoxyVerb}    @subpackage     Persistence

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 07/04/2009
                            2.00 11/03/2011
                            3.00 14/02/2012\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Persistent objects ancestor.

This class is the ancestor of all persistent classes in this library, it implements the common interfaces that concrete persistent instances will implement to manage persistent objects.

This class declares two main operations\-: \hyperlink{}{loading} an object from a container and \hyperlink{}{storing} the object into a container. These operations consist of a public interface which declares the operation steps and a protected interface which implements the operation.

This class recognises two types of persistent object stores\-:


\begin{DoxyItemize}
\item {\itshape Array\-Objects\/}\-: These arrays are considered as the object database. 
\item {\itshape \hyperlink{class_c_container}{Container} derived objects\/}\-: These will be objects derived from the \hyperlink{class_c_container}{C\-Container} class which implement native database stores. 
\end{DoxyItemize}

In general, derived classes should overload the protected interface and use the public one.

Persistence

{\itshape \hyperlink{class_c_persistent_unit_object}{C\-Persistent\-Unit\-Object}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_persistent_unit_object}{C\-Persistent\-Unit\-Object}} which extends its \hyperlink{class_c_persistent_object}{ancestor} to implement an object that has a unique key, a field storing its \hyperlink{}{class} and a \hyperlink{}{version}.

\begin{DoxyVerb}    @subpackage     Persistence

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 12/03/2012\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Unit objects ancestor.

A unit object is one that has a unique identifier, that is, it can be uniquely identified among a collection of other objects.

Instances derived from this class have a series of additional properties and methods that govern how these can be stored and retrieved from collections.

The unique identifier or key value is returned by a protected \hyperlink{}{method}, it may return {\itshape N\-U\-L\-L\/} before the object has been \hyperlink{}{committed} to a container, in which case it means that it is the \hyperlink{class_c_container}{container}'s duty to determine that value; once the object has been \hyperlink{}{stored}, this value will be found in the \hyperlink{}{k\-T\-A\-G\-\_\-\-I\-D\-\_\-\-N\-A\-T\-I\-V\-E} offset.

\hyperlink{namespace_objects}{Objects} derived from this class also hold, by default, their class name in an \hyperlink{}{offset}, this is used to \hyperlink{}{instantiate} objects of the correct class when retrieving data from a container.

This class also features a \hyperlink{}{version} which is an integer, incremented each time the object is \hyperlink{}{committed}\-: this is useful to implement a concurrency control mechanism.

Starting from this class we only handle \hyperlink{class_c_container}{C\-Container} derived instances as containers, other container types will not be supported. This is because \hyperlink{class_c_container}{C\-Container} derived instances have an \hyperlink{class_c_mongo_data_wrapper_a0d37f7b47e1a1ac48846f6d10d08d846}{serialise} and \hyperlink{class_c_mongo_data_wrapper_aff82f7c69fa3641daf93d1f375e33501}{unserialise} interface for handling special data types.

The specifics of this are managed by the \hyperlink{class_c_container}{C\-Container} derived classes, so when planning your objects think in advance in what containers you plan to store them.

Persistence

\hyperlink{class_c_query}{C\-Query} definitions.

This file contains common definitions used by the \hyperlink{class_c_query}{C\-Query} class.

\begin{DoxyVerb}    @subpackage     Persistence

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 13/06/2011
                            2.00 22/02/2012\end{DoxyVerb}


{\itshape \hyperlink{class_c_query}{C\-Query}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_query}{C\-Query}} which represents a query object.

\begin{DoxyVerb}    @subpackage     Persistence

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 12/06/2011
                            2.00 22/02/2012\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Types.

This include file contains all data type definitions. Operators.

This include file contains all operator definitions. Local definitions.

This include file contains all local definitions to this class. Query.

This class implements a query.

The main goal of this class is to provide a common framework and format to exchange data store queries or filters.

The query is an array structured as follows\-:


\begin{DoxyItemize}
\item {\itshape index\/}\-: The index of the root element expresses a boolean condition which qualkifies its content\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-A\-N\-D}\/}\-: A\-N\-D. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-N\-A\-N\-D}\/}\-: Not A\-N\-D. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-O\-R}\/}\-: O\-R. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-N\-O\-R}\/}\-: Not O\-R. 
\end{DoxyItemize}The value of this root element is an array that can be of two types\-: 
\begin{DoxyItemize}
\item {\itshape Query statement\/}\-: A query statement defines a filter structured as follows\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-Q\-U\-E\-R\-Y\-\_\-\-S\-U\-B\-J\-E\-C\-T}\/}\-: The subject field. It refers to the object element that we are filtering. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-Q\-U\-E\-R\-Y\-\_\-\-O\-P\-E\-R\-A\-T\-O\-R}\/}\-: The filter operator. This element is required and can take the following values\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-D\-I\-S\-A\-B\-L\-E\-D}\/}\-: Disabled, it means that the filter is disabled. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-E\-Q\-U\-A\-L}\/}\-: Equality (=). 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-E\-Q\-U\-A\-L\-\_\-\-N\-O\-T}\/}\-: Inequality (!=), negates the \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-E\-Q\-U\-A\-L} operator. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-L\-I\-K\-E}\/}\-: Like, it is an accent and case insensitive equality filter. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-L\-I\-K\-E\-\_\-\-N\-O\-T}\/}\-: The negation of the \hyperlink{}{L\-I\-K\-E} operator. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-P\-R\-E\-F\-I\-X}\/}\-: Starts with, or prefix match. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-C\-O\-N\-T\-A\-I\-N\-S}\/}\-: Contains, selects all elements that contain the match string. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-S\-U\-F\-F\-I\-X}\/}\-: Ends with, or suffix match. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-R\-E\-G\-E\-X}\/}\-: Regular expression. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-L\-E\-S\-S}\/}\-: Smaller than ($<$). 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-L\-E\-S\-S\-\_\-\-E\-Q\-U\-A\-L}\/}\-: Smaller than or equal ($<$=). 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-G\-R\-E\-A\-T}\/}\-: Greater than ($>$). 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-G\-R\-E\-A\-T\-\_\-\-E\-Q\-U\-A\-L}\/}\-: Greater than or equal ($>$=). 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-I\-R\-A\-N\-G\-E}\/}\-: Range inclusive, matches $>$= value $<$=. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-E\-R\-A\-N\-G\-E}\/}\-: Range exclusive, matches $>$ value $<$. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-N\-U\-L\-L}\/}\-: Is {\itshape N\-U\-L\-L\/} or element is missing. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-N\-O\-T\-\_\-\-N\-U\-L\-L}\/}\-:Not {\itshape N\-U\-L\-L\/} or element exists. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-I\-N}\/}\-: In, or belongs to set. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-N\-I}\/}\-: Not in, the negation of \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-I\-N}. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-A\-L\-L}\/}\-: All, or match the full set. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-N\-A\-L\-L}\/}\-: Not all, the negation of the \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-A\-L\-L} operator. 
\item {\itshape \hyperlink{}{k\-O\-P\-E\-R\-A\-T\-O\-R\-\_\-\-E\-X}\/}\-: Expression, indicates a complex expression. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-Q\-U\-E\-R\-Y\-\_\-\-T\-Y\-P\-E}\/}\-: The data type of the \hyperlink{}{k\-A\-P\-I\-\_\-\-Q\-U\-E\-R\-Y\-\_\-\-D\-A\-T\-A} element\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-S\-T\-R\-I\-N\-G}\/}\-: String, we assume in U\-T\-F8 character set. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-I\-N\-T32}\/}\-: 32 bit signed integer. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-I\-N\-T64}\/}\-: 64 bit signed integer. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-F\-L\-O\-A\-T}\/}\-: Floating point number. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-D\-A\-T\-E}\/}\-: A date. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-T\-I\-M\-E}\/}\-: A date and time. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-S\-T\-A\-M\-P}\/}\-: A native timestamp. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-B\-O\-O\-L\-E\-A\-N}\/}\-: An on/off switch. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-B\-I\-N\-A\-R\-Y}\/}\-: A binary string. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-E\-N\-U\-M}\/}\-: An enumerated value. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-S\-E\-T}\/}\-: An enumerated set of values. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-Q\-U\-E\-R\-Y\-\_\-\-D\-A\-T\-A}\/}\-: The statement test data. 
\end{DoxyItemize}
\item {\itshape Nested query condition\/}\-: A nested structure as the current one. 
\end{DoxyItemize}
\end{DoxyItemize}

\begin{DoxyVerb}    @subpackage     Persistence\end{DoxyVerb}


{\itshape \hyperlink{class_c_status_object}{C\-Status\-Object}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_status_object}{C\-Status\-Object}} which extends its \hyperlink{class_c_array_object}{ancestor} to handle states.

\begin{DoxyVerb}    @subpackage     Core

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 14/02/2012\end{DoxyVerb}


Ancestor.

This includes the ancestor class definitions. Status object.

This class represents the ancestor of classes that must keep track of states or status.

The status is recorded in a \hyperlink{}{property} that does not belong to the object's array data store. The data member consists of a 4 byte bit field in which the first 31 elements are used to record on/off states.

{\itshape Note\-: we only use the first 31 bits because at this time P\-H\-P does not support 64 bit integers and changing the last bit usually results in inversing the other bits.\/}

The class manages these states through a protected interface\-:


\begin{DoxyItemize}
\item {\bfseries \hyperlink{}{\-\_\-\-Is\-Inited}}\-: This state indicates that an object has been initialised to a \hyperlink{}{state} that allows it to be operated at least to a minimum extent. \hyperlink{namespace_objects}{Objects} that are not in this state may raise \hyperlink{}{exceptions} when required resources cannot be found. By default objects are instantiated with this status {\itshape off\/}. 
\item {\bfseries \hyperlink{}{\-\_\-\-Is\-Dirty}}\-: This \hyperlink{}{status} is generally set each time a change is made to the object's persistent data. By default objects are instantiated with this status {\itshape off\/}. This class will set this state by default when \hyperlink{}{setting} or \hyperlink{}{deleting} array store elements. 
\end{DoxyItemize}

Core

\hyperlink{class_c_wrapper}{C\-Wrapper} definitions.

This file contains common definitions used by the \hyperlink{class_c_wrapper}{C\-Wrapper} class.

\begin{DoxyVerb}    @subpackage     Wrappers

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 03/06/2011
                            2.00 22/02/2012\end{DoxyVerb}


{\itshape \hyperlink{class_c_wrapper}{C\-Wrapper}\/} class definition.

This file contains the class definition of {\bfseries \hyperlink{class_c_wrapper}{C\-Wrapper}} which represents a web-\/service wrapper.

\begin{DoxyVerb}    @subpackage     Wrappers

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 03/06/2011
                            2.00 22/02/2012\end{DoxyVerb}


Ancestor.

This include file contains the parent class definitions. Types.

This include file contains all data type definitions. Local definitions.

This include file contains all local definitions to this class. Wrapper.

This class represents a web-\/services wrapper, it is the ancestor of web-\/service classes in this library.

Wrappers are objects that respond to standard web calls and receive parameters in both {\itshape G\-E\-T\/} and {\itshape P\-O\-S\-T\/} parameters, the main two parameters handled by this class are\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-F\-O\-R\-M\-A\-T}\/} (required)\-: The data format of the response, it will be returned as\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-P\-H\-P}\/}\-: A P\-H\-P-\/serialised string. 
\item {\itshape \hyperlink{}{k\-D\-A\-T\-A\-\_\-\-T\-Y\-P\-E\-\_\-\-J\-S\-O\-N}\/}\-: A J\-S\-O\-N-\/serialised string. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-E\-R\-A\-T\-I\-O\-N}\/} (required)\-: The requested operation, each class will implement specialised handlers, this class only implements the following two operations\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-P\-I\-N\-G}\/}\-: A {\itshape P\-I\-N\-G\/} command, this can be used to check if a service is alive. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-\_\-\-D\-E\-B\-U\-G}\/}\-: A {\itshape D\-E\-B\-U\-G\/} command, this can be considered equivalent to the \hyperlink{}{P\-I\-N\-G} command, except that the response is H\-T\-M\-L-\/encoded and can be displayed directly by a web browser. Derived classes may expand on this capability. 
\end{DoxyItemize}
\end{DoxyItemize}

If both the above parameters are present, the service will return an array constituted by the following three sections\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-A\-T\-U\-S}\/}\-: {\itshape Operation status\/}. This section is returned by default and will inform on the status of the requested operation. It consists of an array containing the following elements\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-S\-T\-A\-T\-U\-S}\/}\-: {\itshape Response status\/}. This element will be returned by default regardless of the operation outcome. This corresponds to the severity of the response and it can take the following values\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-M\-E\-S\-S\-A\-G\-E\-\_\-\-T\-Y\-P\-E\-\_\-\-I\-D\-L\-E}\/}\-: This is the status of the web-\/service before any operation has been executed, or when the operation was successful; this is the response of a successful \hyperlink{}{ping} request. 
\item {\itshape \hyperlink{}{k\-M\-E\-S\-S\-A\-G\-E\-\_\-\-T\-Y\-P\-E\-\_\-\-N\-O\-T\-I\-C\-E}\/}\-: The operation was successful and a notice message was returned. 
\item {\itshape \hyperlink{}{k\-M\-E\-S\-S\-A\-G\-E\-\_\-\-T\-Y\-P\-E\-\_\-\-M\-E\-S\-S\-A\-G\-E}\/}\-: The operation was successful and a message was returned. 
\item {\itshape \hyperlink{}{k\-M\-E\-S\-S\-A\-G\-E\-\_\-\-T\-Y\-P\-E\-\_\-\-W\-A\-R\-N\-I\-N\-G}\/}\-: The operation was successful but a warning was raised. 
\item {\itshape \hyperlink{}{k\-M\-E\-S\-S\-A\-G\-E\-\_\-\-T\-Y\-P\-E\-\_\-\-E\-R\-R\-O\-R}\/}\-: The operation failed because of an error. 
\item {\itshape \hyperlink{}{k\-M\-E\-S\-S\-A\-G\-E\-\_\-\-T\-Y\-P\-E\-\_\-\-F\-A\-T\-A\-L}\/}\-: The operation failed because of a fatal error, this will generally mean that the web-\/service is not operational. 
\item {\itshape \hyperlink{}{k\-M\-E\-S\-S\-A\-G\-E\-\_\-\-T\-Y\-P\-E\-\_\-\-B\-U\-G}\/}\-: The operation failed because of a bug, the developers should be informed of this kind of errors. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-C\-O\-D\-E}\/}\-: {\itshape Status code\/}. This element will be returned by default regardless of the operation outcome. It corresponds to the error code; \hyperlink{}{zero} means no error. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-D\-E\-S\-C\-R\-I\-P\-T\-I\-O\-N}\/}\-: {\itshape Status message\/}. The response message from the operation, this element is used to return informative messages or to return error messages when the service fails. It will generally be formatted as an array structured as follows\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-T\-Y\-P\-E}\/}\-: The data type of the message, it will be a \hyperlink{}{string} in general. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-L\-A\-N\-G\-U\-A\-G\-E}\/}\-: The language I\-S\-O 639 2 character code in which the message is expressed in. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-D\-A\-T\-A}\/}\-: The actual message data contents. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-A\-F\-F\-E\-C\-T\-E\-D\-\_\-\-C\-O\-U\-N\-T}\/}\-: {\itshape Record count\/}. The total number of elements affected by the operation. This tag will only be used by derived classes returning data elements. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-A\-N\-N\-O\-T\-A\-T\-I\-O\-N}\/}\-: {\itshape Attachments\/}. A list of key/value pairs containing information relevant to the operation response. For instance, if a series of parameters are required and were not provided, this could list them. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-R\-E\-Q\-U\-E\-S\-T}\/}\-: {\itshape Service request\/}. This section will return the actual request provided to the service, this can be used for debugging purposes and will only occur if the optional \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-L\-O\-G\-\_\-\-R\-E\-Q\-U\-E\-S\-T} parameter has been set to 1. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-D\-A\-T\-A\-\_\-\-T\-I\-M\-I\-N\-G}\/}\-: {\itshape Timers\/}. This section holds timing information, it will be returned only if you provide the time of day \mbox{[}{\itshape gettimeofday( T\-R\-U\-E )\/}\mbox{]} in the \hyperlink{}{k\-A\-P\-I\-\_\-\-R\-E\-Q\-\_\-\-S\-T\-A\-M\-P} parameter. This section is structured as follows\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-R\-E\-Q\-\_\-\-S\-T\-A\-M\-P}\/}\-: Request time stamp, the time in which the request was sent; this is the same value sent by the caller in the \hyperlink{}{k\-A\-P\-I\-\_\-\-R\-E\-Q\-\_\-\-S\-T\-A\-M\-P} parameter. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-P\-A\-R\-S\-E\-\_\-\-S\-T\-A\-M\-P}\/}\-: Parse time stamp, the time in which the service finished parsing the request. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-R\-E\-S\-\_\-\-S\-T\-A\-M\-P}\/}\-: Response time stamp, the time in which the response was sent. 
\end{DoxyItemize}
\end{DoxyItemize}

Besides the \hyperlink{}{format} and \hyperlink{}{operation} parameters described in the first section, we have three other optional parameters that can be used to receive specific information sections in the response\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-L\-O\-G\-\_\-\-R\-E\-Q\-U\-E\-S\-T}\/}\-: Log the request, if the value of this parameter is 1, the response will contain the received request in the \hyperlink{}{request} section. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-O\-P\-T\-\_\-\-L\-O\-G\-\_\-\-T\-R\-A\-C\-E}\/}\-: Trace exceptions, if the value of this parameter is 1, in the case of an error that triggered an exception, the error response will also include the call trace. 
\item {\itshape \hyperlink{}{k\-A\-P\-I\-\_\-\-R\-E\-Q\-\_\-\-S\-T\-A\-M\-P}\/}\-: This parameter should hold the timestamp \mbox{[}{\itshape gettimeofday( T\-R\-U\-E )\/}\mbox{]} in which the client has sent the request, if provided, the service will return the timing information in the \hyperlink{}{timing} section. 
\end{DoxyItemize}

The parameters are expected either in {\itshape G\-E\-T\/} or {\itshape P\-O\-S\-T\/}.

If either the \hyperlink{}{format} or the \hyperlink{}{operation} parameters are omitted from the request, the service will return an empty response; this is to prevent unnecessary traffic.

Instances of this class can be considered server objects, and can be implemented with this simple code snippet\-:

{\ttfamily  \$server = new C\-Wrapper(); \$server-\/$>$Handle\-Request(); }

An example of this class implementation can be found in the \hyperlink{}{Wrapper.\-php} source file.

\begin{DoxyVerb}    @subpackage     Wrappers\end{DoxyVerb}


Errors.

This file contains the common error codes used by all classes in this library.

\begin{DoxyVerb}    @subpackage     Definitions

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 22/12/2010
    @version        2.00 07/02/2012\end{DoxyVerb}


Status flags.

This file contains the common status flags used by all classes in this library.

\begin{DoxyVerb}    @subpackage     Definitions

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 29/05/2009
                            2.00 23/11/2010
                            3.00 13/02/2012\end{DoxyVerb}


Enumerations.

This file contains common enumerations used by all classes.

\begin{DoxyVerb}    @subpackage     Definitions

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 23/06/2009\end{DoxyVerb}


\begin{DoxyVerb}   Default offsets.\end{DoxyVerb}
 This file contains the definitions of the default offsets or tags used by objects in this library, whenever choosing offsets for \hyperlink{class_c_persistent_object}{persistent} objects, you should first make sure that they are not among those defined in this file.

\begin{DoxyVerb}    @subpackage     Definitions

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 29/05/2009
                            2.00 23/11/2010
                            3.00 18/02/2012\end{DoxyVerb}


Tokens.

This file contains the common enumeration identifying operators used by all classes in this library.

\begin{DoxyVerb}    @subpackage     Definitions

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 01/06/2011\end{DoxyVerb}


Default session tags.

This file contains the list default session tags used by the classes in this library.

\begin{DoxyVerb}    @subpackage     Definitions

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 03/03/2011
                            2.00 23/02/2012\end{DoxyVerb}


Tokens.

This file contains the common tokens used by all classes in this library.

\begin{DoxyVerb}    @subpackage     Definitions

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 29/05/2009
                            2.00 23/11/2010\end{DoxyVerb}


Enumerations.

This file contains common data types used by all classes.

\begin{DoxyVerb}    @subpackage     Definitions

    @author         Milko A. Škofič <m.skofic@cgiar.org>
    @version        1.00 23/03/2011
                            2.00 20/02/2012\end{DoxyVerb}


User include file.

This file should be included at the top level of the application or web site as the first entry, it includes the file paths to the relevant directories and the autoload function for this library classes.

\begin{DoxyVerb}    @subpackage     Definitions

    @author         Milko A. Skofic <m.skofic@cgiar.org>
    @version        1.00 02/02/2012\end{DoxyVerb}
 