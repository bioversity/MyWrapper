\hypertarget{class_c_mongo_grid_container}{\section{C\-Mongo\-Grid\-Container Class Reference}
\label{class_c_mongo_grid_container}\index{C\-Mongo\-Grid\-Container@{C\-Mongo\-Grid\-Container}}
}
Inheritance diagram for C\-Mongo\-Grid\-Container\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_c_mongo_grid_container}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_c_mongo_grid_container_aafde59c8f7bf042d0e4f3a8d7bc87d90}{Container} (\$the\-Value=N\-U\-L\-L, \$get\-Old=F\-A\-L\-S\-E)
\item 
\hyperlink{class_c_mongo_grid_container_a66b508afe83e1bc0dcfc2622a08aeebb}{Commit} (\&\$the\-Object, \$the\-Identifier=N\-U\-L\-L, \$the\-Modifiers=k\-F\-L\-A\-G\-\_\-\-P\-E\-R\-S\-I\-S\-T\-\_\-\-I\-N\-S\-E\-R\-T)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_c_mongo_grid_container_a1dc8378e77df7c06afc2c733e2422482}{\-\_\-\-Commit} (\&\$the\-Object, \&\$the\-Identifier, \&\$the\-Modifiers)
\item 
\hyperlink{class_c_mongo_grid_container_a94715c26002c38020a8e4103d3075426}{\-\_\-\-Prepare\-Commit} (\&\$the\-Object, \&\$the\-Identifier, \&\$the\-Modifiers)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Member Function Documentation}
\hypertarget{class_c_mongo_grid_container_a1dc8378e77df7c06afc2c733e2422482}{\index{C\-Mongo\-Grid\-Container@{C\-Mongo\-Grid\-Container}!\-\_\-\-Commit@{\-\_\-\-Commit}}
\index{\-\_\-\-Commit@{\-\_\-\-Commit}!CMongoGridContainer@{C\-Mongo\-Grid\-Container}}
\subsubsection[{\-\_\-\-Commit}]{\setlength{\rightskip}{0pt plus 5cm}C\-Mongo\-Grid\-Container\-::\-\_\-\-Commit (
\begin{DoxyParamCaption}
\item[{\&}]{\$the\-Object, }
\item[{\&}]{\$the\-Identifier, }
\item[{\&}]{\$the\-Modifiers}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{class_c_mongo_grid_container_a1dc8378e77df7c06afc2c733e2422482}
Commit provided object.

We implement this method to handle Mongo\-Grid\-F\-S object stores, this method will store the object in the current container.

This particular container type only supports creating new records, that is, files are added to the grid and cannot be modified. Also, files can be added either by path or by content, depending on the provided object parameter.

The parameters accepted by this method are\-:


\begin{DoxyItemize}
\item {\bfseries \&\$the\-Object}\-: This parameter holds the file to be added\-: 
\begin{DoxyItemize}
\item {\itshape Spl\-File\-Info}\-: In this case the parameter is interpreted as a file path, it will be resolved with the {\itshape get\-Real\-Path()} method. 
\item {\itshape other}\-: In all other cases the parameter is interpreted as the file contents provided as a binary string. 
\end{DoxyItemize}
\item {\bfseries \$the\-Identifier}\-: This parameter is interpreted as the file's metadata and has been normalised before this method. 
\item {\bfseries \$the\-Modifiers}\-: We ignore this parameter. 
\end{DoxyItemize}

The


\begin{DoxyParams}[1]{Parameters}
reference & {\em \&\$the\-Object} & Object to commit. \\
\hline
reference & {\em \&\$the\-Identifier} & Object identifier. \\
\hline
reference & {\em \&\$the\-Modifiers} & Commit modifiers.\\
\hline
\end{DoxyParams}
protected \begin{DoxyReturn}{Returns}
mixed
\end{DoxyReturn}
\hyperlink{class_c_mongo_grid_container_aafde59c8f7bf042d0e4f3a8d7bc87d90}{Container()} 

Reimplemented from \hyperlink{class_c_mongo_container_a92cbcdba4f2b0bda2ae3eeb7a08d7ba2}{C\-Mongo\-Container}.

\hypertarget{class_c_mongo_grid_container_a94715c26002c38020a8e4103d3075426}{\index{C\-Mongo\-Grid\-Container@{C\-Mongo\-Grid\-Container}!\-\_\-\-Prepare\-Commit@{\-\_\-\-Prepare\-Commit}}
\index{\-\_\-\-Prepare\-Commit@{\-\_\-\-Prepare\-Commit}!CMongoGridContainer@{C\-Mongo\-Grid\-Container}}
\subsubsection[{\-\_\-\-Prepare\-Commit}]{\setlength{\rightskip}{0pt plus 5cm}C\-Mongo\-Grid\-Container\-::\-\_\-\-Prepare\-Commit (
\begin{DoxyParamCaption}
\item[{\&}]{\$the\-Object, }
\item[{\&}]{\$the\-Identifier, }
\item[{\&}]{\$the\-Modifiers}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{class_c_mongo_grid_container_a94715c26002c38020a8e4103d3075426}
Prepare before a \hyperlink{class_c_mongo_grid_container_a1dc8378e77df7c06afc2c733e2422482}{commit}.

We \hyperlink{class_c_mongo_container_af592e4500a640190f374c18683af3b83}{override} this method to reset the parameters that are not relevant to the operation, that is, we set the identifier to an empty array if {\itshape N\-U\-L\-L} or enclose it in a {\itshape metadata} array if not and force the modifiers to \hyperlink{}{k\-F\-L\-A\-G\-\_\-\-P\-E\-R\-S\-I\-S\-T\-\_\-\-I\-N\-S\-E\-R\-T}.

We also check if the native container is of the correct type.

Note that we do not call the parent method, but the grandpa method explicitly.


\begin{DoxyParams}[1]{Parameters}
reference & {\em \&\$the\-Object} & Object or data. \\
\hline
reference & {\em \&\$the\-Identifier} & Object identifier. \\
\hline
reference & {\em \&\$the\-Modifiers} & Commit modifiers.\\
\hline
\end{DoxyParams}
protected


\begin{DoxyExceptions}{Exceptions}
{\em \{@link} & \hyperlink{class_c_exception}{C\-Exception} \hyperlink{class_c_exception}{C\-Exception}\}\\
\hline
\end{DoxyExceptions}
\hyperlink{class_c_mongo_grid_container_aafde59c8f7bf042d0e4f3a8d7bc87d90}{Container()}

\begin{DoxySeeAlso}{See Also}
k\-F\-L\-A\-G\-\_\-\-P\-E\-R\-S\-I\-S\-T\-\_\-\-I\-N\-S\-E\-R\-T k\-F\-L\-A\-G\-\_\-\-S\-T\-A\-T\-E\-\_\-\-E\-N\-C\-O\-D\-E\-D 

k\-E\-R\-R\-O\-R\-\_\-\-O\-P\-T\-I\-O\-N\-\_\-\-M\-I\-S\-S\-I\-N\-G k\-E\-R\-R\-O\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-P\-A\-R\-A\-M\-E\-T\-E\-R k\-E\-R\-R\-O\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-S\-T\-A\-T\-E 
\end{DoxySeeAlso}


Reimplemented from \hyperlink{class_c_mongo_container_af592e4500a640190f374c18683af3b83}{C\-Mongo\-Container}.

\hypertarget{class_c_mongo_grid_container_a66b508afe83e1bc0dcfc2622a08aeebb}{\index{C\-Mongo\-Grid\-Container@{C\-Mongo\-Grid\-Container}!Commit@{Commit}}
\index{Commit@{Commit}!CMongoGridContainer@{C\-Mongo\-Grid\-Container}}
\subsubsection[{Commit}]{\setlength{\rightskip}{0pt plus 5cm}C\-Mongo\-Grid\-Container\-::\-Commit (
\begin{DoxyParamCaption}
\item[{\&}]{\$the\-Object, }
\item[{}]{\$the\-Identifier = {\ttfamily NULL}, }
\item[{}]{\$the\-Modifiers = {\ttfamily kFLAG\-\_\-PERSIST\-\_\-INSERT}}
\end{DoxyParamCaption}
)}}\label{class_c_mongo_grid_container_a66b508afe83e1bc0dcfc2622a08aeebb}
Commit provided object.

We \hyperlink{class_c_container_a4847dc676d1f7704e75f8981e927508a}{overload} this method to handle committing files as opposed to documents. We handle the provided parameters as follows\-:


\begin{DoxyItemize}
\item {\bfseries \$the\-Object}\-: This parameter represents the file to be stored\-: 
\begin{DoxyItemize}
\item {\itshape Spl\-File\-Info}\-: In this case the parameter is interpreted as a file path, it will be resolved with the {\itshape get\-Real\-Path()} method. 
\item {\itshape other}\-: In all other cases the parameter is interpreted as the file contents provided as a binary string. 
\end{DoxyItemize}
\item {\bfseries \$the\-Identifier}\-: If provided, this parameter is interpreted as the file's metadata and will be enclosed in an array labeled {\itshape metadata}. 
\item {\bfseries \$the\-Modifiers}\-: This parameter is initialised to \hyperlink{}{k\-F\-L\-A\-G\-\_\-\-P\-E\-R\-S\-I\-S\-T\-\_\-\-I\-N\-S\-E\-R\-T}, since this is the default and only operation possible. 
\end{DoxyItemize}

The method will return the object's key within the container or raise an exception if the operation was not successful.

The only reason to overload this method is to write this documentation and set the default modifier, there is no functional difference between this method and its \hyperlink{class_c_container_a4847dc676d1f7704e75f8981e927508a}{inherited} version.


\begin{DoxyParams}[1]{Parameters}
reference & {\em \&\$the\-Object} & Object to commit. \\
\hline
mixed & {\em \$the\-Identifier} & Object identifier. \\
\hline
bitfield & {\em \$the\-Modifiers} & Commit modifiers.\\
\hline
\end{DoxyParams}
public \begin{DoxyReturn}{Returns}
mixed
\end{DoxyReturn}
\hyperlink{class_c_mongo_grid_container_a94715c26002c38020a8e4103d3075426}{\-\_\-\-Prepare\-Commit()}  \hyperlink{class_c_mongo_grid_container_a1dc8378e77df7c06afc2c733e2422482}{\-\_\-\-Commit()}  \hyperlink{class_c_container_a4c9cae709a81dd53c7307bfbde891fae}{\-\_\-\-Finish\-Commit()}

\begin{DoxySeeAlso}{See Also}
k\-F\-L\-A\-G\-\_\-\-P\-E\-R\-S\-I\-S\-T\-\_\-\-I\-N\-S\-E\-R\-T k\-F\-L\-A\-G\-\_\-\-S\-T\-A\-T\-E\-\_\-\-E\-N\-C\-O\-D\-E\-D 
\end{DoxySeeAlso}


Reimplemented from \hyperlink{class_c_container_a4847dc676d1f7704e75f8981e927508a}{C\-Container}.

\hypertarget{class_c_mongo_grid_container_aafde59c8f7bf042d0e4f3a8d7bc87d90}{\index{C\-Mongo\-Grid\-Container@{C\-Mongo\-Grid\-Container}!Container@{Container}}
\index{Container@{Container}!CMongoGridContainer@{C\-Mongo\-Grid\-Container}}
\subsubsection[{Container}]{\setlength{\rightskip}{0pt plus 5cm}C\-Mongo\-Grid\-Container\-::\-Container (
\begin{DoxyParamCaption}
\item[{}]{\$the\-Value = {\ttfamily NULL}, }
\item[{}]{\$get\-Old = {\ttfamily FALSE}}
\end{DoxyParamCaption}
)}}\label{class_c_mongo_grid_container_aafde59c8f7bf042d0e4f3a8d7bc87d90}
Manage persistent container.

We \hyperlink{class_c_mongo_container_a253978bb8e4d1e2613665d308de83e1e}{overload} this method to ensure that the provided container is a Mongo\-Grid\-F\-S object.


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$the\-Value} & Persistent container or operation. \\
\hline
boolean & {\em \$get\-Old} & T\-R\-U\-E get old value.\\
\hline
\end{DoxyParams}
public \begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}


Reimplemented from \hyperlink{class_c_mongo_container_a253978bb8e4d1e2613665d308de83e1e}{C\-Mongo\-Container}.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
/\-Library/\-Web\-Server/\-Library/wrapper/classes/C\-Mongo\-Grid\-Container.\-php\end{DoxyCompactItemize}
