\hypertarget{class_c_ontology_edge_index}{\section{C\-Ontology\-Edge\-Index Class Reference}
\label{class_c_ontology_edge_index}\index{C\-Ontology\-Edge\-Index@{C\-Ontology\-Edge\-Index}}
}
Inheritance diagram for C\-Ontology\-Edge\-Index\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_c_ontology_edge_index}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_c_ontology_edge_index_aef9939a536194ce9b30e10482680eca1}{Node} (\$the\-Value=N\-U\-L\-L, \$get\-Old=F\-A\-L\-S\-E)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_c_ontology_edge_index_a1f80775f4c10d2874ee8cc3b305fbf9c}{Edge\-Node\-Path} (\$the\-Subject, \$the\-Predicate, \$the\-Object)
\item 
static \hyperlink{class_c_ontology_edge_index_a4651e5286d115b9d7199f4495e9364c8}{Edge\-Term\-Path} (\$the\-Subject, \$the\-Predicate, \$the\-Object)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_c_ontology_edge_index_aa4f3adfe8b756a431e3d340cc520b280}{\-\_\-\-Resolve\-Index\-Container} (\$the\-Container)
\item 
\hyperlink{class_c_ontology_edge_index_ab0c531b87f7fc299c5049a799c8d08f6}{\-\_\-\-Locate\-Node} (\$the\-Node, \$the\-Container)
\item 
\hyperlink{class_c_ontology_edge_index_a2372b1263035d74288b776dbc5216e44}{\-\_\-\-Load\-Node\-Properties} ()
\item 
\hyperlink{class_c_ontology_edge_index_acde4d1d07af376b3ac764018dab8622c}{\-\_\-\-Update\-Relationship\-Counts} (\$the\-Container, \$the\-Modifiers)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Member Function Documentation}
\hypertarget{class_c_ontology_edge_index_a2372b1263035d74288b776dbc5216e44}{\index{C\-Ontology\-Edge\-Index@{C\-Ontology\-Edge\-Index}!\-\_\-\-Load\-Node\-Properties@{\-\_\-\-Load\-Node\-Properties}}
\index{\-\_\-\-Load\-Node\-Properties@{\-\_\-\-Load\-Node\-Properties}!COntologyEdgeIndex@{C\-Ontology\-Edge\-Index}}
\subsubsection[{\-\_\-\-Load\-Node\-Properties}]{\setlength{\rightskip}{0pt plus 5cm}C\-Ontology\-Edge\-Index\-::\-\_\-\-Load\-Node\-Properties (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{class_c_ontology_edge_index_a2372b1263035d74288b776dbc5216e44}
Copy node properties to object.

We \hyperlink{class_c_ontology_node_index_a5a77164ee17b82dd8284c6f8ede6a114}{overload} this method to load the edge node properties along with the subject, predicate and object information as follows\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-L\-I\-D}}\-: This offset will hold the edge node I\-D. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-P\-A\-T\-H}}\-: This offset will hold the edge node path, that is, the source node I\-D, the predicate term \hyperlink{}{identifier} and the object node I\-D, all three separated by the \hyperlink{}{k\-T\-O\-K\-E\-N\-\_\-\-I\-N\-D\-E\-X\-\_\-\-S\-E\-P\-A\-R\-A\-T\-O\-R} token. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-S\-U\-B\-J\-E\-C\-T}}\-: This offset will hold the subject node information\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-T\-E\-R\-M}}\-: The subject node term \hyperlink{}{identifier}. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-N\-O\-D\-E}}\-: The subject node I\-D. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-P\-R\-E\-D\-I\-C\-A\-T\-E}}\-: This offset will hold the predicate information\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-T\-E\-R\-M}}\-: The predicate term \hyperlink{}{identifier}, which corresponds to the edge node type. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-N\-O\-D\-E}}\-: The edge node I\-D. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-O\-B\-J\-E\-C\-T}}\-: This offset will hold the object node information\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-T\-E\-R\-M}}\-: The object node term \hyperlink{}{identifier}. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-N\-O\-D\-E}}\-: The object node I\-D. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-D\-A\-T\-A}}\-: This offset will hold the edge node properties. 
\end{DoxyItemize}

protected

\hyperlink{class_c_ontology_edge_index_aef9939a536194ce9b30e10482680eca1}{Node()} 

Reimplemented from \hyperlink{class_c_ontology_node_index_af999c84f8f32a5e0bae63d09b9703ee4}{C\-Ontology\-Node\-Index}.

\hypertarget{class_c_ontology_edge_index_ab0c531b87f7fc299c5049a799c8d08f6}{\index{C\-Ontology\-Edge\-Index@{C\-Ontology\-Edge\-Index}!\-\_\-\-Locate\-Node@{\-\_\-\-Locate\-Node}}
\index{\-\_\-\-Locate\-Node@{\-\_\-\-Locate\-Node}!COntologyEdgeIndex@{C\-Ontology\-Edge\-Index}}
\subsubsection[{\-\_\-\-Locate\-Node}]{\setlength{\rightskip}{0pt plus 5cm}C\-Ontology\-Edge\-Index\-::\-\_\-\-Locate\-Node (
\begin{DoxyParamCaption}
\item[{}]{\$the\-Node, }
\item[{}]{\$the\-Container}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{class_c_ontology_edge_index_ab0c531b87f7fc299c5049a799c8d08f6}
Locate node in container.

We \hyperlink{class_c_ontology_node_index_a5a77164ee17b82dd8284c6f8ede6a114}{overload} this method to locate relationships in place of nodes.

We also override the rule of raising an exception on zero node I\-Ds, because the first relationship will have an I\-D of zero, here we check if the identifier is numeric.

Finally, we handle arrays in the node parameter\-: in this case we assume the array holds the subject node I\-D, the predicate term \hyperlink{}{identifier} and the object node I\-D, these elements will be used to select the edge node whose \hyperlink{}{k\-T\-A\-G\-\_\-\-P\-A\-T\-H} offset corresponds to this combination. In this case the provided container must be an array structured as follows\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-N\-O\-D\-E}}\-: The graph container. 
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-T\-E\-R\-M}}\-: The index container. 
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$the\-Node} & Graph node identifier. \\
\hline
mixed & {\em \$the\-Container} & Graph container.\\
\hline
\end{DoxyParams}
protected \begin{DoxyReturn}{Returns}
Everyman$|$\-N\-U\-L\-L
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \{@link} & \hyperlink{class_c_exception}{C\-Exception} \hyperlink{class_c_exception}{C\-Exception}\}\\
\hline
\end{DoxyExceptions}
\hyperlink{class_c_ontology_edge_index_aa4f3adfe8b756a431e3d340cc520b280}{\-\_\-\-Resolve\-Index\-Container()} 

Reimplemented from \hyperlink{class_c_ontology_node_index_a5a77164ee17b82dd8284c6f8ede6a114}{C\-Ontology\-Node\-Index}.

\hypertarget{class_c_ontology_edge_index_aa4f3adfe8b756a431e3d340cc520b280}{\index{C\-Ontology\-Edge\-Index@{C\-Ontology\-Edge\-Index}!\-\_\-\-Resolve\-Index\-Container@{\-\_\-\-Resolve\-Index\-Container}}
\index{\-\_\-\-Resolve\-Index\-Container@{\-\_\-\-Resolve\-Index\-Container}!COntologyEdgeIndex@{C\-Ontology\-Edge\-Index}}
\subsubsection[{\-\_\-\-Resolve\-Index\-Container}]{\setlength{\rightskip}{0pt plus 5cm}C\-Ontology\-Edge\-Index\-::\-\_\-\-Resolve\-Index\-Container (
\begin{DoxyParamCaption}
\item[{}]{\$the\-Container}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{class_c_ontology_edge_index_aa4f3adfe8b756a431e3d340cc520b280}
Resolve index container.

We \hyperlink{class_c_ontology_node_index_a7500db2a0cabb7d73301bbbac5b8ccd1}{overload} this class to use the correct \hyperlink{}{default} collection when providing a Mongo\-D\-B.


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$the\-Container} & Index container.\\
\hline
\end{DoxyParams}
protected \begin{DoxyReturn}{Returns}
Mongo\-Collection
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \{@link} & \hyperlink{class_c_exception}{C\-Exception} \hyperlink{class_c_exception}{C\-Exception}\} \\
\hline
\end{DoxyExceptions}


Reimplemented from \hyperlink{class_c_ontology_node_index_a7500db2a0cabb7d73301bbbac5b8ccd1}{C\-Ontology\-Node\-Index}.

\hypertarget{class_c_ontology_edge_index_acde4d1d07af376b3ac764018dab8622c}{\index{C\-Ontology\-Edge\-Index@{C\-Ontology\-Edge\-Index}!\-\_\-\-Update\-Relationship\-Counts@{\-\_\-\-Update\-Relationship\-Counts}}
\index{\-\_\-\-Update\-Relationship\-Counts@{\-\_\-\-Update\-Relationship\-Counts}!COntologyEdgeIndex@{C\-Ontology\-Edge\-Index}}
\subsubsection[{\-\_\-\-Update\-Relationship\-Counts}]{\setlength{\rightskip}{0pt plus 5cm}C\-Ontology\-Edge\-Index\-::\-\_\-\-Update\-Relationship\-Counts (
\begin{DoxyParamCaption}
\item[{}]{\$the\-Container, }
\item[{}]{\$the\-Modifiers}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{class_c_ontology_edge_index_acde4d1d07af376b3ac764018dab8622c}
Update relationship counts.

This method will increment or decrement the relationships count in the subject and object \{node indexes.

The method accepts the following parameters\-:


\begin{DoxyItemize}
\item {\bfseries \$the\-Container}\-: The index Mongo container, we use the \hyperlink{class_c_mongo_container_a27a99b6ea891b226729bc6cb8426cac0}{database} element and force the \hyperlink{}{default} node collection name, since it apparently gives this class personality disorder problems to use the parent version of the \hyperlink{class_c_ontology_edge_index_aa4f3adfe8b756a431e3d340cc520b280}{\-\_\-\-Resolve\-Index\-Container} method. 
\item {\bfseries \$the\-Modifiers}\-: This parameter represents the commit operation options, these will have been passed by the \hyperlink{class_c_ontology_node_index_aa66c1a98352f4f99beea4c9802d57de8}{commit} method. 
\end{DoxyItemize}

These counts are stored in the \hyperlink{class_c_ontology_node_index}{indexes} in the following structure\-:


\begin{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-I\-N}}\-: This element represents incoming relationships, it is an array structured as follows\-: 
\begin{DoxyItemize}
\item {\itshape Key}\-: The term \hyperlink{}{identifier} of the relationship predicate. 
\item {\itshape Value}\-: The number of incoming relationships for the given predicate. 
\end{DoxyItemize}
\item {\itshape \hyperlink{}{k\-T\-A\-G\-\_\-\-O\-U\-T}}\-: This element represents outgoing relationships, it is an array structured as follows\-: 
\begin{DoxyItemize}
\item {\itshape Key}\-: The term \hyperlink{}{identifier} of the relationship predicate. 
\item {\itshape Value}\-: The number of outgoing relationships for the given predicate. 
\end{DoxyItemize}
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
Mongo\-Container & {\em \$the\-Container} & Mongo container. \\
\hline
bitfield & {\em \$the\-Modifiers} & Commit modifiers.\\
\hline
\end{DoxyParams}
protected \hypertarget{class_c_ontology_edge_index_a1f80775f4c10d2874ee8cc3b305fbf9c}{\index{C\-Ontology\-Edge\-Index@{C\-Ontology\-Edge\-Index}!Edge\-Node\-Path@{Edge\-Node\-Path}}
\index{Edge\-Node\-Path@{Edge\-Node\-Path}!COntologyEdgeIndex@{C\-Ontology\-Edge\-Index}}
\subsubsection[{Edge\-Node\-Path}]{\setlength{\rightskip}{0pt plus 5cm}static C\-Ontology\-Edge\-Index\-::\-Edge\-Node\-Path (
\begin{DoxyParamCaption}
\item[{}]{\$the\-Subject, }
\item[{}]{\$the\-Predicate, }
\item[{}]{\$the\-Object}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_c_ontology_edge_index_a1f80775f4c10d2874ee8cc3b305fbf9c}
Build an edge node path.

The edge path represents the unique identifier of an edge node using the relationship node identifiers, it is composed by the subject and object node I\-Ds and the predicate term identifier.

This method will return the \hyperlink{}{path} according to the provided parameters\-:


\begin{DoxyItemize}
\item {\bfseries \$the\-Subject}\-: The relation subject node reference\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{class_c_ontology_node}{C\-Ontology\-Node}}\-: The node I\-D will be used. 
\item {\itshape Neo4j node}\-: The node I\-D will be used. 
\item {\itshape other}\-: Other types will be cast to a string. 
\end{DoxyItemize}
\item {\bfseries \$the\-Predicate}\-: The relation predicate term reference, the value will be cast to a string and is expected to represent the \hyperlink{class_c_ontology_term}{term} \hyperlink{}{global} identifier. 
\item {\bfseries \$the\-Object}\-: The relation object node reference\-: 
\begin{DoxyItemize}
\item {\itshape \hyperlink{class_c_ontology_node}{C\-Ontology\-Node}}\-: The node I\-D will be used. 
\item {\itshape Neo4j node}\-: The node I\-D will be used. 
\item {\itshape other}\-: Other types will be cast to a string. 
\end{DoxyItemize}
\end{DoxyItemize}

The method will check if all three parameters are not empty, if this is not the case, the method will raise an exception.


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$the\-Subject} & Subject node reference. \\
\hline
mixed & {\em \$the\-Predicate} & Predicate term reference. \\
\hline
mixed & {\em \$the\-Object} & Object node reference.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}
\hypertarget{class_c_ontology_edge_index_a4651e5286d115b9d7199f4495e9364c8}{\index{C\-Ontology\-Edge\-Index@{C\-Ontology\-Edge\-Index}!Edge\-Term\-Path@{Edge\-Term\-Path}}
\index{Edge\-Term\-Path@{Edge\-Term\-Path}!COntologyEdgeIndex@{C\-Ontology\-Edge\-Index}}
\subsubsection[{Edge\-Term\-Path}]{\setlength{\rightskip}{0pt plus 5cm}static C\-Ontology\-Edge\-Index\-::\-Edge\-Term\-Path (
\begin{DoxyParamCaption}
\item[{}]{\$the\-Subject, }
\item[{}]{\$the\-Predicate, }
\item[{}]{\$the\-Object}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_c_ontology_edge_index_a4651e5286d115b9d7199f4495e9364c8}
Build an edge term path.

This edge path represents an identifier of an edge node using the relationship term identifiers, it is composed by the subject, predicate and object term \hyperlink{}{identifiers}.

This method will return the \hyperlink{}{path} according to the provided parameters\-:


\begin{DoxyItemize}
\item {\bfseries \$the\-Subject}\-: The relation subject term reference, the value will be cast to a string and is expected to represent the \hyperlink{class_c_ontology_term}{term} \hyperlink{}{global} identifier. 
\item {\bfseries \$the\-Predicate}\-: The relation predicate term reference, the value will be cast to a string and is expected to represent the \hyperlink{class_c_ontology_term}{term} \hyperlink{}{global} identifier. 
\item {\bfseries \$the\-Object}\-: The relation object node reference, the value will be cast to a string and is expected to represent the \hyperlink{class_c_ontology_term}{term} \hyperlink{}{global} identifier. 
\end{DoxyItemize}

The method will check if all three parameters are not empty, if this is not the case, the method will raise an exception.


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$the\-Subject} & Subject term reference. \\
\hline
mixed & {\em \$the\-Predicate} & Predicate term reference. \\
\hline
mixed & {\em \$the\-Object} & Object term reference.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}
\hypertarget{class_c_ontology_edge_index_aef9939a536194ce9b30e10482680eca1}{\index{C\-Ontology\-Edge\-Index@{C\-Ontology\-Edge\-Index}!Node@{Node}}
\index{Node@{Node}!COntologyEdgeIndex@{C\-Ontology\-Edge\-Index}}
\subsubsection[{Node}]{\setlength{\rightskip}{0pt plus 5cm}C\-Ontology\-Edge\-Index\-::\-Node (
\begin{DoxyParamCaption}
\item[{}]{\$the\-Value = {\ttfamily NULL}, }
\item[{}]{\$get\-Old = {\ttfamily FALSE}}
\end{DoxyParamCaption}
)}}\label{class_c_ontology_edge_index_aef9939a536194ce9b30e10482680eca1}
Manage native node.

We \hyperlink{class_c_ontology_node_index_a110494860d35b066b1d706694657aed5}{overload} this method to ensure that the provided node is an edge node.


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$the\-Value} & Node or operation. \\
\hline
boolean & {\em \$get\-Old} & T\-R\-U\-E get old value.\\
\hline
\end{DoxyParams}
public \begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}


Reimplemented from \hyperlink{class_c_ontology_node_index_a110494860d35b066b1d706694657aed5}{C\-Ontology\-Node\-Index}.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
/\-Library/\-Web\-Server/\-Library/wrapper/classes/C\-Ontology\-Edge\-Index.\-php\end{DoxyCompactItemize}
