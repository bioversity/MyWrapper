<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Wrapper: CMongoDataWrapper Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="Skofic.icon.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Wrapper
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">MyWrapperReference</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_c_mongo_data_wrapper.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">CMongoDataWrapper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for CMongoDataWrapper:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_c_mongo_data_wrapper.png" usemap="#CMongoDataWrapper_map" alt=""/>
  <map id="CMongoDataWrapper_map" name="CMongoDataWrapper_map">
<area href="class_c_data_wrapper.html" alt="CDataWrapper" shape="rect" coords="0,168,135,192"/>
<area href="class_c_wrapper.html" alt="CWrapper" shape="rect" coords="0,112,135,136"/>
<area href="class_c_status_object.html" alt="CStatusObject" shape="rect" coords="0,56,135,80"/>
<area href="class_c_array_object.html" alt="CArrayObject" shape="rect" coords="0,0,135,24"/>
</map>
 </div></div>

<p><a href="class_c_mongo_data_wrapper-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0d37f7b47e1a1ac48846f6d10d08d846"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a0d37f7b47e1a1ac48846f6d10d08d846">SerialiseObject</a> (&amp;$theObject)</td></tr>
<tr class="memitem:a4a23d055b9735b8ba53102e619f94ffb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a4a23d055b9735b8ba53102e619f94ffb">SerialiseData</a> (&amp;$theElement)</td></tr>
<tr class="memitem:aff82f7c69fa3641daf93d1f375e33501"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#aff82f7c69fa3641daf93d1f375e33501">UnserialiseObject</a> (&amp;$theObject)</td></tr>
<tr class="memitem:a581d27ffad3ff0a68c5bd6123abece01"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a581d27ffad3ff0a68c5bd6123abece01">UnserialiseData</a> (&amp;$theElement)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a33ff97c26b97d00a67f97d41f67ce47b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a33ff97c26b97d00a67f97d41f67ce47b">_InitResources</a> ()</td></tr>
<tr class="memitem:abbc0d41394dda4a27eefa8481065749a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#abbc0d41394dda4a27eefa8481065749a">_FormatRequest</a> ()</td></tr>
<tr class="memitem:a3d06376cb588e5c26751bff3f0083ef5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a3d06376cb588e5c26751bff3f0083ef5">_ValidateRequest</a> ()</td></tr>
<tr class="memitem:a15b44586fe5de968efb0edbe96f3da60"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a15b44586fe5de968efb0edbe96f3da60">_FormatDatabase</a> ()</td></tr>
<tr class="memitem:a117d32ff4a01a54a7ff6203ba0ca66b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a117d32ff4a01a54a7ff6203ba0ca66b7">_FormatContainer</a> ()</td></tr>
<tr class="memitem:a807db77c3c4f7708e86873a0447b83ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a807db77c3c4f7708e86873a0447b83ff">_FormatQuery</a> ()</td></tr>
<tr class="memitem:a2642638da121e471c7ea1fbb61f6f3ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a2642638da121e471c7ea1fbb61f6f3ef">_FormatObject</a> ()</td></tr>
<tr class="memitem:a406b81115b5f3957e6d40ee49ae85a13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a406b81115b5f3957e6d40ee49ae85a13">_ValidateOperation</a> ()</td></tr>
<tr class="memitem:a9bb974219920f005b1cdba39793b84d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a9bb974219920f005b1cdba39793b84d5">_ValidateObject</a> ()</td></tr>
<tr class="memitem:aa2ae2292a247d94c9b1dfa13d9a4fb85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#aa2ae2292a247d94c9b1dfa13d9a4fb85">_ValidateQuery</a> ()</td></tr>
<tr class="memitem:a811af7e7574a459bc56afa3afa99e1a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a811af7e7574a459bc56afa3afa99e1a8">_HandleRequest</a> ()</td></tr>
<tr class="memitem:a226970d3cfb96f8e85e46d3943c25089"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a226970d3cfb96f8e85e46d3943c25089">_Handle_GetObjectByReference</a> ()</td></tr>
<tr class="memitem:ae7cc52809c8b6cea94c84d5f64a4308b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#ae7cc52809c8b6cea94c84d5f64a4308b">_Handle_Count</a> ()</td></tr>
<tr class="memitem:a3b9896d121c899aa3dd9f5e56e44c874"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a3b9896d121c899aa3dd9f5e56e44c874">_Handle_GetOne</a> ()</td></tr>
<tr class="memitem:a157a45bd4a2da43bd05d62b22faf3dc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a157a45bd4a2da43bd05d62b22faf3dc6">_Handle_Get</a> ()</td></tr>
<tr class="memitem:a3b59e4f2efbe64568c500756a170af29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#a3b59e4f2efbe64568c500756a170af29">_Handle_Set</a> ()</td></tr>
<tr class="memitem:adc1ef56d8c5fe9dbab74a821f38fe62c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#adc1ef56d8c5fe9dbab74a821f38fe62c">_Handle_Insert</a> ()</td></tr>
<tr class="memitem:aaed227073838fb79b344e3d07a3152e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#aaed227073838fb79b344e3d07a3152e8">_Handle_Delete</a> ()</td></tr>
<tr class="memitem:ac154306e6919de8316ddf45fc8d619f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_mongo_data_wrapper.html#ac154306e6919de8316ddf45fc8d619f3">_HandleOptions</a> (&amp;$theResult, $theOptions)</td></tr>
</table>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a117d32ff4a01a54a7ff6203ba0ca66b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a117d32ff4a01a54a7ff6203ba0ca66b7">CMongoDataWrapper::_FormatContainer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Format container.</p>
<p>This method will format the request container.</p>
<p>In this class we set the container to a MongoCollection object.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="a15b44586fe5de968efb0edbe96f3da60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a15b44586fe5de968efb0edbe96f3da60">CMongoDataWrapper::_FormatDatabase</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Format database.</p>
<p>This method will format the request database.</p>
<p>In this class we set the database to a MongoDB object.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="a2642638da121e471c7ea1fbb61f6f3ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a2642638da121e471c7ea1fbb61f6f3ef">CMongoDataWrapper::_FormatObject</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Format object.</p>
<p>This method will format the request object.</p>
<p>In this class we resolve the Mongo native types.</p>
<p>private </p>

<p>Reimplemented from <a class="el" href="class_c_data_wrapper.html#addefb7bd419de62bfebedc21abbdad7e">CDataWrapper</a>.</p>

</div>
</div>
<a class="anchor" id="a807db77c3c4f7708e86873a0447b83ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a807db77c3c4f7708e86873a0447b83ff">CMongoDataWrapper::_FormatQuery</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Format query.</p>
<p>This method will format the request query.</p>
<p>In this class we set the query to a <a class="el" href="class_c_mongo_query.html">CMongoQuery</a> object.</p>
<p>private </p>

<p>Reimplemented from <a class="el" href="class_c_data_wrapper.html#a0c3054fcf3716d638922cd581d5c706e">CDataWrapper</a>.</p>

</div>
</div>
<a class="anchor" id="abbc0d41394dda4a27eefa8481065749a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#abbc0d41394dda4a27eefa8481065749a">CMongoDataWrapper::_FormatRequest</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Format request.</p>
<p>This method should perform any needed formatting before the request will be handled.</p>
<p>In this class we handle the parameters to be decoded</p>
<p>private </p>

<p>Reimplemented from <a class="el" href="class_c_data_wrapper.html#ab46c0e9797e8636ca1c9d535b377b90a">CDataWrapper</a>.</p>

</div>
</div>
<a class="anchor" id="ae7cc52809c8b6cea94c84d5f64a4308b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#ae7cc52809c8b6cea94c84d5f64a4308b">CMongoDataWrapper::_Handle_Count</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle <a class="el" href="">COUNT</a> request.</p>
<p>This method will handle the <a class="el" href="">kAPI_OP_COUNT</a> request, which returns the total count of a Mongo query.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="aaed227073838fb79b344e3d07a3152e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#aaed227073838fb79b344e3d07a3152e8">CMongoDataWrapper::_Handle_Delete</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle <a class="el" href="">Delete</a> request.</p>
<p>This method will handle the <a class="el" href="">kAPI_OP_DEL</a> request, whichwill delete all objects matching the provided filter.</p>
<p>The method expects the <em>justOne</em> parameter in the provided <a class="el" href="">options</a>, if not provided, it will default to <em>FALSE</em>.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="a157a45bd4a2da43bd05d62b22faf3dc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a157a45bd4a2da43bd05d62b22faf3dc6">CMongoDataWrapper::_Handle_Get</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle <a class="el" href="">Get</a> request.</p>
<p>This method will handle the <a class="el" href="">kAPI_OP_GET</a> request, which corresponds to the find Mongo query.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="a226970d3cfb96f8e85e46d3943c25089"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a226970d3cfb96f8e85e46d3943c25089">CMongoDataWrapper::_Handle_GetObjectByReference</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle <a class="el" href="">GetObjectByReference</a> request.</p>
<p>This method will handle the <a class="el" href="">kAPI_OP_GET_OBJECT_REF</a> request, which returns an object corresponding to the object <a class="el" href="">reference</a> provided in the <a class="el" href="">object</a> parameter.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="a3b9896d121c899aa3dd9f5e56e44c874"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a3b9896d121c899aa3dd9f5e56e44c874">CMongoDataWrapper::_Handle_GetOne</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle <a class="el" href="">GetOne</a> request.</p>
<p>This method will handle the <a class="el" href="">kAPI_OP_GET_ONE</a> request, which corresponds to the findOne Mongo query.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="adc1ef56d8c5fe9dbab74a821f38fe62c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#adc1ef56d8c5fe9dbab74a821f38fe62c">CMongoDataWrapper::_Handle_Insert</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle <a class="el" href="">Insert</a> request.</p>
<p>This method will handle the <a class="el" href="">kAPI_OP_INSERT</a> request, which will insert the provided object.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="a3b59e4f2efbe64568c500756a170af29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a3b59e4f2efbe64568c500756a170af29">CMongoDataWrapper::_Handle_Set</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle <a class="el" href="">Set</a> request.</p>
<p>This method will handle the <a class="el" href="">kAPI_OP_SET</a> request, which will insert/update the provided object.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="ac154306e6919de8316ddf45fc8d619f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#ac154306e6919de8316ddf45fc8d619f3">CMongoDataWrapper::_HandleOptions</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>theResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>theOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle options.</p>
<p>This method will be called before serialising the result if <a class="el" href="">options</a> are provided in the request.</p>
<p>In this class we don't do anything, derived classes should handle specific elements.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">reference</td><td class="paramname">&amp;$theResult</td><td>Results list. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$theOptions</td><td>Key/value options list.</td></tr>
  </table>
  </dd>
</dl>
<p>private </p>

</div>
</div>
<a class="anchor" id="a811af7e7574a459bc56afa3afa99e1a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a811af7e7574a459bc56afa3afa99e1a8">CMongoDataWrapper::_HandleRequest</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle request.</p>
<p>This method will handle the request.</p>
<p>private </p>

<p>Reimplemented from <a class="el" href="class_c_wrapper.html#a12c1dd1f1d1cf0ae889cc19ff17ced0e">CWrapper</a>.</p>

</div>
</div>
<a class="anchor" id="a33ff97c26b97d00a67f97d41f67ce47b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a33ff97c26b97d00a67f97d41f67ce47b">CMongoDataWrapper::_InitResources</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialise resources.</p>
<p>In this class we initialise the Mongo object into the <a class="el" href="">kSESSION_MONGO</a> offset of the $_SESSION variable.</p>
<p>private </p>

<p>Reimplemented from <a class="el" href="class_c_wrapper.html#a0e5c5488fce4b388e43dcf6810874d74">CWrapper</a>.</p>

</div>
</div>
<a class="anchor" id="a9bb974219920f005b1cdba39793b84d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a9bb974219920f005b1cdba39793b84d5">CMongoDataWrapper::_ValidateObject</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Validate request object.</p>
<p>This method can be used to check whether the provided <a class="el" href="">object</a> contains the <a class="el" href="">identifier</a> when executing tree functions.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="a406b81115b5f3957e6d40ee49ae85a13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a406b81115b5f3957e6d40ee49ae85a13">CMongoDataWrapper::_ValidateOperation</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Validate request operation.</p>
<p>This method can be used to check whether the provided <a class="el" href="">operation</a> parameter is valid.</p>
<p>In this class, if the query was omitted and an object reference was required, we check if the object <a class="el" href="">native</a> identifier is there: in that case we compile the query with that value.</p>
<p>private </p>

<p>Reimplemented from <a class="el" href="class_c_data_wrapper.html#ac25dbab0dc8d55b3b8f0a4027d4549c6">CDataWrapper</a>.</p>

</div>
</div>
<a class="anchor" id="aa2ae2292a247d94c9b1dfa13d9a4fb85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#aa2ae2292a247d94c9b1dfa13d9a4fb85">CMongoDataWrapper::_ValidateQuery</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Validate query reference.</p>
<p>This method can be used to check whether the provided <a class="el" href="">query</a> parameter is valid.</p>
<p>In this class we convert the query to the native Mongo format.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="a3d06376cb588e5c26751bff3f0083ef5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_mongo_data_wrapper.html#a3d06376cb588e5c26751bff3f0083ef5">CMongoDataWrapper::_ValidateRequest</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Validate request.</p>
<p>This method should check that the request is valid and that all required parameters have been sent.</p>
<p>In this class we check if the provided <a class="el" href="">object</a> contains the <a class="el" href="">identifier</a> when executing tree functions.</p>
<p>private </p>

<p>Reimplemented from <a class="el" href="class_c_data_wrapper.html#aed059c9ffcb6e988633ba5b28a875b76">CDataWrapper</a>.</p>

</div>
</div>
<a class="anchor" id="a4a23d055b9735b8ba53102e619f94ffb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_c_mongo_data_wrapper.html#a4a23d055b9735b8ba53102e619f94ffb">CMongoDataWrapper::SerialiseData</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>theElement</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Serialise provided data element.</p>
<p>This method should convert the provided scalar into a structure containing the <a class="el" href="">type</a> and the normalised <a class="el" href="">data</a>, and replace the provided reference with this structure.</p>
<p>This method is called by a static <a class="el" href="class_c_mongo_data_wrapper.html#a0d37f7b47e1a1ac48846f6d10d08d846">interface</a> which traverses an object and provides this method with all scalar elements.</p>
<p>This method should process all data types that cannot be fully represented in JSON or those that need to be converted from a scalar to a structure, the method will replace the referenced element with an array in which the data type is set in the <a class="el" href="">type</a> offset, and the normalised data in the <a class="el" href="">data</a> offset.</p>
<p>For instance, a binary data object would be converted into an array where the <a class="el" href="">type</a> offset would be set as <a class="el" href="">binary</a> and the <a class="el" href="">data</a> offset would be set with the hexadecimal representstion of that data.</p>
<p>To convert the data back to the format it was provided, you should use the <a class="el" href="class_c_mongo_data_wrapper.html#a581d27ffad3ff0a68c5bd6123abece01">UnserialiseData</a> method.</p>
<p>The conversion is performed on the provided element itself.</p>
<p>In this class we convert the following data types:</p>
<ul>
<li>
<em>MongoId</em>: We convert into: <ul>
<li>
<em><a class="el" href="">kTAG_TYPE</a></em>: <a class="el" href="">kDATA_TYPE_MongoId</a>. </li>
<li>
<em><a class="el" href="">kTAG_DATA</a></em>: The contents of the object cast to string. </li>
</ul>
</li>
<li>
<em>MongoCode</em>: We convert into: <ul>
<li>
<em><a class="el" href="">kTAG_TYPE</a></em>: <a class="el" href="">kDATA_TYPE_MongoCode</a>. </li>
<li>
<em><a class="el" href="">kTAG_DATA</a></em>: A structure formatted as follows: <ul>
<li>
<em><a class="el" href="">kOBJ_TYPE_CODE_SRC</a></em>: The <em>code</em> element of the object. </li>
<li>
<em><a class="el" href="">OBJ_TYPE_CODE_SCOPE</a></em>: The <em>scope</em> element of the object. </li>
</ul>
</li>
</ul>
</li>
<li>
<em>MongoDate</em>: We convert into: <ul>
<li>
<em><a class="el" href="">kTAG_TYPE</a></em>: <a class="el" href="">kDATA_TYPE_STAMP</a>. </li>
<li>
<em><a class="el" href="">kTAG_DATA</a></em>: A structure formatted as follows: <ul>
<li>
<em><a class="el" href="">kOBJ_TYPE_STAMP_SEC</a></em>: The <em>sec</em> element of the object. </li>
<li>
<em><a class="el" href="">kOBJ_TYPE_STAMP_USEC</a></em>: The <em>usec</em> element of the object. </li>
</ul>
</li>
</ul>
</li>
<li>
<em>MongoRegex</em>: We convert into: <ul>
<li>
<em><a class="el" href="">kTAG_TYPE</a></em>: <a class="el" href="">kDATA_TYPE_MongoRegex</a>. </li>
<li>
<em><a class="el" href="">kTAG_DATA</a></em>: The contents of the object cast to string. </li>
</ul>
</li>
<li>
<em>MongoBinData</em>: We convert into: <ul>
<li>
<em><a class="el" href="">kTAG_TYPE</a></em>: <a class="el" href="">kDATA_TYPE_BINARY</a>. </li>
<li>
<em><a class="el" href="">kTAG_DATA</a></em>: The <em>bin</em> element of the object. </li>
</ul>
</li>
<li>
<em>MongoInt32</em>: We convert into: <ul>
<li>
<em><a class="el" href="">kTAG_TYPE</a></em>: <a class="el" href="">kDATA_TYPE_INT32</a>. </li>
<li>
<em><a class="el" href="">kTAG_DATA</a></em>: The contents of the object cast to string. </li>
</ul>
</li>
<li>
<em>MongoInt64</em>: We convert into: <ul>
<li>
<em><a class="el" href="">kTAG_TYPE</a></em>: <a class="el" href="">kDATA_TYPE_INT64</a>. </li>
<li>
<em><a class="el" href="">kTAG_DATA</a></em>: The contents of the object cast to string. </li>
</ul>
</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">reference</td><td class="paramname">&amp;$theElement</td><td>Element to encode. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0d37f7b47e1a1ac48846f6d10d08d846"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_c_mongo_data_wrapper.html#a0d37f7b47e1a1ac48846f6d10d08d846">CMongoDataWrapper::SerialiseObject</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>theObject</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Serialise provided object.</p>
<p>This method should be used on objects containing custom data types that cannot be converted to <a class="el" href="class_c_object.html#a660f66b5be21d0cd1156463bcf75e575">JSON</a>, its duty is to convert special types into a format that can then be restored using the counter-method <a class="el" href="class_c_mongo_data_wrapper.html#aff82f7c69fa3641daf93d1f375e33501">UnserialiseObject</a>.</p>
<p>The method will scan the provided data elements, array or ArrayObject elements will be recursed, scalar elements will be sent to another public <a class="el" href="class_c_mongo_data_wrapper.html#a4a23d055b9735b8ba53102e619f94ffb">method</a> that will take care of converting the data if necessary, the converted data will be an array structured as follows:</p>
<ul>
<li>
<em><a class="el" href="">kTAG_TYPE</a></em>: This offset represents the data type in which the data contained in the next offset is encoded. </li>
<li>
<em><a class="el" href="">kTAG_DATA</a></em>: This offset represents the actual data, it may be a scalar or an array containing the subcomponents of the data. </li>
</ul>
<p>The method accepts a single parameter which must be an array or ArrayObject instance, it will perform the conversion on the object itself. If you need to restore later the object to the state in which it was provided to this method, you should use the counter method <a class="el" href="class_c_mongo_data_wrapper.html#aff82f7c69fa3641daf93d1f375e33501">UnserialiseObject</a>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">reference</td><td class="paramname">&amp;$theObject</td><td>Object to decode. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a581d27ffad3ff0a68c5bd6123abece01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_c_mongo_data_wrapper.html#a581d27ffad3ff0a68c5bd6123abece01">CMongoDataWrapper::UnserialiseData</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>theElement</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unserialise provided data element.</p>
<p>This method should convert the provided structure into a custom data type compatible with the current container.</p>
<p>This method is called by a static <a class="el" href="class_c_mongo_data_wrapper.html#aff82f7c69fa3641daf93d1f375e33501">interface</a> which traverses an object and provides this method with all array or ArrayObject elements.</p>
<p>The method expects to receive structures containing both the <a class="el" href="">type</a> and <a class="el" href="">data</a> offsets, its duty is to parse custom data types in the <a class="el" href="">kTAG_TYPE</a> offset and convert the data provided in the <a class="el" href="">kTAG_DATA</a> back into the original data type and replace the provided element with that value.</p>
<p>The conversion is performed on the provided element itself.</p>
<p>In this class we parse the following <a class="el" href="">kTAG_TYPE</a> offsets:</p>
<ul>
<li>
<em><a class="el" href="">kDATA_TYPE_MongoId</a></em>: We return a MongoId object using the value provided in the <a class="el" href="">kTAG_DATA</a> offset. </li>
<li>
<em><a class="el" href="">kDATA_TYPE_MongoCode</a></em>: We return a MongoCode object by using the values provided in the <a class="el" href="">kTAG_DATA</a> offset which is expected to be an array structured as follows: <ul>
<li>
<em><a class="el" href="">kOBJ_TYPE_CODE_SRC</a></em>: The javascript code. </li>
<li>
<em><a class="el" href="">kOBJ_TYPE_CODE_SCOPE</a></em>: The key/value pairs. </li>
</ul>
</li>
<li>
<em><a class="el" href="">kDATA_TYPE_MongoDate</a> or <a class="el" href="">kDATA_TYPE_STAMP</a></em>: We return a MongoDate object using the contents of the data in the <a class="el" href="">kTAG_DATA</a> offset which is expected to be an array structured as follows: <ul>
<li>
<em><a class="el" href="">kOBJ_TYPE_STAMP_SEC</a></em>: Number of seconds since January 1st, 1970. </li>
<li>
<em><a class="el" href="">kOBJ_TYPE_STAMP_USEC</a></em>: Microseconds. </li>
</ul>
</li>
<li>
<em><a class="el" href="">kDATA_TYPE_MongoInt32</a> or <a class="el" href="">kDATA_TYPE_INT32</a></em>: We return a MongoInt32 using as value the contents of the <a class="el" href="">kTAG_DATA</a> offset, which may also be a string. </li>
<li>
<em><a class="el" href="">kDATA_TYPE_MongoInt64</a> or <a class="el" href="">kDATA_TYPE_INT64</a></em>: We return a MongoInt64 using as value the contents of the <a class="el" href="">kTAG_DATA</a> offset, which may also be a string. </li>
<li>
<em><a class="el" href="">kDATA_TYPE_MongoRegex</a></em>: We return a MongoRegex object using the <a class="el" href="">kTAG_DATA</a> offset as the regular expression. </li>
<li>
<em><a class="el" href="">kDATA_TYPE_MongoBinData</a> or <a class="el" href="">kDATA_TYPE_BINARY</a></em>: We return a MongoBinData object using the <a class="el" href="">kTAG_DATA</a> offset as the hexadecimal representation of the binary string. </li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">reference</td><td class="paramname">&amp;$theElement</td><td>Element to encode. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aff82f7c69fa3641daf93d1f375e33501"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_c_mongo_data_wrapper.html#aff82f7c69fa3641daf93d1f375e33501">CMongoDataWrapper::UnserialiseObject</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>theObject</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unserialise provided object.</p>
<p>This method should be used on objects converted using the <a class="el" href="class_c_mongo_data_wrapper.html#a0d37f7b47e1a1ac48846f6d10d08d846">SerialiseObject</a> method, its duty is to convert the elements of the object that were converted to arrays back to the data type indicated in the <a class="el" href="">kTAG_TYPE</a> offset.</p>
<p>The method will scan the provided structure and select all elements which are either arrays or ArrayObjects having both the <a class="el" href="">kTAG_TYPE</a> and <a class="el" href="">kTAG_DATA</a> offsets, these elements will be sent to the <a class="el" href="class_c_mongo_data_wrapper.html#a581d27ffad3ff0a68c5bd6123abece01">UnserialiseData</a> method that will take care of converting the array back into the data type indicated in the <a class="el" href="">kTAG_TYPE</a> offset using the data in the <a class="el" href="">kTAG_DATA</a> offset.</p>
<p>The method accepts a single parameter which must be an array or ArrayObject instance, it will perform the encoding on the object itself. If you need to restore later the object to the state in which it was provided to this method, you should use the counter method <a class="el" href="class_c_mongo_data_wrapper.html#a0d37f7b47e1a1ac48846f6d10d08d846">SerialiseObject</a>.</p>
<p>The <a class="el" href="class_c_mongo_data_wrapper.html#a581d27ffad3ff0a68c5bd6123abece01">UnserialiseData</a> method is not implemented in this class, if in derived classes you want to take advantage of this feature you must implement it.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">reference</td><td class="paramname">&amp;$theObject</td><td>Object to encode. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Library/WebServer/Library/wrapper/classes/CMongoDataWrapper.php</li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_c_mongo_data_wrapper.html">CMongoDataWrapper</a>      </li>

    <li class="footer">Generated on Thu Mar 15 2012 20:18:44 for Wrapper by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
