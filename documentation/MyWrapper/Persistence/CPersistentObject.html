<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class CPersistentObject</title>
			<link rel="stylesheet" href="../../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name"><img src="../../media/images/Class_logo.png"
														alt=" Class"
														title=" Class"
														style="vertical-align: middle"> CPersistentObject</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
							<a href="#sec-descendents">Descendents</a>
			|											<a href="#sec-vars">Vars</a>
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
											<a href="#sec-consts">Constants</a>
						
			</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Persistent objects ancestor.</p>
<p class="description"><p>This class is the ancestor of all persistent objects in this library, it implements the  common interfaces and workflow that persistent objects will use to be  <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">instantiated</a>, <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">retrieved</a> or  <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">stored</a> in object <a href="../../MyWrapper/Persistence/CContainer.html">containers</a>.</p><p>This class interacts closely with <a href="../../MyWrapper/Persistence/CContainer.html">CContainer</a> derived classes so that  concrete classes derived from this one need only to be concerned with their specific  functionality, while persistent issues are handled foth by this class and by the  concrete classes derived from <a href="../../MyWrapper/Persistence/CContainer.html">CContainer</a>.</p><p>The class declares three main persistence operations whose workflow is as follows:</p><p><ul><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">Create</a></em>: The <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">constructor</a> can
        instantiate an object from data, as its <a href="../../MyWrapper/Core/CArrayObject.html">ancestor</a>, a protected
        <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Create">method</a> may be overloaded by derived classes to implement
        specific functionality.</li><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">Retrieve</a></em>: The <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">constructor</a> is
        also used to retrieve objects stored in a <a href="../../MyWrapper/Persistence/CContainer.html">container</a>, this
        operation follows these steps:
     <ul><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method_PrepareLoad">Prepare</a></em>: This step is used to check parameters and
            prepare the resources needed to locate and retrieve the object.</li><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Load">Find</a></em>: In this step the object will be searched for
            and retrieved from the <a href="../../MyWrapper/Persistence/CContainer.html">container</a>.</li></ul></li><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">Store</a></em>: This operation will store the object in a
        <a href="../../MyWrapper/Persistence/CContainer.html">container</a>, the followed steps are:
     <ul><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method_PrepareCommit">Prepare</a></em>: This step is used to check parameters
            and prepare the resources needed to save the object.</li><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Commit">Store</a></em>: This operation will perform the actual
            storage, this step should be delegated to the <a href="../../MyWrapper/Persistence/CContainer.html">container</a>.</li></ul></li></ul></p><p>This class implements the default behaviour, in derived classes you should overload these  methods if necessary, without changing the public interface.</p><p>This class extends its <a href="../../MyWrapper/Core/CStatusObject.html">ancestor</a> behaviour to record persistence  status and accepts only instances derived from <a href="../../MyWrapper/Persistence/CContainer.html">CContainer</a> as  containers.</p></p>
		<p class="notes">
			Located in <a class="field" href="_classes---CPersistentObject.php.html">/classes/CPersistentObject.php</a> (line <span class="field">80</span>)
		</p>
		
				
		<pre>ArrayObject
   |
   --<a href="../../MyWrapper/Core/CArrayObject.html">CArrayObject</a>
      |
      --<a href="../../MyWrapper/Core/CStatusObject.html">CStatusObject</a>
         |
         --CPersistentObject</pre>
	
			</div>
</div>

	<a name="sec-descendents"></a>
	<div class="info-box">
		<div class="info-box-title">Direct descendents</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
			<span class="disabled">Descendents</span>
			|												<a href="#sec-vars">Vars</a>
								|															<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
															<a href="#sec-consts">Constants</a>
							
					</div>
		<div class="info-box-body">
			<table cellpadding="2" cellspacing="0" class="class-table">
				<tr>
					<th class="class-table-header">Class</th>
					<th class="class-table-header">Description</th>
				</tr>
								<tr>
					<td style="padding-right: 2em; white-space: nowrap">
						<img src="../../media/images/Class.png"
								 alt=" class"
								 title=" class"
								 style="vertical-align: center"/>
						<a href="../../MyWrapper/Persistence/CMongoDBRef.html">CMongoDBRef</a>
					</td>
					<td>
											Mongo object reference.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em; white-space: nowrap">
						<img src="../../media/images/Class.png"
								 alt=" class"
								 title=" class"
								 style="vertical-align: center"/>
						<a href="../../MyWrapper/Persistence/CPersistentUnitObject.html">CPersistentUnitObject</a>
					</td>
					<td>
											Unit objects ancestor.
										</td>
				</tr>
							</table>
		</div>
	</div>



	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendants</a> |
															<a href="#sec-consts">Constants</a>
							
															<a href="#sec-vars">Vars</a>
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																																								<div class="method-definition">
					<img src="../../media/images/Constructor.png" alt=" "/>
											<span class="method-result">CPersistentObject</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theContainer</span> = <span class="var-default">NULL</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theIdentifier</span> = <span class="var-default">NULL</span>], [<span class="var-type">bitfield</span>&nbsp;<span class="var-name">$theModifiers</span> = <span class="var-default">kFLAG_DEFAULT</span>])
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#Commit" title="details" class="method-name">Commit</a>
											([<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theContainer</span> = <span class="var-default">NULL</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theIdentifier</span> = <span class="var-default">NULL</span>], [<span class="var-type">bitfield</span>&nbsp;<span class="var-name">$theModifiers</span> = <span class="var-default">kFLAG_PERSIST_REPLACE</span>])
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#Uncommit" title="details" class="method-name">Uncommit</a>
										()
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#_Commit" title="details" class="method-name">_Commit</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#_Create" title="details" class="method-name">_Create</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContent</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_FinishCommit" title="details" class="method-name">_FinishCommit</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_FinishLoad" title="details" class="method-name">_FinishLoad</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#_IsCommitted" title="details" class="method-name">_IsCommitted</a>
											([<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theState</span> = <span class="var-default">NULL</span>])
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#_IsEncoded" title="details" class="method-name">_IsEncoded</a>
											([<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theState</span> = <span class="var-default">NULL</span>])
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#_Load" title="details" class="method-name">_Load</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_PrepareCommit" title="details" class="method-name">_PrepareCommit</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_PrepareCreate" title="details" class="method-name">_PrepareCreate</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_PrepareLoad" title="details" class="method-name">_PrepareLoad</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
									</div>
											</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendents</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
												<a href="#sec-consts">Constants</a>
							
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
							<h4>Inherited Variables</h4>
				<A NAME='inherited_vars'><!-- --></A>
									<p>Inherited from <span class="classname"><a href="../../MyWrapper/Core/CStatusObject.html">CStatusObject</a></span></p>
					<blockquote>
													<img src="../../media/images/Variable.png" />
							<span class="var-title">
								<span class="var-name"><a href="../../MyWrapper/Core/CStatusObject.html#var$mStatus">CStatusObject::$mStatus</a></span><br>
							</span>
											</blockquote> 
										
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendents</a> |
															<a href="#sec-vars">Vars</a>
														<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Constructor.png" />
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">212</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Instantiate class.</p>
<p class="description"><p>The constructor can be used to instantiate an empty object, instantiate an object  from some content, or load an object from a container.</p><p>The parameters to this method are:</p><p><ul><li><strong>$theContainer</strong>: This parameter represents either the <em>contents</em> of
		the object, if the next parameter is missing, or the
		<em><a href="../../MyWrapper/Persistence/CContainer.html">container</a></em> in which the object resides. If missing, we
        assume we want to create an empty object.
     <ul><li><em>NULL</em>: In this case it is assumed you want to instantiate an empty
            object and the next parameter will be ignored.</li><li><em>Array</em> or <em>ArrayObject</em>: In this case we assume the parameter
            represents either the object contents, if the next parameter is <em>NULL</em>,
            or the <a href="../../MyWrapper/Persistence/CContainer.html">container</a> in which the object is
            <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">stored</a>, in which case we interpret the next parameter to be
            the object's identifier.</li><li><em>Other</em>: Any other type will raise an
            <a href="../../MyWrapper/Definitions/_defines---Errors.inc.php.html#definekERROR_UNSUPPORTED">exception</a>, or it should be handled by derived
            classes.</li></ul></li><li><strong>$theIdentifier</strong>: This parameter represents the key or query that will be
        used to locate the object in the container provided in the first parameter.
     <ul><li><em>NULL</em>: This indicates that the first parameter represents the object
            <em>contents</em>.</li><li><em>other</em>: Any other type is considered as a key or query used to locate
            the object in the container provided in the first parameter.</li></ul></li><li><strong>$theModifiers</strong>: This bitfield parameter can be used to provide a series of
        options to the object. The available options can be consulted in
        <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html">this</a> file. Most of these options are managed automatically
        and should not be provided explicitly. This class handles one option that has
        the following meaning:
     <ul><li><em><a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_ENCODED">kFLAG_STATE_ENCODED</a></em>: If the option is on,
            the object will be passed through a
            <a href="../../MyWrapper/Persistence/CContainer.html#methodUnserialiseObject">conversion</a> process that will convert
            all <a href="../../MyWrapper/Core/CDataType.html">standard</a> data types into native container custom data
            types <a href="../../MyWrapper/Persistence/CContainer.html#method_PrepareCommit">before</a>
            <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">committing</a> the object; the opposite
            <a href="../../MyWrapper/Core/CDataType.html#methodSerialiseObject">conversion</a> process will take place
            <a href="../../MyWrapper/Persistence/CContainer.html#method_FinishLoad">after</a> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">loading</a> the
            object from a container. It is a good idea to keep this flag ON, because the
            converted object will be compatible with any <a href="../../MyWrapper/Persistence/CContainer.html">container</a>
            and it will make data transfers from one database to the other easy.
            This process is automatic and transparent.</li></ul></li></ul></p><p>Depending on the results of this method we set the <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">committed</a>  status <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">flag</a> as follows:</p><p><ul><li><em>Empty object</em>: By omitting the first parameter we indicate that we want to
        start from scratch, the object will not have its
        <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">committed</a> <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">flag</a> set.</li><li><em>Filled object</em>: In this case we provide in the <em>$theContainer</em>
        parameter the object's <em>contents</em>. In this case we do not consider the
        object as persistent, so the object will not have its
        <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">committed</a> <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">flag</a> set.</li><li><em>Selected object</em>: In this case we search the <em>$theContainer</em> with
        the provided <em>$theIdentifier</em> as a key or query, and if:
     <ul><li><em>Found</em>: We set the <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">committed</a>
            <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">flag</a> on.</li><li><em>Not found</em>: We instantiate an empty object and ignore the
            <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">committed</a> <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">flag</a>.</li></ul></li></ul></p><p>The <a href="../../MyWrapper/Core/CStatusObject.html#method_IsInited">inited</a> status <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_INITED">flag</a> is not set by  default, this will prevent the object from being <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">stored</a> and it is  the responsibility of derived concrete instances to manage this status.</p><p>This method takes advantage of a protected interface which should be overloaded by  derived classes instead of overloading this method:</p><p><ul><li><em>Retrieve object</em>: If the second parameter was provided, it implies that
        the object is to be retrieved from the first parameter which represents the
        <a href="../../MyWrapper/Persistence/CContainer.html">container</a> in which the object contents are stored.
     <ul><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method_PrepareLoad">_PrepareLoad</a>()</em>: This method should check and
            normalise the container and identifier. In this class we ensure that the
            container is derived from <a href="../../MyWrapper/Persistence/CContainer.html">CContainer</a>.</li><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Load">_Load</a>()</em>: This method will delegate the
            <a href="../../MyWrapper/Persistence/CContainer.html">container</a> the responsibility of locating and retrieving
            the object using the provided identifier.</li></ul></li><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Create">_Create</a>()</em>: This method should instantiate
        the object from the contents returned by <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Load">_Load</a> or
        by the data provided in the first parameter in the case the second parameter
        was omitted.</li></ul></p><p>Derived classes should overload the above interface rather than overloading this  method and should do so only if necessary, because this workflow should be sufficient  for persisting objects.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_PrepareLoad">CPersistentObject::_PrepareLoad()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Load">CPersistentObject::_Load()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">CPersistentObject::_IsCommitted()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_FinishLoad">CPersistentObject::_FinishLoad()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Create">CPersistentObject::_Create()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">CPersistentObject</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theContainer</span> = <span class="var-default">NULL</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theIdentifier</span> = <span class="var-default">NULL</span>], [<span class="var-type">bitfield</span>&nbsp;<span class="var-name">$theModifiers</span> = <span class="var-default">kFLAG_DEFAULT</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$theContainer</span><span class="var-description">: Persistent container.</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
					<li>
				<span class="var-type">bitfield</span>
				<span class="var-name">$theModifiers</span><span class="var-description">: Create modifiers.</span>			</li>
				</ul>
		
			
			<hr class="separator" />
		<div class="notes">Redefined in descendants as:</div>
		<ul class="redefinitions">
					<li>
				<a href="../../MyWrapper/Persistence/CMongoDBRef.html#method__construct">CMongoDBRef::__construct()</a>
								: Instantiate class.
							</li>
					<li>
				<a href="../../MyWrapper/Framework/CCodedUnitObject.html#method__construct">CCodedUnitObject::__construct()</a>
								: Instantiate class.
							</li>
					<li>
				<a href="../../MyWrapper/Entities/CInstitute.html#method__construct">CInstitute::__construct()</a>
								: Instantiate class.
							</li>
					<li>
				<a href="../../MyWrapper/Entities/CUser.html#method__construct">CUser::__construct()</a>
								: Instantiate class.
							</li>
					<li>
				<a href="../../MyWrapper/Ontology/CTerm.html#method__construct">CTerm::__construct()</a>
								: Instantiate class.
							</li>
				</ul>
	</div>
<a name="methodCommit" id="Commit"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Commit</span> (line <span class="line-number">368</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Commit the object into a container.</p>
<p class="description"><p>This method should be used to commit the object to a container, the method accepts  two parameters:</p><p><ul><li><strong>$theContainer</strong>: This parameter represents the <em>container</em> in which
		the object is to be stored. By default we enforce concrete instances of
		<a href="../../MyWrapper/Persistence/CContainer.html">CContainer</a>, derived classes may overload the protected
        interface to initialise this value.</li><li><strong>$theIdentifier</strong>: This parameter represents the value by which the current
        object will be uniquely identified in the first parameter. By default this
        value is required, derived classes may overload the protected interface to
        initialise this value.</li><li><strong>$theModifiers</strong>: This parameter represents the commit operation options, by
        default we assume you want to <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_REPLACE">replace</a> an object,
        but you may change this value if you want to perform specific commit operations:
     <ul><li><em><a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_INSERT">kFLAG_PERSIST_INSERT</a></em>: The provided
            object will be inserted in the container, it is assumed that no other
            element in the container shares the same identifier, in that case the
            container <a href="../../MyWrapper/Persistence/CContainer.html#methodCommit">method</a> must raise an
            <a href="../../MyWrapper/Definitions/_defines---Errors.inc.php.html#definekERROR_DUPLICATE">exception</a>.</li><li><em><a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_UPDATE">kFLAG_PERSIST_UPDATE</a></em>: The provided
            object will replace the existing object. In this case the method expects
            the container to have an entry with the same key as the provided identifier,
            if this is not the case the container <a href="../../MyWrapper/Persistence/CContainer.html#methodCommit">method</a>
            must raise an <a href="../../MyWrapper/Definitions/_defines---Errors.inc.php.html#definekERROR_NOT_FOUND">exception</a>. With this option it is
            assumed that the provided object's attributes will replace all the existing
            object's ones.</li><li><em><a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_MODIFY">kFLAG_PERSIST_MODIFY</a></em>: The provided
            object is assumed to contain a subset of an existing object's attributes,
            these provided attributes will be appended or replace the existing ones.
            In this case the method expects the container to have an entry with the
            same key as the provided identifier, if this is not the case the method must
            raise an <a href="../../MyWrapper/Definitions/_defines---Errors.inc.php.html#definekERROR_NOT_FOUND">exception</a>.</li><li><em><a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_REPLACE">kFLAG_PERSIST_REPLACE</a></em>: The provided
            object will be <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_INSERT">inserted</a>, if the identifier
            doesn't match any container elements, or it will
            <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_UPDATE">replace</a> the existing object. As with
            <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_UPDATE">update</a>, it is assumed that the provided
            object's attributes will replace all the existing object's ones.</li><li><em><a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_DELETE">kFLAG_PERSIST_DELETE</a></em>: This option
            assumes you want to remove the object from the container, although the
            container features a specific <a href="../../MyWrapper/Persistence/CContainer.html#methodDelete">method</a> for this
            purpose, this option may be used to implement a <em>deleted state</em>, rather
            than actually removing the object from the container.</li><li><em><a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_ENCODED">kFLAG_STATE_ENCODED</a></em>: If the option is on,
            the object will be passed through a
            <a href="../../MyWrapper/Persistence/CContainer.html#methodUnserialiseObject">conversion</a> process that will convert
            all <a href="../../MyWrapper/Core/CDataType.html">standard</a> data types into native container custom data
            types <a href="../../MyWrapper/Persistence/CContainer.html#method_PrepareCommit">before</a> committing the object. It
            is a good idea to keep this flag ON, because the converted object will be
            compatible with any <a href="../../MyWrapper/Persistence/CContainer.html">container</a> and it will make data
            transfers from one database to the other easy. This process is automatic and
            transparent.</li></ul></li></ul></p><p>The method will only operate if either the <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">committed</a>  <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">flag</a> is <em>not set</em>, or the  <a href="../../MyWrapper/Core/CStatusObject.html#method_IsDirty">dirty</a> <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_DIRTY">flag</a> is <em>set</em>, if none of  these two conditions are satisfied, the method will do nothing.</p><p>The method will by default <em>set</em> the <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">committed</a>  <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">flag</a> and <em>reset</em> the <a href="../../MyWrapper/Core/CStatusObject.html#method_IsDirty">dirty</a>  <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_DIRTY">flag</a> if the operation was successful.</p><p>This method should raise an exception if any error occurs.</p><p>The method should return the unique identifier of the object or <em>NULL</em> if the  operation was not performed.</p><p>In derived classes you should not overload this method, instead, you should overload  the protected interface:</p><p><ul><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method_PrepareCommit">_PrepareCommit</a>()</em>: This method can be used to
        initialise or check the parameters and resources.</li><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Commit">_Commit</a>()</em>: This method will perform the
        actual commit.</li><li><em><a href="../../MyWrapper/Persistence/CPersistentObject.html#method_FinishCommit">_FinishCommit</a>()</em>: This method can be used to perform
        eventual post-flight adjustments.</li></ul></p></p>
	<ul class="tags">
				<li><span class="field">see:</span> kFLAG_PERSIST_INSERT kFLAG_PERSIST_UPDATE kFLAG_PERSIST_MODIFY</li>
				<li><span class="field">see:</span> kFLAG_PERSIST_REPLACE kFLAG_STATE_ENCODED</li>
				<li><span class="field">access:</span> public</li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_PrepareCommit">CPersistentObject::_PrepareCommit()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Core/CStatusObject.html#method_IsDirty">CStatusObject::_IsDirty()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_FinishCommit">CPersistentObject::_FinishCommit()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">CPersistentObject::_IsCommitted()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Commit">CPersistentObject::_Commit()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			Commit
		</span>
					([<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theContainer</span> = <span class="var-default">NULL</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theIdentifier</span> = <span class="var-default">NULL</span>], [<span class="var-type">bitfield</span>&nbsp;<span class="var-name">$theModifiers</span> = <span class="var-default">kFLAG_PERSIST_REPLACE</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$theContainer</span><span class="var-description">: Persistent container.</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
					<li>
				<span class="var-type">bitfield</span>
				<span class="var-name">$theModifiers</span><span class="var-description">: Commit modifiers.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodUncommit" id="Uncommit"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Uncommit</span> (line <span class="line-number">435</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Reset _IsCommitted() status.</p>
<p class="description"><p>This method can be used to reset the object's <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">committed</a>  <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">status</a>, this may be necessary when copying an object from one  container to the other, since the object will be <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">committed</a> only if  the <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">committed</a> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">status</a> is not set,  or if the <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_DIRTY">dirty</a> <a href="../../MyWrapper/Core/CStatusObject.html#method_IsDirty">status</a> is set.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">CPersistentObject::_IsCommitted()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			Uncommit
		</span>
				()
			</div>
	
		
			
	</div>
<a name="method_Commit" id="_Commit"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_Commit</span> (line <span class="line-number">665</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Store object in container.</p>
<p class="description"><p>The duty of this method is to store the current object in the container provided in  the first parameter with as key the value provided in the second parameter with  options provided in the third parameter, please refer to <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">this</a>  documentation for a reference of these parameters. Note that in this method all three  parameters are passed by reference.</p><p>This class supports <a href="../../MyWrapper/Persistence/CContainer.html">CContainer</a> derived instances and will delegate  the operation to the container. Note that by default we call the container's  <a href="../../MyWrapper/Persistence/CContainer.html#methodCommit">commit</a> method with the  <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_REPLACE">kFLAG_PERSIST_REPLACE</a> option, which will  <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_INSERT">insert</a> the object if new or  <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_PERSIST_UPDATE">replace</a> the eventual existing object.</p><p>The method expects all parameters to have been previously  <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_PrepareCommit">checked</a>, its main duty is to perform the actual storage.  In derived classes you should intercept custom containers, or call the parent method.</p><p><em>Note: the duty of this method is to store only the array part of the object,
 properties should be ignored.</em></p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">CPersistentObject::Commit()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			_Commit
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theModifiers</span><span class="var-description">: Commit modifiers.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_Create" id="_Create"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_Create</span> (line <span class="line-number">594</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Create object.</p>
<p class="description"><p>The duty of this method is to instantiate an object with the provided data.</p><p>The method expects one parameter which is passed by reference:</p><p><ul><li><strong>&amp;$theContent</strong>: This parameter represents the object contents:
	 <ul><li><em>NULL</em>: The method will instantiate an empty object.</li><li><em>array</em> or an <em>ArrayObject</em>: The method will instantiate the
			object with the contents of the provided parameter.</li><li><em>other</em>: By default any other type will raise an exception, in derived
			classes you can overload this method to handle custom types.</li></ul></li></ul></p><p>The method returns a boolean where <em>TRUE</em> indicates that the object was  instantiated with data, and <em>FALSE</em> indicating that the object is empty. This  will be used by the <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">caller</a> to set the object  <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsCommitted">committed</a> status <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">flag</a>.</p><p>The parameter is provided as a reference.</p></p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../MyWrapper/Definitions/_defines---Errors.inc.php.html#definekERROR_UNSUPPORTED">kERROR_UNSUPPORTED</a></li>
				<li><span class="field">throws:</span> <a href="../../MyWrapper/Core/CException.html">CException</a></li>
				<li><span class="field">access:</span> protected</li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">CPersistentObject::__construct()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			_Create
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContent</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContent</span><span class="var-description">: Object data content.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_FinishCommit" id="_FinishCommit"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_FinishCommit</span> (line <span class="line-number">931</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Normalise after a _Commit().</p>
<p class="description"><p>This method will be called after the <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Commit">store</a> operation, its  duty is to clean up or restore the object after the operation please refer to  <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">this</a> documentation for a reference of these parameters. Note that in  this method all three parameters are passed by reference.</p><p>In this class we do nothing.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">CPersistentObject::Commit()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_FinishCommit
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theModifiers</span><span class="var-description">: Commit modifiers.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_FinishLoad" id="_FinishLoad"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_FinishLoad</span> (line <span class="line-number">908</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Normalise after a _Load().</p>
<p class="description"><p>This method will be called after the <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Load">load</a> operation, its duty is to  clean up or normalise after the operation. Both the container and the identifier  parameters are passed by reference.</p><p>In this class we do nothing.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">CPersistentObject::__construct()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_FinishLoad
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theModifiers</span><span class="var-description">: Create modifiers.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_IsCommitted" id="_IsCommitted"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_IsCommitted</span> (line <span class="line-number">482</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Manage committed status.</p>
<p class="description"><p>This method can be used to get or set the object's committed state.</p><p>A committed object is one that has either been loaded from a container or committed  to a container. This state indicates that the object is persistent. This state,  combined with the <a href="../../MyWrapper/Core/CStatusObject.html#method_IsDirty">dirty</a> status, can determine if an object needs  to be committed in a container or not.</p><p>The method features a single parameter:</p><p><ul><li><em>NULL</em>: The method will return <em>TRUE</em> if the object is committed, or
        <em>FALSE</em> if the object is not committed.</li><li><em>TRUE</em>: The method will set the object to committed.</li><li><em>FALSE</em>: The method will reset the object's committed state.</li></ul></p><p>In all cases the method will return the state <em>after</em> it was eventually  modified.</p></p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_COMMITTED">kFLAG_STATE_COMMITTED</a></li>
				<li><span class="field">access:</span> protected</li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Entities/CInstitute.html#methodoffsetUnset">CInstitute::offsetUnset()</a></li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Entities/CUser.html#methodoffsetSet">CUser::offsetSet()</a></li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Entities/CUser.html#methodoffsetUnset">CUser::offsetUnset()</a></li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Entities/CInstitute.html#methodoffsetSet">CInstitute::offsetSet()</a></li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">CPersistentObject::Commit()</a></li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">CPersistentObject::__construct()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Core/CStatusObject.html#method_ManageBitField">CStatusObject::_ManageBitField()</a></li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodUncommit">CPersistentObject::Uncommit()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			_IsCommitted
		</span>
					([<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theState</span> = <span class="var-default">NULL</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$theState</span><span class="var-description">: TRUE, FALSE or NULL.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_IsEncoded" id="_IsEncoded"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_IsEncoded</span> (line <span class="line-number">538</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Manage encoded status.</p>
<p class="description"><p>This method can be used to get or set the object's encoded state.</p><p>This flag determines whether custom data types are to be converted to  <a href="../../MyWrapper/Core/CDataType.html">standard</a> types when working with the object. This is especially  useful when transmitting the object through the network or when managing custom  database types.</p><p>The conversion to <a href="../../MyWrapper/Core/CDataType.html">standard</a> types is  <a href="../../MyWrapper/Core/CDataType.html#methodSerialiseObject">done</a> when <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">loading</a> the  object from a <a href="../../MyWrapper/Persistence/CContainer.html">container</a> and the opposite is  <a href="../../MyWrapper/Persistence/CContainer.html#methodUnserialiseObject">done</a> before <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">storing</a> the  object into a <a href="../../MyWrapper/Persistence/CContainer.html">container</a>, these operations are performed by the  <a href="../../MyWrapper/Persistence/CContainer.html">container</a> object that takes care of object persistence.</p><p>This <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_ENCODED">kFLAG_STATE_ENCODED</a> flag can be provided at  <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">instantiation</a> or directly to the persistence methods, although  it is a better idea to provide it in the <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">constructor</a> to have  this conversion happen transparently.</p><p>The method features a single parameter:</p><p><ul><li><em>NULL</em>: The method will return <em>TRUE</em> if the object is encoded, or
        <em>FALSE</em> if the object is not encoded.</li><li><em>TRUE</em>: The method will set the object to encoded.</li><li><em>FALSE</em>: The method will reset the object's encoded state.</li></ul></p><p>In all cases the method will return the state <em>after</em> it was eventually  modified.</p></p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_ENCODED">kFLAG_STATE_ENCODED</a></li>
				<li><span class="field">access:</span> protected</li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_PrepareLoad">CPersistentObject::_PrepareLoad()</a></li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_PrepareCreate">CPersistentObject::_PrepareCreate()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Core/CStatusObject.html#method_ManageBitField">CStatusObject::_ManageBitField()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			_IsEncoded
		</span>
					([<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theState</span> = <span class="var-default">NULL</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$theState</span><span class="var-description">: TRUE, FALSE or NULL.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_Load" id="_Load"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_Load</span> (line <span class="line-number">695</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Find object.</p>
<p class="description"><p>The duty of this method is to locate the object identified by <em>$theIdentifier</em>  in the container <em>$theContainer</em> and return its contents or <em>NULL</em> if not  found.</p><p>The method should expect both parameters to have been previously checked: in this  class, the container must be an <em>ArrayObject</em> representing either the actual  container, or a <a href="../../MyWrapper/Persistence/CContainer.html">CContainer</a> derived instance which will take care  of locating the object within its managed native container.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">CPersistentObject::__construct()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			_Load
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theModifiers</span><span class="var-description">: Create options.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_PrepareCommit" id="_PrepareCommit"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_PrepareCommit</span> (line <span class="line-number">855</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Normalise before a store.</p>
<p class="description"><p>This method will be called before the <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Commit">store</a> operation, its  duty is to prepare the object and check the parameters for the  <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Commit">commit</a> operation, please refer to <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">this</a>  documentation for a reference of these parameters. Note that in this method all three  parameters are passed by reference.</p><p>By default we perform the following checks:</p><p><ul><li>Ensure the container is an instance of <a href="../../MyWrapper/Persistence/CContainer.html">CContainer</a>.</li><li>Ensure the object is <a href="../../MyWrapper/Core/CStatusObject.html#method_IsInited">initialised</a>.</li></ul></p><p>In derived classes you should handle your custom containers or delegate to the parent  method.</p><p>In this class we do not check the identifier.</p><p>Any errors should raise an exception.</p></p>
	<ul class="tags">
				<li><span class="field">see:</span> kERROR_INVALID_STATE kERROR_OPTION_MISSING kERROR_UNSUPPORTED</li>
				<li><span class="field">throws:</span> <a href="../../MyWrapper/Core/CException.html">CException</a></li>
				<li><span class="field">access:</span> protected</li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#methodCommit">CPersistentObject::Commit()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Core/CStatusObject.html#method_IsInited">CStatusObject::_IsInited()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_PrepareCommit
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theModifiers</span><span class="var-description">: Commit modifiers.</span>			</li>
				</ul>
		
			
			<hr class="separator" />
		<div class="notes">Redefined in descendants as:</div>
		<ul class="redefinitions">
					<li>
				<a href="../../MyWrapper/Persistence/CPersistentUnitObject.html#method_PrepareCommit">CPersistentUnitObject::_PrepareCommit()</a>
								: Normalise before a store.
							</li>
					<li>
				<a href="../../MyWrapper/Framework/CGraphUnitObject.html#method_PrepareCommit">CGraphUnitObject::_PrepareCommit()</a>
								: Normalise before a store.
							</li>
					<li>
				<a href="../../MyWrapper/Entities/CInstitute.html#method_PrepareCommit">CInstitute::_PrepareCommit()</a>
								: Normalise parameters of a store.
							</li>
					<li>
				<a href="../../MyWrapper/Entities/CFAOInstitute.html#method_PrepareCommit">CFAOInstitute::_PrepareCommit()</a>
								: Normalise parameters of a store.
							</li>
					<li>
				<a href="../../MyWrapper/Entities/CUser.html#method_PrepareCommit">CUser::_PrepareCommit()</a>
								: Normalise parameters of a store.
							</li>
				</ul>
	</div>
<a name="method_PrepareCreate" id="_PrepareCreate"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_PrepareCreate</span> (line <span class="line-number">737</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Normalise parameters of a create.</p>
<p class="description"><p>The duty of this method is to ensure that the parameters provided to a  <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Create">create</a> operation are valid.</p><p>The method has a chance to work with the container and the identifier before it is  set in the object.</p><p>In this class we set the <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsEncoded">encoded</a> status  <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_ENCODED">flag</a> if provided among the modifiers of the operation.</p></p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../MyWrapper/Definitions/_defines---Flags.inc.php.html#definekFLAG_STATE_ENCODED">kFLAG_STATE_ENCODED</a></li>
				<li><span class="field">access:</span> protected</li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsEncoded">CPersistentObject::_IsEncoded()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_PrepareCreate
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theModifiers</span><span class="var-description">: Create modifiers.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_PrepareLoad" id="_PrepareLoad"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_PrepareLoad</span> (line <span class="line-number">783</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Normalise parameters of a find.</p>
<p class="description"><p>The duty of this method is to ensure that the parameters provided to a  <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_Load">find</a> operation are valid.</p><p>The method should first check if the provided container is of the correct type, then  it should ensure that the identifier is valid.</p><p>We know that the identifier cannot be missing, since this method is only called if  the identifier was provided. We should check that the provided container is of the  correct type. In derived classes you should first handle your custom types, then  let the parent method handle other types.</p><p>Any errors should raise an exception.</p><p>In this class we only support <a href="../../MyWrapper/Persistence/CContainer.html">CContainer</a> containers and the  identifier is not expected to be <em>NULL</em>.</p></p>
	<ul class="tags">
				<li><span class="field">see:</span> kERROR_OPTION_MISSING kERROR_UNSUPPORTED</li>
				<li><span class="field">throws:</span> <a href="../../MyWrapper/Core/CException.html">CException</a></li>
				<li><span class="field">access:</span> protected</li>
				<li><span class="field">usedby:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method__construct">CPersistentObject::__construct()</a></li>
				<li><span class="field">uses:</span> <a href="../../MyWrapper/Persistence/CPersistentObject.html#method_IsEncoded">CPersistentObject::_IsEncoded()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_PrepareLoad
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theModifiers</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theModifiers</span><span class="var-description">: Create modifiers.</span>			</li>
				</ul>
		
			
			<hr class="separator" />
		<div class="notes">Redefined in descendants as:</div>
		<ul class="redefinitions">
					<li>
				<a href="../../MyWrapper/Persistence/CPersistentUnitObject.html#method_PrepareLoad">CPersistentUnitObject::_PrepareLoad()</a>
								: Normalise parameters of a find.
							</li>
				</ul>
	</div>
							<h4>Inherited Methods</h4>
				<a name='inherited_methods'><!-- --></a>	
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../../MyWrapper/Core/CStatusObject.html">CStatusObject</a></span></p>
					<blockquote>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CStatusObject.html#methodoffsetSet">CStatusObject::offsetSet()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CStatusObject.html#methodoffsetUnset">CStatusObject::offsetUnset()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CStatusObject.html#methodStatus">CStatusObject::Status()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CStatusObject.html#method_IsDirty">CStatusObject::_IsDirty()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CStatusObject.html#method_IsInited">CStatusObject::_IsInited()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CStatusObject.html#method_ManageBitField">CStatusObject::_ManageBitField()</a></span><br>
											</blockquote>
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../../MyWrapper/Core/CArrayObject.html">CArrayObject</a></span></p>
					<blockquote>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CArrayObject.html#methodkeys">CArrayObject::keys()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CArrayObject.html#methodoffsetGet">CArrayObject::offsetGet()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CArrayObject.html#methodoffsetSet">CArrayObject::offsetSet()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CArrayObject.html#methodoffsetUnset">CArrayObject::offsetUnset()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CArrayObject.html#methodvalues">CArrayObject::values()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CArrayObject.html#method_ManageArrayOffset">CArrayObject::_ManageArrayOffset()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CArrayObject.html#method_ManageOffset">CArrayObject::_ManageOffset()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../MyWrapper/Core/CArrayObject.html#method_ManageTypedArrayOffset">CArrayObject::_ManageTypedArrayOffset()</a></span><br>
											</blockquote>
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname">ArrayObject (Internal Class)</span></p>
					<blockquote>
													<img src="../../media/images/Constructor.png" alt=" "/>
							<span class="method-name">constructor __construct ( $array )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">append ( $value )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">asort (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">count (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">exchangeArray ( $array )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">getArrayCopy (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">getFlags (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">getIterator (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">getIteratorClass (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">ksort (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">natcasesort (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">natsort (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">offsetExists ( $index )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">offsetGet ( $index )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">offsetSet ( $index, $newval )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">offsetUnset ( $index )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">serialize (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">setFlags ( $flags )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">setIteratorClass ( $iteratorClass )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">uasort ( $cmp_function )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">uksort ( $cmp_function )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">unserialize ( $serialized )</span><br>
											</blockquote>
										
		</div>
	</div>

	<a name="sec-consts"></a>
	<div class="info-box">
		<div class="info-box-title">Class Constants</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendants</a> |
										<a href="#sec-var-summary">Constants</a> (<span class="disabled">details</span>)
						
			
												<a href="#sec-vars">Vars</a>
														| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
										<h4>Inherited Constants</h4>
				<A NAME='inherited_consts'><!-- --></A>
									<p>Inherited from <span class="classname">ArrayObject (Internal Class)</span></p>
					<blockquote>
													<img src="../../media/images/Variable.png" />
							<span class="const-title">
								<span class="const-name">ARRAY_AS_PROPS = 2</span><br>
							</span>
													<img src="../../media/images/Variable.png" />
							<span class="const-title">
								<span class="const-name">STD_PROP_LIST = 1</span><br>
							</span>
											</blockquote> 
										
		</div>
	</div>
	
	<p class="notes" id="credit">
		Documentation generated on Thu, 12 Apr 2012 17:47:30 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>