<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class CMongoObject</title>
			<link rel="stylesheet" href="../../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name"><img src="../../media/images/Class_logo.png"
														alt=" Class"
														title=" Class"
														style="vertical-align: middle"> CMongoObject</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-vars">Vars</a>
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
											<a href="#sec-consts">Constants</a>
						
			</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">MongoDB objects ancestor.</p>
<p class="description"><p>This class is the ancestor of MongoDB database resident objects in this library, it  implements support for <a href="../../Framework/Persistence/CPersistentObject.html#method__construct">instantiation</a> and <a href="../../Framework/Persistence/CPersistentObject.html#methodCommit">storage</a>  of objects into MongoDB collections.</p></p>
		<p class="notes">
			Located in <a class="field" href="_classes---CMongoObject.php.html">/classes/CMongoObject.php</a> (line <span class="field">54</span>)
		</p>
		
				
		<pre>ArrayObject
   |
   --<a href="../../Framework/Core/CArrayObject.html">CArrayObject</a>
      |
      --<a href="../../Framework/Core/CStatusObject.html">CStatusObject</a>
         |
         --<a href="../../Framework/Persistence/CPersistentObject.html">CPersistentObject</a>
            |
            --CMongoObject</pre>
	
			</div>
</div>




	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-consts">Constants</a>
							
															<a href="#sec-vars">Vars</a>
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
												<div class="method-definition">
					<img src="../../media/images/StaticMethod.png" alt=" "/>
											static <span class="method-result">mixed</span>
										<a href="#SerialiseNativeObject" title="details" class="method-name">SerialiseNativeObject</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theElement</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$doConvert</span> = <span class="var-default">NULL</span>])
									</div>
																<div class="method-definition">
					<img src="../../media/images/StaticMethod.png" alt=" "/>
											static <span class="method-result">array</span>
										<a href="#SerialiseObject" title="details" class="method-name">SerialiseObject</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">&$theObject</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$doConvert</span> = <span class="var-default">NULL</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$theClass</span> = <span class="var-default">NULL</span>])
									</div>
																																																																				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#_FindObject" title="details" class="method-name">_FindObject</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_PrepareFind" title="details" class="method-name">_PrepareFind</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_PrepareStore" title="details" class="method-name">_PrepareStore</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_StoreObject" title="details" class="method-name">_StoreObject</a>
											(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>)
									</div>
											</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
												<a href="#sec-consts">Constants</a>
							
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
							<h4>Inherited Variables</h4>
				<A NAME='inherited_vars'><!-- --></A>
									<p>Inherited from <span class="classname"><a href="../../Framework/Core/CStatusObject.html">CStatusObject</a></span></p>
					<blockquote>
													<img src="../../media/images/Variable.png" />
							<span class="var-title">
								<span class="var-name"><a href="../../Framework/Core/CStatusObject.html#var$mStatus">CStatusObject::$mStatus</a></span><br>
							</span>
											</blockquote> 
										
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-vars">Vars</a>
														<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodSerialiseNativeObject" id="SerialiseNativeObject"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/StaticMethod.png" />
		<span class="method-title">static SerialiseNativeObject</span> (line <span class="line-number">362</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Convert native objects.</p>
<p class="description"><p>This method can be used to serialise native objects, or to unserialise a structure  into a native object.</p><p>When serialising:</p><p><ul><li><em>If it encounters an object</em>: It will check if the type corresponds to a
		native object type and convert as follows:
	 <ul><li><em>MongoId</em>: An array structured as follows:
		 <ul><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a></em>: The
                <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoId">kDATA_TYPE_MongoId</a> constant.</li><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_DATA">kTAG_DATA</a></em>: The hex string representation of
                the MongoId.</li></ul></li><li><em>MongoCode</em>: An array structured as follows:
         <ul><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a></em>: The
                <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoCode">kDATA_TYPE_MongoCode</a> constant.</li><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_DATA">kTAG_DATA</a></em>: An array structured as follows:
             <ul><li><em>kOBJ_TYPE_CODE_SRC</em>: The javascript
                    code.</li><li><em>kOBJ_TYPE_CODE_SCOPE</em>: The
                    key/value pairs.</li></ul></li></ul></li><li><em>MongoDate</em>: An array structured as follows:
         <ul><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a></em>: The
                <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_STAMP">kDATA_TYPE_STAMP</a> constant.</li><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_DATA">kTAG_DATA</a></em>: An array structured as follows:
             <ul><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekOBJ_TYPE_STAMP_SEC">kOBJ_TYPE_STAMP_SEC</a></em>: Number of
                    seconds since January 1st, 1970.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekOBJ_TYPE_STAMP_USEC">kOBJ_TYPE_STAMP_USEC</a></em>:
                    Microseconds.</li></ul></li></ul></li><li><em>MongoRegex</em>: An array structured as follows:
         <ul><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a></em>: The
                <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoRegex">kDATA_TYPE_MongoRegex</a> constant.</li><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_DATA">kTAG_DATA</a></em>: The regular expression string.</li></ul></li><li><em>MongoBinData</em>: An array structured as follows:
         <ul><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a></em>: The
                <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_BINARY">kDATA_TYPE_BINARY</a> constant.</li><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_DATA">kTAG_DATA</a></em>: The HEX representation of the
                binary string.</li></ul></li></ul></li></ul></p><p>When unserialising:</p><p><ul><li><em>If it encounters an array</em>: It will check if the array contains the
        <a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a> tag and convert the enclosing array to a scalar as
        follows:
     <ul><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_INT32">kDATA_TYPE_INT32</a> or
            MONGO:MongoInt32</em>: A MongoInt32 object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_INT64">kDATA_TYPE_INT64</a> or
            MONGO:MongoInt64</em>: A MongoInt64 object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoCode">kDATA_TYPE_MongoCode</a></em>: A MongoCode
            object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoRegex">kDATA_TYPE_MongoRegex</a></em>: A MongoRegex
            object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoDate">kDATA_TYPE_MongoDate</a> or
            <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_STAMP">kDATA_TYPE_STAMP</a></em>: A MongoDate object</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_DATE">kDATA_TYPE_DATE</a> or
            <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_TIME">kDATA_TYPE_TIME</a></em>: It will perform the
            strtotime( date string ) and set it to a MongoDate object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_BINARY">kDATA_TYPE_BINARY</a> or
            MONGO:MongoBinData</em>: A MongoBinData object.</li></ul></li></ul></p><p>The method parameters are:</p><p><ul><li><strong>&amp;$theElement</strong>: Reference to the element to encode or decode.</li><li><strong>$doConvert</strong>: This parameter determines the type of conversion, see the
        <a href="../../Framework/Persistence/CMongoObject.html#methodSerialiseObject">SerialiseObject</a> documentation:
     <ul><li><em>TRUE</em>: Serialise, native types will be serialised.</li><li><em>FALSE</em>: Unserialise, serialised elements will be converted to native
            types.</li><li><em>NULL</em>: Don't serialise, only convert array objects to arrays.</li><li><em>NULL</em>: Don't make any conversions.</li></ul></li></ul></p><p>The method will return the converted object.</p></p>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			SerialiseNativeObject
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$theElement</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$doConvert</span> = <span class="var-default">NULL</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$theElement</span><span class="var-description">: Object to convert.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$doConvert</span><span class="var-description">: TRUE means serialise values.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodSerialiseObject" id="SerialiseObject"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/StaticMethod.png" />
		<span class="method-title">static SerialiseObject</span> (line <span class="line-number">184</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Serialise object.</p>
<p class="description"><p>This method can be used to serialise an object in a format suitable for exchange and  perform the reverse action.</p><p>When serialising, the first thing the method will do is convert all embedded array  objects into plain arrays, then it will traverse the object's structure and perform  the following actions:</p><p><ul><li><em>If it encounters an object</em>: It will check if the type corresponds to a
		Mongo type object and convert as follows:
	 <ul><li><em>MongoId</em>: An array structured as follows:
		 <ul><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a></em>: The
                <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoId">kDATA_TYPE_MongoId</a> constant.</li><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_DATA">kTAG_DATA</a></em>: The hex string representation of
                the MongoId.</li></ul></li><li><em>MongoCode</em>: An array structured as follows:
         <ul><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a></em>: The
                <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoCode">kDATA_TYPE_MongoCode</a> constant.</li><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_DATA">kTAG_DATA</a></em>: An array structured as follows:
             <ul><li><em>kOBJ_TYPE_CODE_SRC</em>: The javascript
                    code.</li><li><em>kOBJ_TYPE_CODE_SCOPE</em>: The
                    key/value pairs.</li></ul></li></ul></li><li><em>MongoDate</em>: An array structured as follows:
         <ul><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a></em>: The
                <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_STAMP">kDATA_TYPE_STAMP</a> constant.</li><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_DATA">kTAG_DATA</a></em>: An array structured as follows:
             <ul><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekOBJ_TYPE_STAMP_SEC">kOBJ_TYPE_STAMP_SEC</a></em>: Number of
                    seconds since January 1st, 1970.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekOBJ_TYPE_STAMP_USEC">kOBJ_TYPE_STAMP_USEC</a></em>:
                    Microseconds.</li></ul></li></ul></li><li><em>MongoRegex</em>: An array structured as follows:
         <ul><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a></em>: The
                <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoRegex">kDATA_TYPE_MongoRegex</a> constant.</li><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_DATA">kTAG_DATA</a></em>: The regular expression string.</li></ul></li><li><em>MongoBinData</em>: An array structured as follows:
         <ul><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a></em>: The
                <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_BINARY">kDATA_TYPE_BINARY</a> constant.</li><li><em><a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_DATA">kTAG_DATA</a></em>: The HEX representation of the
                binary string.</li></ul></li></ul></li></ul></p><p>When unserialising, the method will traverse the object's structure and perform  the following actions:</p><p><ul><li><em>If it encounters an array</em>: It will check if the array contains the
        <a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_TYPE">kTAG_TYPE</a> tag and convert the enclosing array to a scalar as
        follows:
     <ul><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoId">kDATA_TYPE_MongoId</a></em>: A MongoId object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoCode">kDATA_TYPE_MongoCode</a></em>: A MongoCode
            object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoRegex">kDATA_TYPE_MongoRegex</a></em>: A MongoRegex
            object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_MongoDate">kDATA_TYPE_MongoDate</a> or
            <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_STAMP">kDATA_TYPE_STAMP</a></em>: A MongoDate object</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_DATE">kDATA_TYPE_DATE</a> or
            <a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_TIME">kDATA_TYPE_TIME</a></em>: It will perform the
            strtotime( date string ) and set it to a MongoDate object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_BINARY">kDATA_TYPE_BINARY</a> or
            MONGO:MongoBinData</em>: A MongoBinData object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_INT32">kDATA_TYPE_INT32</a> or
            MONGO:MongoInt32</em>: A MongoInt32 object.</li><li><em><a href="../../Framework/Definitions/_defines---Types.inc.php.html#definekDATA_TYPE_INT64">kDATA_TYPE_INT64</a> or
            MONGO:MongoInt64</em>: A MongoInt64 object.</li></ul></li></ul></p><p>The method parameters are:</p><p><ul><li><strong>&amp;$theObject</strong>: Reference to object or array.</li><li><strong>$doConvert</strong>: This parameter determines what kind of conversion to perform:
     <ul><li><em>TRUE</em>: Serialise, native types will be serialised.</li><li><em>FALSE</em>: Unserialise, serialised elements will be converted to native
            types.</li><li><em>NULL</em>: Don't serialise, only convert array objects to arrays.</li></ul></li><li><strong>$theClass</strong>: This parameter represents the class of the provided object.
        The parameter is <em>private</em>, so you should not need to set it. It is used
        to determine which <a href="../../Framework/Persistence/CMongoObject.html#methodSerialiseNativeObject">SerialiseNativeObject</a>
        method should be called.</li></ul></p><p>This method expects an object in entry and will return an array at exit.</p></p>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			SerialiseObject
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">&$theObject</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$doConvert</span> = <span class="var-default">NULL</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$theClass</span> = <span class="var-default">NULL</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">&$theObject</span><span class="var-description">: Object or array.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$doConvert</span><span class="var-description">: TRUE means serialise values.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$theClass</span><span class="var-description">: Object class (PRIVATE).</span>			</li>
				</ul>
		
			
	</div>
<a name="method_FindObject" id="_FindObject"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_FindObject</span> (line <span class="line-number">566</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Find object.</p>
<p class="description"><p>We overload this method to load the object from a MongoCollection.</p><p>In this class we assume that the identifier is the object <em>_id</em> and that the  collection is a <em>MongoCollection</em>.</p><p><em>The method expects the identifier to be of the compatible type, that is, if you
 provide a &lt;i&gt;MongoId</em>, the identifier parameter must be already cast to that type;  this applies to all other relevant data types&lt;/i&gt;.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			_FindObject
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../../Framework/Persistence/CPersistentObject.html#method_FindObject">CPersistentObject::_FindObject()</a></dt>
						<dd>Find object.</dd>
					</dl>
			
	</div>
<a name="method_PrepareFind" id="_PrepareFind"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_PrepareFind</span> (line <span class="line-number">609</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Normalise parameters of a find.</p>
<p class="description"><p>The duty of this method is to ensure that the parameters provided to a  <a href="../../Framework/Persistence/CMongoObject.html#method_FindObject">find</a> operation are ready.</p><p>The method should first check if the provided container is of the correct type, then  it should ensure that the identifier is valid.</p><p>Any errors should raise an exception.</p><p>In this class we only support <em>arrays</em> and <em>ArrayObject</em> containers and the  identifier must not be empty.</p></p>
	<ul class="tags">
				<li><span class="field">see:</span> kERROR_OPTION_MISSING kERROR_UNSUPPORTED</li>
				<li><span class="field">throws:</span> CException</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_PrepareFind
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../../Framework/Persistence/CPersistentObject.html#method_PrepareFind">CPersistentObject::_PrepareFind()</a></dt>
						<dd>Normalise parameters of a find.</dd>
					</dl>
			
	</div>
<a name="method_PrepareStore" id="_PrepareStore"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_PrepareStore</span> (line <span class="line-number">666</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Normalise before a store.</p>
<p class="description"><p>The duty of this method is to ensure that the parameters provided to a  <a href="../../Framework/Persistence/CMongoObject.html#method_StoreObject">store</a> operation are ready.</p><p>The method should first check if the provided container is of the correct type, then  it should ensure that the identifier is valid or determine the identifier from the  object's contents.</p><p>Any errors should raise an exception.</p><p>In this class we only support <em>arrays</em> and <em>ArrayObject</em> containers, if  the identifier is provided, we set the object's <a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_ID_NATIVE">ID</a> with it.</p></p>
	<ul class="tags">
				<li><span class="field">see:</span> kERROR_OPTION_MISSING kERROR_UNSUPPORTED</li>
				<li><span class="field">throws:</span> CException</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_PrepareStore
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../../Framework/Persistence/CPersistentObject.html#method_PrepareStore">CPersistentObject::_PrepareStore()</a></dt>
						<dd>Normalise before a store.</dd>
					</dl>
			
	</div>
<a name="method_StoreObject" id="_StoreObject"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_StoreObject</span> (line <span class="line-number">529</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Store object in container.</p>
<p class="description"><p>We overload this method to store objects into MongoDB databases, the method expects  the collection to be a MongoCollection and will ignore the identifier parameter while  saving, but will return the object identifier in it; this means that the object's  identifier <a href="../../Framework/Definitions/_defines---Offsets.inc.php.html#definekTAG_ID_NATIVE">offset</a> must have been managed beforehand.</p><p>This method does not make a distinction for inserting or updating: new records will  be inserted and existing will be updated.</p><p>The collection parameter is expected to be a MongoCollection.</p></p>
	<ul class="tags">
				<li><span class="field">throws:</span> Exception</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_StoreObject
		</span>
					(<span class="var-type">reference</span>&nbsp;<span class="var-name">&$theContainer</span>, <span class="var-type">reference</span>&nbsp;<span class="var-name">&$theIdentifier</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theContainer</span><span class="var-description">: Object container.</span>			</li>
					<li>
				<span class="var-type">reference</span>
				<span class="var-name">&$theIdentifier</span><span class="var-description">: Object identifier.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../../Framework/Persistence/CPersistentObject.html#method_StoreObject">CPersistentObject::_StoreObject()</a></dt>
						<dd>Store object in container.</dd>
					</dl>
			
	</div>
							<h4>Inherited Methods</h4>
				<a name='inherited_methods'><!-- --></a>	
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../../Framework/Persistence/CPersistentObject.html">CPersistentObject</a></span></p>
					<blockquote>
													<img src="../../media/images/Constructor.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Persistence/CPersistentObject.html#method__construct">CPersistentObject::__construct()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Persistence/CPersistentObject.html#methodCommit">CPersistentObject::Commit()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Persistence/CPersistentObject.html#methodUncommit">CPersistentObject::Uncommit()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Persistence/CPersistentObject.html#method_CreateObject">CPersistentObject::_CreateObject()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Persistence/CPersistentObject.html#method_FindObject">CPersistentObject::_FindObject()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Persistence/CPersistentObject.html#method_FinishStore">CPersistentObject::_FinishStore()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Persistence/CPersistentObject.html#method_IsCommitted">CPersistentObject::_IsCommitted()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Persistence/CPersistentObject.html#method_PrepareFind">CPersistentObject::_PrepareFind()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Persistence/CPersistentObject.html#method_PrepareStore">CPersistentObject::_PrepareStore()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Persistence/CPersistentObject.html#method_StoreObject">CPersistentObject::_StoreObject()</a></span><br>
											</blockquote>
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../../Framework/Core/CStatusObject.html">CStatusObject</a></span></p>
					<blockquote>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CStatusObject.html#methodoffsetSet">CStatusObject::offsetSet()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CStatusObject.html#methodoffsetUnset">CStatusObject::offsetUnset()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CStatusObject.html#method_IsDirty">CStatusObject::_IsDirty()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CStatusObject.html#method_IsInited">CStatusObject::_IsInited()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CStatusObject.html#method_ManageBitField">CStatusObject::_ManageBitField()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CStatusObject.html#method_Status">CStatusObject::_Status()</a></span><br>
											</blockquote>
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../../Framework/Core/CArrayObject.html">CArrayObject</a></span></p>
					<blockquote>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CArrayObject.html#methodkeys">CArrayObject::keys()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CArrayObject.html#methodoffsetGet">CArrayObject::offsetGet()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CArrayObject.html#methodoffsetSet">CArrayObject::offsetSet()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CArrayObject.html#methodoffsetUnset">CArrayObject::offsetUnset()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CArrayObject.html#methodvalues">CArrayObject::values()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CArrayObject.html#method_ManageArrayOffset">CArrayObject::_ManageArrayOffset()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CArrayObject.html#method_ManageOffset">CArrayObject::_ManageOffset()</a></span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../../Framework/Core/CArrayObject.html#method_ManageTypedArrayOffset">CArrayObject::_ManageTypedArrayOffset()</a></span><br>
											</blockquote>
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname">ArrayObject (Internal Class)</span></p>
					<blockquote>
													<img src="../../media/images/Constructor.png" alt=" "/>
							<span class="method-name">constructor __construct ( $array )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">append ( $value )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">asort (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">count (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">exchangeArray ( $array )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">getArrayCopy (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">getFlags (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">getIterator (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">getIteratorClass (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">ksort (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">natcasesort (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">natsort (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">offsetExists ( $index )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">offsetGet ( $index )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">offsetSet ( $index, $newval )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">offsetUnset ( $index )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">serialize (  )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">setFlags ( $flags )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">setIteratorClass ( $iteratorClass )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">uasort ( $cmp_function )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">uksort ( $cmp_function )</span><br>
													<img src="../../media/images/Method.png" alt=" "/>
							<span class="method-name">unserialize ( $serialized )</span><br>
											</blockquote>
										
		</div>
	</div>

	<a name="sec-consts"></a>
	<div class="info-box">
		<div class="info-box-title">Class Constants</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Constants</a> (<span class="disabled">details</span>)
						
			
												<a href="#sec-vars">Vars</a>
														| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
										<h4>Inherited Constants</h4>
				<A NAME='inherited_consts'><!-- --></A>
									<p>Inherited from <span class="classname">ArrayObject (Internal Class)</span></p>
					<blockquote>
													<img src="../../media/images/Variable.png" />
							<span class="const-title">
								<span class="const-name">ARRAY_AS_PROPS = 2</span><br>
							</span>
													<img src="../../media/images/Variable.png" />
							<span class="const-title">
								<span class="const-name">STD_PROP_LIST = 1</span><br>
							</span>
											</blockquote> 
										
		</div>
	</div>
	
	<p class="notes" id="credit">
		Documentation generated on Wed, 14 Mar 2012 19:44:44 +0100 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>