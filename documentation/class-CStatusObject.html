<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.7.0" />

	<title>Class CStatusObject | MyWrapper Reference Documentation</title>

	<script type="text/javascript" src="resources/combined.js?496895167"></script>
	<script type="text/javascript" src="elementlist.js?8330787"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?1567499433" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li class="active main"><a href="package-MyWrapper.html">MyWrapper<span></span></a>
						<ul>
				<li class="main"><a href="package-MyWrapper.Data.html">Data</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Entities.html">Entities</a>
						</li>
				<li class="active main"><a href="package-MyWrapper.Framework.html">Framework</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Ontology.html">Ontology</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Persistence.html">Persistence</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Session.html">Session</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Traits.html">Traits</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Wrappers.html">Wrappers</a>
						</li>
							</ul></li>
				<li><a href="package-None.html">None</a>
						</li>
				<li><a href="package-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-CArrayObject.html">CArrayObject</a></li>
				<li><a href="class-CAttribute.html">CAttribute</a></li>
				<li><a href="class-CCodedUnitObject.html">CCodedUnitObject</a></li>
				<li><a href="class-CDataType.html">CDataType</a></li>
				<li><a href="class-CDataTypeBinary.html">CDataTypeBinary</a></li>
				<li><a href="class-CDataTypeInt32.html">CDataTypeInt32</a></li>
				<li><a href="class-CDataTypeInt64.html">CDataTypeInt64</a></li>
				<li><a href="class-CDataTypeMongoCode.html">CDataTypeMongoCode</a></li>
				<li><a href="class-CDataTypeMongoId.html">CDataTypeMongoId</a></li>
				<li><a href="class-CDataTypeRegex.html">CDataTypeRegex</a></li>
				<li><a href="class-CDataTypeStamp.html">CDataTypeStamp</a></li>
				<li><a href="class-CObject.html">CObject</a></li>
				<li class="active"><a href="class-CStatusObject.html">CStatusObject</a></li>
			</ul>



			<h3>Exceptions</h3>
			<ul>
				<li><a href="class-CException.html">CException</a></li>
			</ul>


		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-MyWrapper.Framework.html" title="Summary of MyWrapper\Framework"><span>Package</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class CStatusObject</h1>


	<div class="description">
	
<p>Status object.</p>

<p>This class represents the ancestor of classes that must keep track of states
or status.</p>

<p>The status is recorded in a $mStatus property that does not belong to
the object's array data store. The data member consists of a 4 byte bit field in
which the first 31 elements are used to record on/off states.</p>

<p><i>Note: we only use the first 31 bits because at this time PHP does not
support 64 bit integers and changing the last bit usually results in inversing
the other bits.</i></p>

<p>The class manages these states through a protected interface:</p>

<ul>
	<li><b>_IsInited() _IsInited</b>: This state indicates that an object
	has been initialised to a kFLAG_STATE_INITED state that allows it to be
	operated at least to a minimum extent. Objects that are not in this state may
	raise kERROR_NOT_INITED exceptions when required resources cannot be
	found. By default objects are instantiated with this status <i>off</i>.</li>

	<li><b>_IsDirty() _IsDirty</b>: This kFLAG_STATE_DIRTY status is
	generally set each time a change is made to the object's persistent data. By
	default objects are instantiated with this status <i>off</i>. This class will
	set this state by default when offsetSet() setting or offsetUnset() deleting array store elements.</li>
</ul>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-ArrayObject.html"><span>ArrayObject</span></a>
			
			 implements 
				<a href="class-IteratorAggregate.html"><span>IteratorAggregate</span></a>, 
			
				<a href="class-Traversable.html"><span>Traversable</span></a>, 
			
				<a href="class-ArrayAccess.html"><span>ArrayAccess</span></a>, 
			
				<a href="class-Serializable.html"><span>Serializable</span></a>, 
			
				<a href="class-Countable.html"><span>Countable</span></a>
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-CArrayObject.html"><span>CArrayObject</span></a>
			
			
			
		</dd>
		<dd style="padding-left:60px">
			<img src="resources/inherit.png" alt="Extended by" />
<b><span>CStatusObject</span></b>			
			
			
		</dd>
	</dl>


	<div>
		<h4>Direct known subclasses</h4>
			<a href="class-CPersistentObject.html">CPersistentObject</a>, 
			<a href="class-CQuery.html">CQuery</a>, 
			<a href="class-CWrapper.html">CWrapper</a>, 
			<a href="class-CWrapperClient.html">CWrapperClient</a>
	</div>

	<div>
		<h4>Indirect known subclasses</h4>
			<a href="class-CCodedUnitObject.html">CCodedUnitObject</a>, 
			<a href="class-CContact.html">CContact</a>, 
			<a href="class-CMongoDataWrapper.html">CMongoDataWrapper</a>, 
			<a href="class-CMongoDataWrapperClient.html">CMongoDataWrapperClient</a>, 
			<a href="class-CMongoQuery.html">CMongoQuery</a>, 
			<a href="class-COntologyEdge.html">COntologyEdge</a>, 
			<a href="class-COntologyNode.html">COntologyNode</a>, 
			<a href="class-COntologyTag.html">COntologyTag</a>, 
			<a href="class-COntologyTerm.html">COntologyTerm</a>, 
			<a href="class-COntologyTermObject.html">COntologyTermObject</a>, 
			<a href="class-CPersistentUnitObject.html">CPersistentUnitObject</a>, 
			<a href="class-CRelatedUnitObject.html">CRelatedUnitObject</a>, 
			<a href="class-CDataset.html">CDataset</a>, 
			<a href="class-CUser.html">CUser</a>, 
			<a href="class-CWarehouseWrapper.html">CWarehouseWrapper</a>, 
			<a href="class-CWarehouseWrapperClient.html">CWarehouseWrapperClient</a>, 
			<a href="class-CDataWrapper.html">CDataWrapper</a>, 
			<a href="class-CDataWrapperClient.html">CDataWrapperClient</a>, 
			<a href="class-CEntity.html">CEntity</a>, 
			<a href="class-CFAOInstitute.html">CFAOInstitute</a>, 
			<a href="class-CGraphEdge.html">CGraphEdge</a>, 
			<a href="class-CGraphNode.html">CGraphNode</a>, 
			<a href="class-CInstitute.html">CInstitute</a>
	</div>





	<div class="info">
		
		
		
		<b>Package:</b> <a href="package-MyWrapper.html">MyWrapper</a>\<a href="package-MyWrapper.Framework.html">Framework</a><br />

				<b>Author:</b>
				Milko A. Škofič &lt;<a
href="mailto:m.skofic&#64;cgiar.org">m.skofic&#64;<!---->cgiar.org</a>&gt;<br />
		<b>Located at</b> <a href="source-class-CStatusObject.html#29" title="Go to source code">CStatusObject.php</a><br />
	</div>


	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="offsetSet" id="_offsetSet">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_offsetSet">#</a>
		<code><a href="source-class-CStatusObject.html#85" title="Go to source code">offsetSet</a>( <span>string <var>$theOffset</var></span>, <span>string|null <var>$theValue</var></span> )</code>

		<div class="description short">
			
<p>Set a value for a given offset.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Set a value for a given offset.</p>

<p>We override this method to handle the _IsDirty() dirty kFLAG_STATE_DIRTY flag: on offset value changes we set the state on.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theOffset</var></dt>
					<dd><code>string</code><br> Offset.</dd>
					<dt><var>$theValue</var></dt>
					<dd><code>string|null</code><br> Value to set at offset.</dd>
				</dl></div>



				<h4>See</h4>
				<div class="list">
						kFLAG_STATE_DIRTY<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CStatusObject.html#_">CStatusObject::_IsDirty()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CArrayObject.html#_">CArrayObject::offsetSet</a></code></div>

				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-ArrayAccess.html#_">ArrayAccess::offsetSet</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="offsetUnset" id="_offsetUnset">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_offsetUnset">#</a>
		<code><a href="source-class-CStatusObject.html#120" title="Go to source code">offsetUnset</a>( <span>string <var>$theOffset</var></span> )</code>

		<div class="description short">
			
<p>Reset a value for a given offset.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Reset a value for a given offset.</p>

<p>We override this method to handle the _IsDirty() dirty kFLAG_STATE_DIRTY flag: on offset value changes we set the state on.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theOffset</var></dt>
					<dd><code>string</code><br> Offset.</dd>
				</dl></div>



				<h4>See</h4>
				<div class="list">
						kFLAG_STATE_DIRTY<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CStatusObject.html#_">CStatusObject::_IsDirty()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CArrayObject.html#_">CArrayObject::offsetUnset</a></code></div>

				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-ArrayAccess.html#_">ArrayAccess::offsetUnset</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="Status" id="_Status">

		<td class="attributes"><code>
			 public 
			bitfield
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_Status">#</a>
		<code><a href="source-class-CStatusObject.html#163" title="Go to source code">Status</a>( <span>null|false|bitfield <var>$theState</var> = <span class="php-keyword1">NULL</span> </span> )</code>

		<div class="description short">
			
<p>Set or retrieve the object status.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Set or retrieve the object status.</p>

<p>This method can be used to manage the status bitfield as a whole, allowing to
set and retrieve the whole set of states.</p>

<p>The parameter can take the following values:</p>

<ul>
	<li><i>NULL</i>: The method will return the current object's states
	bitfield.</li>

	<li><i>FALSE</i>: If this value is passed, the method will reset the object's
	status by settig it to the kFLAG_DEFAULT default value.</li>

	<li><i>other</i>: In this case the parameter will be interpreted as a 31 bits
	bit-field value and the data member will be replaced with it.</li>
</ul>

<p>In all cases the method will return the status <i>after</i> it was eventually
modified.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theState</var></dt>
					<dd><code>null|false|bitfield</code><br> NULL, FALSE or new status.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>bitfield</code><br />
				</div>


				<h4>See</h4>
				<div class="list">
						kFLAG_DEFAULT_MASK<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CStatusObject.html#_">CStatusObject::_ManageBitField()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="_IsInited" id="__IsInited">

		<td class="attributes"><code>
			 protected 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__IsInited">#</a>
		<code><a href="source-class-CStatusObject.html#213" title="Go to source code">_IsInited</a>( <span>mixed <var>$theState</var> = <span class="php-keyword1">NULL</span> </span> )</code>

		<div class="description short">
			
<p>Manage inited status.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Manage inited status.</p>

<p>This method can be used to get or set the object's inited state.</p>

<p>An object becomes inited when it has all the required elements necessary for
it to be correctly used or persistently stored. Such a state indicates that at
least the minimum required information was initialised in the object.</p>

<p>The counterpart state indicates that the object still lacks the necessary
elements to successfully operate the object.</p>

<p>This method operates by setting or clearing the kFLAG_STATE_INITED
inited Status() status flag.</p>

<p>The method features a single parameter:</p>

<ul>
	<li><i>NULL</i>: The method will return <i>TRUE</i> if the object is this state,
	or <i>FALSE</i> if the object is not in this state.</li>

	<li><i>TRUE</i>: The method will set the object to this state.</li>

	<li><i>FALSE</i>: The method will reset this state.</li>
</ul>

<p>In all cases the method will return the state <i>after</i> it was eventually
modified.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theState</var></dt>
					<dd><code>mixed</code><br> TRUE, FALSE or NULL.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br />
				</div>


				<h4>See</h4>
				<div class="list">
						kFLAG_STATE_INITED<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CStatusObject.html#_">CStatusObject::_ManageBitField()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="_IsDirty" id="__IsDirty">

		<td class="attributes"><code>
			 protected 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__IsDirty">#</a>
		<code><a href="source-class-CStatusObject.html#262" title="Go to source code">_IsDirty</a>( <span>mixed <var>$theState</var> = <span class="php-keyword1">NULL</span> </span> )</code>

		<div class="description short">
			
<p>Manage dirty status.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Manage dirty status.</p>

<p>This method can be used to get or set the object's dirty state.</p>

<p>A dirty object is one that was modified since the last time this state was
probed. In general, this state should be set whenever the persistent properties
of the object are modified.</p>

<p>In this class we automatically set this state when offsetSet()
setting or offsetUnset() deleting array store elements.</p>

<p>The method features a single parameter:</p>

<ul>
	<li><i>NULL</i>: The method will return <i>TRUE</i> if the object is dirty, or
	<i>FALSE</i> if the object is _IsClean() clean.</li>

	<li><i>TRUE</i>: The method will set the object to dirty.</li>

	<li><i>FALSE</i>: The method will set the object to _IsClean()
	clean.</li>
</ul>

<p>In all cases the method will return the state <i>after</i> it was eventually
modified.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theState</var></dt>
					<dd><code>mixed</code><br> TRUE, FALSE or NULL.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br />
				</div>


				<h4>See</h4>
				<div class="list">
						kFLAG_STATE_DIRTY<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CStatusObject.html#_">CStatusObject::_ManageBitField()</a></code></code> <br />
				</div>
				<h4>Used by</h4>
				<div class="list">
						<code><code><a href="class-CStatusObject.html#_">CStatusObject::offsetSet()</a></code></code> <br />
						<code><code><a href="class-CStatusObject.html#_">CStatusObject::offsetUnset()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="_ManageBitField" id="__ManageBitField">

		<td class="attributes"><code>
			 protected 
			bitfield
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__ManageBitField">#</a>
		<code><a href="source-class-CStatusObject.html#317" title="Go to source code">_ManageBitField</a>( <span>reference <var>&amp; $theField</var></span>, <span>bitfield <var>$theMask</var></span>, <span>mixed <var>$theState</var> = <span class="php-keyword1">NULL</span> </span> )</code>

		<div class="description short">
			
<p>Manage bit-field property.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Manage bit-field property.</p>

<p>This method can be used to manage a bitfield property, it accepts the
following parameters:</p>

<ul>
	<li><b>&amp;$theField</b>: Reference to the bit-field property.</li>

	<li><b>$theMask</b>: Bit-field mask.</li>

	<li><b>$theState</b>: State or operator:
		<ul>
			<li><i>NULL</i>: Return the current value masked by the next parameter.</li>

			<li><i>FALSE</i>: Reset the current value using the next parameter as the
			mask.</li>

			<li><i>other</i>: Set the current value to this one, masking the first 31
			bits.</li>
		</ul>
	</li>
</ul>

<p>In all cases the method will return the status <i>after</i> it was eventually
modified.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theField</var></dt>
					<dd><code>reference</code><br>&amp;$theField Bit-field reference.</dd>
					<dt><var>$theMask</var></dt>
					<dd><code>bitfield</code><br> Bit-field mask.</dd>
					<dt><var>$theState</var></dt>
					<dd><code>mixed</code><br> Value or operator.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>bitfield</code><br />
				</div>


				<h4>See</h4>
				<div class="list">
						kFLAG_DEFAULT_MASK<br />
				</div>
				<h4>Used by</h4>
				<div class="list">
						<code><code><a href="class-CStatusObject.html#_">CStatusObject::Status()</a></code></code> <br />
						<code><code><a href="class-CStatusObject.html#_">CStatusObject::_IsInited()</a></code></code> <br />
						<code><code><a href="class-CStatusObject.html#_">CStatusObject::_IsDirty()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-CArrayObject.html#methods">CArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-CArrayObject.html#_">keys()</a>, 
			<a href="class-CArrayObject.html#_">offsetGet()</a>, 
			<a href="class-CArrayObject.html#_">values()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-ArrayObject.html#methods">ArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-ArrayObject.html#_">__construct()</a>, 
			<a href="class-ArrayObject.html#_">append()</a>, 
			<a href="class-ArrayObject.html#_">asort()</a>, 
			<a href="class-ArrayObject.html#_">count()</a>, 
			<a href="class-ArrayObject.html#_">exchangeArray()</a>, 
			<a href="class-ArrayObject.html#_">getArrayCopy()</a>, 
			<a href="class-ArrayObject.html#_">getFlags()</a>, 
			<a href="class-ArrayObject.html#_">getIterator()</a>, 
			<a href="class-ArrayObject.html#_">getIteratorClass()</a>, 
			<a href="class-ArrayObject.html#_">ksort()</a>, 
			<a href="class-ArrayObject.html#_">natcasesort()</a>, 
			<a href="class-ArrayObject.html#_">natsort()</a>, 
			<a href="class-ArrayObject.html#_">offsetExists()</a>, 
			<a href="class-ArrayObject.html#_">serialize()</a>, 
			<a href="class-ArrayObject.html#_">setFlags()</a>, 
			<a href="class-ArrayObject.html#_">setIteratorClass()</a>, 
			<a href="class-ArrayObject.html#_">uasort()</a>, 
			<a href="class-ArrayObject.html#_">uksort()</a>, 
			<a href="class-ArrayObject.html#_">unserialize()</a>
		</code></td>
	</tr>
	</table>




	<table class="summary inherited">
	<caption>Constants inherited from <a href="class-ArrayObject.html#constants">ArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-ArrayObject.html#ARRAY_AS_PROPS"><b>ARRAY_AS_PROPS</b></a>, 
			<a href="class-ArrayObject.html#STD_PROP_LIST"><b>STD_PROP_LIST</b></a>
		</code></td>
	</tr>
	</table>


	<table class="summary" id="properties">
	<caption>Properties summary</caption>
	<tr data-order="mStatus" id="$mStatus">

		<td class="attributes"><code>
			protected 
			bitfield
		</code></td>

		<td class="name">
				<a href="source-class-CStatusObject.html#62" title="Go to source code"><var>$mStatus</var></a>
		</td>
		<td class="value"><code>kFLAG_DEFAULT</code></td>
		<td class="description"><div>
			<a href="#$mStatus" class="anchor">#</a>

			<div class="description short">
				
<p>Object status.</p>

			</div>

			<div class="description detailed hidden">
				
<p>Object status.</p>

<p>This data member is a bitfield that holds the object status.</p>


			</div>
		</div></td>
	</tr>
	</table>



</div>

	<div id="footer">
		MyWrapper Reference Documentation API documentation generated by <a href="http://apigen.org">ApiGen 2.7.0</a>
	</div>
</div>
</div>
</body>
</html>
